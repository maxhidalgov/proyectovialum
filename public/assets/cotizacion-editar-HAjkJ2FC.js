import{a5 as Ne,a6 as Re,ak as Be,r as h,au as ee,a7 as me,W as D,al as Oe,av as Le,w as ne,a9 as $e,b as i,p as L,aa as Ue,aw as ye,ax as Ce,ay as Ke,F as K,Y as re,az as He,aA as Je,aB as qe,s as F,aC as We,i as Ge,at as I,D as Ye,f as pe,e as v,j as Qe,o as T,c as $,t as B,a2 as fe,a1 as Xe,l as ke,h as Ze,d as we}from"./index-DSpdjK4Q.js";import eo from"./VentanaForm-5Z4U7veh.js";import oo from"./AgregarVentanaModal-I-hCpz0z.js";import{d as ao}from"./debounce-mFUTGwKc.js";import{V as to}from"./VContainer-lLQXYt9N.js";import{V as Se,b as xe}from"./VCard-DD3VMs3y.js";import{V as ze}from"./VSpacer-BRiSNnp1.js";import{V as lo}from"./VCardText-CB02Z-DT.js";import{V as io}from"./VForm-3Cq6oERa.js";import{V as Ae,a as U}from"./VRow-B5MPFBPQ.js";import{u as no,m as ro,a as uo,V as so}from"./VSelect-V_XHzyal.js";import{u as co,V as Ve,m as vo}from"./VTextField-B2Oyrwcs.js";import{u as mo,m as po,V as fo}from"./VDataTable-6AP4BVMc.js";import{f as _o}from"./forwardRefs-DWGaNmQL.js";import{u as Vo,V as go,a as Fe}from"./VList-Bu_21Wxr.js";import{m as ho}from"./index-DB-2EOUy.js";import{V as bo}from"./VMenu-DCFpGudB.js";import{V as yo}from"./VCheckboxBtn-CgRL2_y5.js";import{V as Co}from"./VAvatar-wQDiyjur.js";import{V as ge}from"./VChip-B0f8PvnB.js";import{V as ko}from"./VTextarea-6LHNy2Un.js";import{V as _e}from"./VAlert-kMwHiF9I.js";import"./VDialog-Nf3pyX3B.js";import"./VOverlay-D_v1GgS9.js";import"./_commonjsHelpers-Cpj98o6Y.js";/* empty css              */import"./VImg-BIVIgcNF.js";import"./VDivider-vxdHBkin.js";function wo(a,k,u){if(k==null)return a;if(Array.isArray(k))throw new Error("Multiple matches is not implemented");return typeof k=="number"&&~k?i(K,null,[i("span",{class:"v-autocomplete__unmask"},[a.substr(0,k)]),i("span",{class:"v-autocomplete__mask"},[a.substr(k,u)]),i("span",{class:"v-autocomplete__unmask"},[a.substr(k+u)])]):a}const So=Re({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...po({filterKeys:["title"]}),...ro(),...Ue(vo({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ho({transition:!1})},"VAutocomplete"),xo=Ne()({name:"VAutocomplete",props:So(),emits:{"update:focused":a=>!0,"update:search":a=>!0,"update:modelValue":a=>!0,"update:menu":a=>!0},setup(a,k){let{slots:u}=k;const{t:H}=Be(),w=h(),z=ee(!1),P=ee(!0),O=ee(!1),J=h(),q=h(),W=me(a,"menu"),V=D({get:()=>W.value,set:o=>{var r;W.value&&!o&&((r=J.value)!=null&&r.Œ®openChildren.size)||(W.value=o)}}),t=ee(-1),ue=D(()=>{var o;return(o=w.value)==null?void 0:o.color}),oe=D(()=>V.value?a.closeText:a.openText),{items:ae,transformIn:G,transformOut:Y}=Vo(a),{textColorClasses:Q,textColorStyles:E}=Oe(ue),f=me(a,"search",""),s=me(a,"modelValue",[],o=>G(o===null?[null]:Le(o)),o=>{const r=Y(o);return a.multiple?r:r[0]??null}),se=D(()=>typeof a.counterValue=="function"?a.counterValue(s.value):typeof a.counterValue=="number"?a.counterValue:s.value.length),d=co(a),{filteredItems:e,getMatches:n}=mo(a,ae,()=>P.value?"":f.value),l=D(()=>a.hideSelected?e.value.filter(o=>!s.value.some(r=>r.value===o.value)):e.value),p=D(()=>!!(a.chips||u.chip)),b=D(()=>p.value||!!u.selection),de=D(()=>s.value.map(o=>o.props.value)),X=D(()=>{var r;return(a.autoSelectFirst===!0||a.autoSelectFirst==="exact"&&f.value===((r=l.value[0])==null?void 0:r.title))&&l.value.length>0&&!P.value&&!O.value}),Z=D(()=>a.hideNoData&&!l.value.length||d.isReadonly.value||d.isDisabled.value),j=h(),m=no(j,w);function M(o){a.openOnClear&&(V.value=!0),f.value=""}function A(){Z.value||(V.value=!0)}function te(o){Z.value||(z.value&&(o.preventDefault(),o.stopPropagation()),V.value=!V.value)}function ce(o){var r;We(o)&&((r=w.value)==null||r.focus())}function Pe(o){var c,_,S;if(d.isReadonly.value)return;const r=w.value.selectionStart,g=s.value.length;if((t.value>-1||["Enter","ArrowDown","ArrowUp"].includes(o.key))&&o.preventDefault(),["Enter","ArrowDown"].includes(o.key)&&(V.value=!0),["Escape"].includes(o.key)&&(V.value=!1),X.value&&["Enter","Tab"].includes(o.key)&&!s.value.some(y=>{let{value:C}=y;return C===l.value[0].value})&&N(l.value[0]),o.key==="ArrowDown"&&X.value&&((c=j.value)==null||c.focus("next")),["Backspace","Delete"].includes(o.key)){if(!a.multiple&&b.value&&s.value.length>0&&!f.value)return N(s.value[0],!1);if(~t.value){const y=t.value;N(s.value[t.value],!1),t.value=y>=g-1?g-2:y}else o.key==="Backspace"&&!f.value&&(t.value=g-1)}if(a.multiple){if(o.key==="ArrowLeft"){if(t.value<0&&r>0)return;const y=t.value>-1?t.value-1:g-1;s.value[y]?t.value=y:(t.value=-1,w.value.setSelectionRange((_=f.value)==null?void 0:_.length,(S=f.value)==null?void 0:S.length))}if(o.key==="ArrowRight"){if(t.value<0)return;const y=t.value+1;s.value[y]?t.value=y:(t.value=-1,w.value.setSelectionRange(0,0))}}}function De(o){if(ye(w.value,":autofill")||ye(w.value,":-webkit-autofill")){const r=ae.value.find(g=>g.title===o.target.value);r&&N(r)}}function Ie(){var o;a.eager&&((o=q.value)==null||o.calculateVisibleItems())}function je(){var o;z.value&&(P.value=!0,(o=w.value)==null||o.focus())}function Me(o){z.value=!0,setTimeout(()=>{O.value=!0})}function Te(o){O.value=!1}function Ee(o){(o==null||o===""&&!a.multiple&&!b.value)&&(s.value=[])}const ve=ee(!1);function N(o){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!o||o.props.disabled))if(a.multiple){const g=s.value.findIndex(_=>a.valueComparator(_.value,o.value)),c=r??!~g;if(~g){const _=c?[...s.value,o]:[...s.value];_.splice(g,1),s.value=_}else c&&(s.value=[...s.value,o]);a.clearOnSelect&&(f.value="")}else{const g=r!==!1;s.value=g?[o]:[],f.value=g&&!b.value?o.title:"",Ce(()=>{V.value=!1,P.value=!0})}}return ne(z,(o,r)=>{var g;o!==r&&(o?(ve.value=!0,f.value=a.multiple||b.value?"":String(((g=s.value.at(-1))==null?void 0:g.props.title)??""),P.value=!0,Ce(()=>ve.value=!1)):(!a.multiple&&f.value==null&&(s.value=[]),V.value=!1,s.value.some(c=>{let{title:_}=c;return _===f.value})||(f.value=""),t.value=-1))}),ne(f,o=>{!z.value||ve.value||(o&&(V.value=!0),P.value=!o)}),ne(V,()=>{if(!a.hideSelected&&V.value&&s.value.length){const o=l.value.findIndex(r=>s.value.some(g=>r.value===g.value));Ke&&window.requestAnimationFrame(()=>{var r;o>=0&&((r=q.value)==null||r.scrollToIndex(o))})}}),ne(()=>a.items,(o,r)=>{V.value||z.value&&!r.length&&o.length&&(V.value=!0)}),$e(()=>{const o=!!(!a.hideNoData||l.value.length||u["prepend-item"]||u["append-item"]||u["no-data"]),r=s.value.length>0,g=Ve.filterProps(a);return i(Ve,L({ref:w},g,{modelValue:f.value,"onUpdate:modelValue":[c=>f.value=c,Ee],focused:z.value,"onUpdate:focused":c=>z.value=c,validationValue:s.externalValue,counterValue:se.value,dirty:r,onChange:De,class:["v-autocomplete",`v-autocomplete--${a.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":V.value,"v-autocomplete--chips":!!a.chips,"v-autocomplete--selection-slot":!!b.value,"v-autocomplete--selecting-index":t.value>-1},a.class],style:a.style,readonly:d.isReadonly.value,placeholder:r?void 0:a.placeholder,"onClick:clear":M,"onMousedown:control":A,onKeydown:Pe}),{...u,default:()=>i(K,null,[i(bo,L({ref:J,modelValue:V.value,"onUpdate:modelValue":c=>V.value=c,activator:"parent",contentClass:"v-autocomplete__content",disabled:Z.value,eager:a.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:a.transition,onAfterEnter:Ie,onAfterLeave:je},a.menuProps),{default:()=>[o&&i(go,L({ref:j,selected:de.value,selectStrategy:a.multiple?"independent":"single-independent",onMousedown:c=>c.preventDefault(),onKeydown:ce,onFocusin:Me,onFocusout:Te,tabindex:"-1","aria-live":"polite",color:a.itemColor??a.color},m,a.listProps),{default:()=>{var c,_,S;return[(c=u["prepend-item"])==null?void 0:c.call(u),!l.value.length&&!a.hideNoData&&(((_=u["no-data"])==null?void 0:_.call(u))??i(Fe,{title:H(a.noDataText)},null)),i(uo,{ref:q,renderless:!0,items:l.value},{default:y=>{var be;let{item:C,index:R,itemRef:x}=y;const he=L(C.props,{ref:x,key:R,active:X.value&&R===0?!0:void 0,onClick:()=>N(C,null)});return((be=u.item)==null?void 0:be.call(u,{item:C,index:R,props:he}))??i(Fe,L(he,{role:"option"}),{prepend:le=>{let{isSelected:ie}=le;return i(K,null,[a.multiple&&!a.hideSelected?i(yo,{key:C.value,modelValue:ie,ripple:!1,tabindex:"-1"},null):void 0,C.props.prependAvatar&&i(Co,{image:C.props.prependAvatar},null),C.props.prependIcon&&i(re,{icon:C.props.prependIcon},null)])},title:()=>{var le,ie;return P.value?C.title:wo(C.title,(le=n(C))==null?void 0:le.title,((ie=f.value)==null?void 0:ie.length)??0)}})}}),(S=u["append-item"])==null?void 0:S.call(u)]}})]}),s.value.map((c,_)=>{function S(x){x.stopPropagation(),x.preventDefault(),N(c,!1)}const y={"onClick:close":S,onKeydown(x){x.key!=="Enter"&&x.key!==" "||(x.preventDefault(),x.stopPropagation(),S(x))},onMousedown(x){x.preventDefault(),x.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},C=p.value?!!u.chip:!!u.selection,R=C?Je(p.value?u.chip({item:c,index:_,props:y}):u.selection({item:c,index:_})):void 0;if(!(C&&!R))return i("div",{key:c.value,class:["v-autocomplete__selection",_===t.value&&["v-autocomplete__selection--selected",Q.value]],style:_===t.value?E.value:{}},[p.value?u.chip?i(qe,{key:"chip-defaults",defaults:{VChip:{closable:a.closableChips,size:"small",text:c.title}}},{default:()=>[R]}):i(ge,L({key:"chip",closable:a.closableChips,size:"small",text:c.title,disabled:c.props.disabled},y),null):R??i("span",{class:"v-autocomplete__selection-text"},[c.title,a.multiple&&_<s.value.length-1&&i("span",{class:"v-autocomplete__selection-comma"},[F(",")])])])})]),"append-inner":function(){var y;for(var c=arguments.length,_=new Array(c),S=0;S<c;S++)_[S]=arguments[S];return i(K,null,[(y=u["append-inner"])==null?void 0:y.call(u,..._),a.menuIcon?i(re,{class:"v-autocomplete__menu-icon",icon:a.menuIcon,onMousedown:te,onClick:He,"aria-label":H(oe.value),title:H(oe.value),tabindex:"-1"},null):void 0])}})}),_o({isFocused:z,isPristine:P,menu:V,search:f,filteredItems:e,select:N},w)}}),zo={key:0},Ao={key:1},Fo={key:0},la={__name:"cotizacion-editar",setup(a){const k=h(!1),u=Ge(),H=Qe(),w=u.query.id;h([]);const z=h([]),P=h(null),O=h([]),J=h([]);h(!1),h(q());function q(){return{tipo_ventana_id:null,ancho:null,alto:null,cantidad:1,color_id:null,tipo_vidrio_id:null,producto_vidrio_proveedor_id:null,hojas_totales:2,hojas_moviles:2,costo:0,precio:0,materiales:[]}}const W=d=>E.value.flatMap(e=>e.colores_por_proveedor.map(n=>({id:n.id,producto_id:e.id,proveedor_id:n.proveedor_id}))).find(e=>e.id===d),V=ao(async(d,e)=>{if(!d.productoVidrio||!d.proveedorVidrio||!d.tipo||!d.ancho||!d.alto){console.warn("‚ö†Ô∏è Payload incompleto para c√°lculo:",d);return}try{console.log("‚û°Ô∏è Enviando a /api/cotizador/calcular-materiales:",d);const n=await I.post("/api/cotizador/calcular-materiales",d);console.log("‚úÖ Respuesta del backend:",n.data);const l=e.cantidad||1;e.costo_total_unitario=n.data.costo_unitario,e.costo_total=n.data.costo_unitario*l,e.precio_unitario=Math.ceil(n.data.costo_unitario/(1-.45)),e.precio=e.precio_unitario*l,e.materiales=n.data.materiales??[],t.value.ventanas=[...t.value.ventanas],console.log("üßÆ Costo asignado:",e.costo),console.log("üßÆ Precio asignado:",e.precio);const p=t.value.ventanas.findIndex(b=>b===e);p!==-1&&(t.value.ventanas[p]={...e})}catch(n){console.error("‚ùå Error al calcular materiales:",n),e.costo=0,e.precio=0,e.materiales=[];const l=t.value.ventanas.findIndex(p=>p===e);l!==-1&&(t.value.ventanas[l]={...e})}},800),t=h({fecha:"",estado_cotizacion_id:null,observaciones:"",ventanas:[]});h(null);const ue=d=>{const e=W(d.producto_vidrio_proveedor_id),n={...d,costo:0,precio:0,materiales:[]};t.value.ventanas.push(n),console.log("üßæ Lista actual de ventanas:",t.value.ventanas);const l={...n,tipo:n.tipo_ventana_id,tipoVidrio:n.tipo_vidrio_id,productoVidrio:e==null?void 0:e.producto_id,proveedorVidrio:e==null?void 0:e.proveedor_id,hojas_moviles:n.tipo_ventana_id===3?n.hojas_moviles:void 0};console.log("‚úÖ Ejecutando recalcularCosto para ventana agregada..."),V(l,n),t.value.ventanas=[...t.value.ventanas],k.value=!1},oe=h(null),ae=[{title:"Tipo de ventana",value:"tipo_ventana_id"},{title:"Ancho (mm)",value:"ancho"},{title:"Alto (mm)",value:"alto"},{title:"Cantidad",value:"cantidad"},{title:"Color",value:"color_id"},{title:"Vidrio",value:"producto_vidrio_proveedor_id"},{title:"Hojas Totales",value:"hojas_totales"},{title:"Hojas M√≥viles",value:"hojas_moviles"},{title:"Costo",value:"costo"},{title:"Precio",value:"precio"}],G=h([]),Y=h([]),Q=h([]),E=h([]),f=D(()=>E.value.flatMap(d=>d.colores_por_proveedor.map(e=>{var n;return{id:e.id,nombre:`${d.nombre} (${((n=e.proveedor)==null?void 0:n.nombre)||"Desconocido"})`,producto_id:d.id,proveedor_id:e.proveedor_id,producto:d,proveedor:e.proveedor}}))),s=()=>{H.push({path:"/cotizaciones"})},se=async()=>{const d=JSON.stringify(P.value),e=JSON.stringify(t.value);if(d===e){alert("No hay cambios para guardar");return}try{console.log("üßæ Payload a guardar:",t.value.ventanas.map(l=>({id:l.id,hojas_totales:l.hojas_totales,hojas_moviles:l.hojas_moviles,tipo_ventana_id:l.tipo_ventana_id})));const n={cliente_id:t.value.cliente_id,fecha:t.value.fecha,estado_cotizacion_id:t.value.estado_cotizacion_id,observaciones:t.value.observaciones,ventanas:t.value.ventanas.map(l=>({id:l.id,tipo_ventana_id:l.tipo_ventana_id,ancho:l.ancho,alto:l.alto,cantidad:l.cantidad||1,color_id:l.color_id,tipo_vidrio_id:l.tipo_vidrio_id,producto_vidrio_proveedor_id:Number(l.producto_vidrio_proveedor_id),costo:l.costo_total||l.costo||0,costo_unitario:l.costo_unitario||0,precio:l.precio||0,precio_unitario:l.precio_unitario||0,hojas_totales:l.tipo_ventana_id===3?l.hojas_totales:null,hojas_moviles:l.tipo_ventana_id===3?l.hojas_moviles:null}))};await I.put(`/api/cotizaciones/${t.value.id}`,n),alert("Cotizaci√≥n actualizada correctamente"),s()}catch(n){console.error("‚ùå Error al guardar cambios:",n),alert("Error al guardar cambios")}};return Ye(async()=>{try{const[d,e,n,l,p,b,de,X]=await Promise.all([I.get(`/api/cotizaciones/${w}`),I.get("/api/tipos_ventana"),I.get("/api/colores"),I.get("/api/tipos_producto"),I.get("/api/productos"),I.get("/api/estados-cotizacion"),I.get("/api/clientes"),I.get("/api/tipos_material")]);E.value=p.data.filter(m=>[1,2].includes(m.tipo_producto_id));const Z=E.value.flatMap(m=>m.colores_por_proveedor.map(M=>{var A;return{id:M.id,nombre:`${m.nombre} (${((A=M.proveedor)==null?void 0:A.nombre)||"Desconocido"})`,producto_id:m.id,proveedor_id:M.proveedor_id,producto:m,proveedor:M.proveedor}})),j=d.data;j.ventanas=(j.ventanas||[]).map(m=>{var te;const M=Number(m.producto_vidrio_proveedor_id),A=Z.find(ce=>ce.id===M);return{...m,hojas_totales:m.hojas_totales??2,hojas_moviles:m.hojas_moviles??2,producto_vidrio_proveedor_id:M,cantidad:m.cantidad||1,tipo_vidrio_id:((te=A==null?void 0:A.producto)==null?void 0:te.tipo_producto_id)??null,producto_vidrio_proveedor:A||null,producto_vidrio_nombre:(A==null?void 0:A.nombre)||"‚Äî"}}),j.ventanas=j.ventanas.map(m=>({...m,original:{tipo_ventana_id:m.tipo_ventana_id,ancho:m.ancho,alto:m.alto,cantidad:m.cantidad||1,color_id:m.color_id,tipo_vidrio_id:m.tipo_vidrio_id,producto_vidrio_proveedor_id:m.producto_vidrio_proveedor_id}})),t.value=j,O.value=de.data,J.value=X.data,P.value=JSON.parse(JSON.stringify(t.value)),G.value=e.data,Y.value=n.data,Q.value=l.data.filter(m=>[1,2].includes(m.id)),z.value=b.data,console.log("üß™ productosVidrioFiltrados:",f.value),console.log("üßæ ventanas:",t.value.ventanas.map(m=>m.producto_vidrio_proveedor_id))}catch(d){console.error("Error al cargar cotizaci√≥n:",d)}}),(d,e)=>(T(),pe(to,null,{default:v(()=>[t.value?(T(),$(K,{key:0},[i(Se,{class:"mb-4"},{default:v(()=>[i(xe,null,{default:v(()=>[F(" Editar Cotizaci√≥n #"+B(t.value.id)+" ",1),i(ze),i(fe,{icon:"",onClick:s},{default:v(()=>[i(re,null,{default:v(()=>e[6]||(e[6]=[F("mdi-arrow-left")])),_:1})]),_:1})]),_:1}),i(lo,null,{default:v(()=>[i(io,{onSubmit:Xe(se,["prevent"]),ref_key:"form",ref:oe},{default:v(()=>[i(Ae,null,{default:v(()=>[i(U,{cols:"12",sm:"6"},{default:v(()=>[i(xo,{modelValue:t.value.cliente_id,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.cliente_id=n),items:O.value,"item-title":"razon_social","item-value":"id",label:"Cliente",clearable:""},null,8,["modelValue","items"])]),_:1}),i(U,{cols:"12",sm:"6"},{default:v(()=>[i(Ve,{modelValue:t.value.fecha,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.fecha=n),label:"Fecha",type:"date"},null,8,["modelValue"])]),_:1}),i(U,{cols:"12",sm:"6"},{default:v(()=>[i(so,{modelValue:t.value.estado_cotizacion_id,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.estado_cotizacion_id=n),items:z.value,"item-value":"id","item-title":"nombre",label:"Estado"},null,8,["modelValue","items"])]),_:1}),i(U,{cols:"12"},{default:v(()=>[i(ko,{modelValue:t.value.observaciones,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.observaciones=n),label:"Observaciones"},null,8,["modelValue"])]),_:1})]),_:1}),i(fe,{type:"submit",color:"primary",class:"mt-4"},{default:v(()=>e[7]||(e[7]=[F("Guardar Cambios")])),_:1})]),_:1},512)]),_:1})]),_:1}),i(Se,null,{default:v(()=>[i(xe,null,{default:v(()=>[e[9]||(e[9]=F(" Ventanas ")),i(ze),t.value.estado_cotizacion_id===1?(T(),pe(fe,{key:0,icon:"",onClick:e[4]||(e[4]=n=>k.value=!0)},{default:v(()=>[i(re,null,{default:v(()=>e[8]||(e[8]=[F("mdi-plus")])),_:1})]),_:1})):ke("",!0)]),_:1}),t.value.estado_cotizacion_id===1?(T(),$("div",zo,[(T(!0),$(K,null,Ze(t.value.ventanas,(n,l)=>(T(),$("div",{key:l,class:"mb-6"},[i(eo,{ventana:n,tiposVentana:G.value,colores:Y.value,tiposVidrio:Q.value,productosVidrio:f.value},null,8,["ventana","tiposVentana","colores","tiposVidrio","productosVidrio"]),i(Ae,{class:"mt-2 px-4"},{default:v(()=>[i(U,{cols:"6"},{default:v(()=>[i(_e,{type:"info",variant:"tonal",color:"blue"},{default:v(()=>{var p,b;return[e[10]||(e[10]=we("strong",null,"Costo:",-1)),F(" $"+B(((b=(p=n.costo)==null?void 0:p.toLocaleString)==null?void 0:b.call(p))||0),1)]}),_:2},1024)]),_:2},1024),i(U,{cols:"6"},{default:v(()=>[i(_e,{type:"success",variant:"tonal",color:"green"},{default:v(()=>{var p,b;return[e[11]||(e[11]=we("strong",null,"Precio:",-1)),F(" $"+B(((b=(p=n.precio)==null?void 0:p.toLocaleString)==null?void 0:b.call(p))||0),1)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))])):(T(),$("div",Ao,[i(fo,{headers:ae,items:t.value.ventanas,"items-per-page":5,class:"elevation-1"},{"item.tipo_ventana_id":v(({item:n})=>{var l;return[F(B(((l=n.tipo_ventana)==null?void 0:l.nombre)||"‚Äî"),1)]}),"item.color_id":v(({item:n})=>[i(ge,{color:"primary",variant:"tonal",size:"small"},{default:v(()=>{var l;return[F(B(((l=n.color_obj)==null?void 0:l.nombre)||"‚Äî"),1)]}),_:2},1024)]),"item.producto_vidrio_proveedor_id":v(({item:n})=>[i(ge,{color:"green",variant:"tonal",size:"small"},{default:v(()=>{var l,p,b;return[F(B(((p=(l=n.producto_vidrio_proveedor)==null?void 0:l.producto)==null?void 0:p.nombre)||"‚Äî")+" ",1),(b=n.producto_vidrio_proveedor)!=null&&b.proveedor?(T(),$("span",Fo," ("+B(n.producto_vidrio_proveedor.proveedor.nombre)+") ",1)):ke("",!0)]}),_:2},1024)]),_:1},8,["items"])]))]),_:1}),i(oo,{modelValue:k.value,"onUpdate:modelValue":e[5]||(e[5]=n=>k.value=n),tiposVentana:G.value,colores:Y.value,materiales:J.value,tiposVidrio:Q.value,productosVidrio:E.value,onAgregar:ue},null,8,["modelValue","tiposVentana","colores","materiales","tiposVidrio","productosVidrio"])],64)):(T(),pe(_e,{key:1,type:"info",variant:"outlined",class:"mt-4"},{default:v(()=>e[12]||(e[12]=[F(" Cargando cotizaci√≥n... ")])),_:1}))]),_:1}))}};export{la as default};
