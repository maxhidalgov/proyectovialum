import{r as ce,X as u,a as K,c as Z,o as f,d as he,b as a,e as r,f as L,m as oe,F as ue,i as Ae,E as aa,w as we,aQ as me,aR as pe,q as Ie,n as Ee,aS as ua,t as xe,v as je,a2 as ra,a3 as Ue,az as na,au as ia}from"./index-Cu3tphjX.js";import{d as va,_ as sa,a as ca,c as da,b as ma}from"./VistaBayWindow-BCQr6ITg.js";import{a as Pe,V as De,r as la,n as oa,_ as pa}from"./VistaVentanaCorredera-C45JHmUM.js";import{a as N,V as re}from"./VRadioGroup-CBucfv4r.js";import{_ as fa}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Te}from"./VDialog-Db0rPBsI.js";import{V as Le,b as Oe,c as Be}from"./VCard-B1AyIHFd.js";import{V as Ne}from"./VDivider-Cq_kmRT3.js";import{V as ha}from"./VForm-CvCneUme.js";import{V as se,a as w}from"./VRow-561BeA05.js";import{V as fe}from"./VSelect-BWCy4kkM.js";import{V as Me}from"./VTextField-aWHR9hJp.js";import{V as qe}from"./VAlert-i_4i1Au_.js";import{V as ga}from"./VDataTable-WIbtfv1u.js";import{V as ba,a as We,b as Fe}from"./VList-BEOL-0y0.js";import{V as Ye}from"./VSpacer-CdM4Gc-D.js";import{V as Va}from"./VCardText-c2SX0qgU.js";import{V as ya}from"./VContainer-BWJRpcfK.js";const xa={style:{"margin-bottom":"10px"}},F=50,ka=60,Re=0,Ge=300,Ma={__name:"VistaVentanaAbatirS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],material:[String,Number],tipoVidrio:[String,Number],productoVidrioProveedor:[String,Number],ladoInicial:{type:String,default:"izquierda",validator:R=>["izquierda","derecha"].includes(R)},direccionApertura:{type:String,default:"interior",validator:R=>["interior","exterior"].includes(R)}},setup(R,{expose:ke}){const s=R,te=ce(s.ladoInicial),T=ce(s.direccionApertura),b={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},A={roble:new Image,nogal:new Image};A.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,A.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const I=u(()=>{var y,k,M;const z=typeof s.colorMarco=="object"?(k=(y=s.colorMarco)==null?void 0:y.nombre)==null?void 0:k.toLowerCase():(M=s.colorMarco)==null?void 0:M.toLowerCase();return b[z]||"#ffffff"});function m(z,y=!1){var M,le;const k=typeof s.colorMarco=="object"?(le=(M=s.colorMarco)==null?void 0:M.nombre)==null?void 0:le.toLowerCase():s.colorMarco.toLowerCase();return["roble","nogal"].includes(k)&&A[k]?{points:z,closed:!0,fillPatternImage:A[k],fillPatternRepeat:"repeat",fillPatternScale:{x:y?.15:.2,y:y?.15:.2},stroke:"black"}:{points:z,closed:!0,fill:I.value,stroke:"black"}}const e=u(()=>{const z=Ge/s.ancho,y=Ge/s.alto;return Math.min(z,y,1)*.9}),d=u(()=>ka*e.value),Q=u(()=>s.ancho*e.value),B=u(()=>s.alto*e.value),ne={width:400,height:400},O=u(()=>m([F,F,F+Q.value,F,F+Q.value-d.value,F+d.value,F+d.value,F+d.value])),E=u(()=>m([F+Q.value,F,F+Q.value,F+B.value,F+Q.value-d.value,F+B.value-d.value,F+Q.value-d.value,F+d.value])),_=u(()=>m([F+Q.value,F+B.value,F,F+B.value,F+d.value,F+B.value-d.value,F+Q.value-d.value,F+B.value-d.value])),t=u(()=>m([F,F+B.value,F,F,F+d.value,F+d.value,F+d.value,F+B.value-d.value])),c=u(()=>({x:F+d.value,y:F+d.value,width:Q.value-d.value*2,height:B.value-d.value*2,fill:"#b3e5fc",stroke:"black"})),n=u(()=>c.value.x+Re*e.value),p=u(()=>c.value.y+Re*e.value),j=u(()=>c.value.width-Re*2*e.value),x=u(()=>c.value.height-Re*2*e.value),$=u(()=>d.value*.8),X=u(()=>m([n.value,p.value,n.value+j.value,p.value,n.value+j.value-$.value,p.value+$.value,n.value+$.value,p.value+$.value],!0)),ve=u(()=>m([n.value+j.value,p.value,n.value+j.value,p.value+x.value,n.value+j.value-$.value,p.value+x.value-$.value,n.value+j.value-$.value,p.value+$.value],!0)),v=u(()=>m([n.value+j.value,p.value+x.value,n.value,p.value+x.value,n.value+$.value,p.value+x.value-$.value,n.value+j.value-$.value,p.value+x.value-$.value],!0)),g=u(()=>m([n.value,p.value+x.value,n.value,p.value,n.value+$.value,p.value+$.value,n.value+$.value,p.value+x.value-$.value],!0)),q=u(()=>te.value==="izquierda"?n.value+j.value-15:n.value+15),C=u(()=>p.value+x.value/2),P=u(()=>te.value==="izquierda"?{points:[n.value+5,p.value+5,n.value+j.value-5,p.value+x.value/2],stroke:"black",dash:[10,5],strokeWidth:2}:{points:[n.value+j.value-5,p.value+5,n.value+5,p.value+x.value/2],stroke:"black",dash:[10,5],strokeWidth:2}),D=u(()=>te.value==="izquierda"?{points:[n.value+5,p.value+x.value-5,n.value+j.value-5,p.value+x.value/2],stroke:"black",dash:[10,5],strokeWidth:2}:{points:[n.value+j.value-5,p.value+x.value-5,n.value+5,p.value+x.value/2],stroke:"black",dash:[10,5],strokeWidth:2}),be=u(()=>Math.min(Math.max(s.ancho/100,20),40)),Ve=u(()=>({x:F+Q.value/2-30,y:F+B.value+10,text:`${s.ancho}mm`,fontSize:be.value,fill:"black"})),_e=u(()=>({x:F-25,y:F+B.value/2,text:`${s.alto}mm`,fontSize:be.value,fill:"black",rotation:-90,offsetX:be.value/2})),ye=u(()=>({x:Ve.value.x,y:Ve.value.y+be.value+5,text:`Apertura ${T.value.charAt(0).toUpperCase()}${T.value.slice(1)}`,fontSize:Math.min(18,be.value*.8),fill:"black"})),ze=ce(null);return ke({exportarImagen:()=>ze.value?ze.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null}),(z,y)=>{const k=K("v-line"),M=K("v-rect"),le=K("v-text"),i=K("v-layer"),l=K("v-stage");return f(),Z("div",null,[he("div",xa,[a(re,{modelValue:te.value,"onUpdate:modelValue":y[0]||(y[0]=o=>te.value=o),row:"",density:"compact",label:"Lado de apertura:"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(re,{modelValue:T.value,"onUpdate:modelValue":y[1]||(y[1]=o=>T.value=o),row:"",density:"compact",label:"Direcci√≥n de apertura:"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),a(l,{ref_key:"stageRef",ref:ze,config:ne},{default:r(()=>[a(i,null,{default:r(()=>[a(k,{config:O.value},null,8,["config"]),a(k,{config:E.value},null,8,["config"]),a(k,{config:_.value},null,8,["config"]),a(k,{config:t.value},null,8,["config"]),a(M,{config:c.value},null,8,["config"]),a(k,{config:X.value},null,8,["config"]),a(k,{config:ve.value},null,8,["config"]),a(k,{config:v.value},null,8,["config"]),a(k,{config:g.value},null,8,["config"]),a(Pe,{x:q.value,y:C.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),a(k,{config:P.value},null,8,["config"]),a(k,{config:D.value},null,8,["config"]),a(le,{config:Ve.value},null,8,["config"]),a(le,{config:_e.value},null,8,["config"]),a(le,{config:ye.value},null,8,["config"])]),_:1})]),_:1},512)])}}},Y=50,Aa=60,_a=80,Je=300,ja={__name:"VistaPuertaS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],ladoApertura:{type:String,default:"izquierda",validator:R=>["izquierda","derecha"].includes(R)},direccionApertura:{type:String,default:"interior",validator:R=>["interior","exterior"].includes(R)},pasoLibre:{type:Boolean,default:!1}},setup(R,{expose:ke}){const s=R;ce(s.ladoApertura);const te={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},T={roble:new Image,nogal:new Image};T.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,T.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const b=u(()=>{var k,M,le;const y=typeof s.colorMarco=="object"?(M=(k=s.colorMarco)==null?void 0:k.nombre)==null?void 0:M.toLowerCase():(le=s.colorMarco)==null?void 0:le.toLowerCase();return te[y]||"#ffffff"});function A(y,k=!1){var le,i;const M=typeof s.colorMarco=="object"?(i=(le=s.colorMarco)==null?void 0:le.nombre)==null?void 0:i.toLowerCase():s.colorMarco.toLowerCase();return["roble","nogal"].includes(M)&&T[M]?{points:y,closed:!0,fillPatternImage:T[M],fillPatternRepeat:"repeat",fillPatternScale:{x:k?.15:.2,y:k?.15:.2},stroke:"black"}:{points:y,closed:!0,fill:b.value,stroke:"black"}}const I=u(()=>{const y=Je/s.ancho,k=Je/s.alto;return Math.min(y,k,1)*.9}),m=u(()=>Aa*I.value),e=u(()=>s.ancho*I.value),d=u(()=>s.alto*I.value),Q=u(()=>A([Y,Y,Y+e.value,Y,Y+e.value-m.value,Y+m.value,Y+m.value,Y+m.value])),B=u(()=>A([Y+e.value,Y,Y+e.value,Y+d.value,Y+e.value-m.value,Y+d.value-(s.pasoLibre?0:m.value),Y+e.value-m.value,Y+m.value])),ne=u(()=>A([Y,Y+d.value,Y,Y,Y+m.value,Y+m.value,Y+m.value,Y+d.value-(s.pasoLibre?0:m.value)])),O=u(()=>s.pasoLibre?null:A([Y+e.value,Y+d.value,Y,Y+d.value,Y+m.value,Y+d.value-m.value,Y+e.value-m.value,Y+d.value-m.value])),E=u(()=>{const y=d.value-m.value-(s.pasoLibre?0:m.value),k=Math.max(y,5),M=Math.max(e.value-m.value*2,5);return{x:Y+m.value,y:Y+m.value,width:M,height:k,fill:"#b3e5fc",stroke:"black"}}),_=u(()=>E.value.x),t=u(()=>E.value.y),c=u(()=>E.value.width),n=u(()=>E.value.height),p=u(()=>{const y=_a*I.value,k=m.value*1.15,M=c.value*.45;return Math.min(Math.max(y,k),M)}),j=u(()=>A([_.value,t.value,_.value+c.value,t.value,_.value+c.value-p.value,t.value+p.value,_.value+p.value,t.value+p.value],!0)),x=u(()=>A([_.value+c.value,t.value,_.value+c.value,t.value+n.value,_.value+c.value-p.value,t.value+n.value-p.value,_.value+c.value-p.value,t.value+p.value],!0)),$=u(()=>A([_.value+c.value,t.value+n.value,_.value,t.value+n.value,_.value+p.value,t.value+n.value-p.value,_.value+c.value-p.value,t.value+n.value-p.value],!0)),X=u(()=>A([_.value,t.value+n.value,_.value,t.value,_.value+p.value,t.value+p.value,_.value+p.value,t.value+n.value-p.value],!0)),ve=u(()=>s.ladoApertura==="izquierda"?_.value+c.value-15:_.value+15),v=u(()=>t.value+n.value/2),g=u(()=>s.direccionApertura==="interior"?0:Math.min(Math.max(c.value*.1,8*I.value),25*I.value)),q=u(()=>{const y=s.ladoApertura==="izquierda",k=g.value*(y?-1:1),M=y?_.value:_.value+c.value,le=t.value+8,i=t.value+n.value-8,l=t.value+n.value/2,o=y?_.value+c.value-8:_.value+8,V=M+k;return[{points:[V,le,o,l],stroke:"black",dash:[10,5],strokeWidth:2},{points:[V,i,o,l],stroke:"black",dash:[10,5],strokeWidth:2}]}),C=u(()=>Math.min(Math.max(s.ancho/100,20),40)),P=u(()=>({x:Y+e.value/2-30,y:Y+d.value+10,text:`${s.ancho}mm`,fontSize:C.value,fill:"black"})),D=u(()=>({x:Y-25,y:Y+d.value/2,text:`${s.alto}mm`,fontSize:C.value,fill:"black",rotation:-90,offsetX:C.value/2})),be=u(()=>({x:P.value.x,y:P.value.y+C.value+5,text:`Apertura ${s.direccionApertura.charAt(0).toUpperCase()}${s.direccionApertura.slice(1)}`,fontSize:Math.min(18,C.value*.8),fill:"black"})),Ve=ce(null);ke({exportarImagen:()=>Ve.value?Ve.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null});const ye=u(()=>Math.max(28*I.value,m.value*.45)),ze=u(()=>Math.min(Math.max(140*I.value,30*I.value),n.value*.4));u(()=>2*I.value);const Se=u(()=>s.direccionApertura==="interior"),z=u(()=>{if(!Se.value)return[];let y=n.value>2200?4:3;const k=Math.max(n.value-16*I.value,20);let M=ze.value;M*y>k*.85&&(M=k*.85/y);const le=(k-M*y)/(y+1),i=[];for(let l=0;l<y;l++){const o=t.value+8*I.value+le*(l+1)+M*l,V=s.ladoApertura==="izquierda"?_.value-ye.value/2+2*I.value:_.value+c.value-ye.value/2-2*I.value;i.push({x:V,y:o,width:ye.value,height:M,fill:"#888",stroke:"black",cornerRadius:2})}return i});return(y,k)=>{const M=K("v-line"),le=K("v-rect"),i=K("v-text"),l=K("v-layer"),o=K("v-stage");return f(),Z("div",null,[a(o,{ref_key:"stageRef",ref:Ve,config:{width:400,height:400}},{default:r(()=>[a(l,null,{default:r(()=>[a(M,{config:Q.value},null,8,["config"]),a(M,{config:B.value},null,8,["config"]),a(M,{config:ne.value},null,8,["config"]),O.value?(f(),L(M,{key:0,config:O.value},null,8,["config"])):oe("",!0),a(le,{config:E.value},null,8,["config"]),a(M,{config:j.value},null,8,["config"]),a(M,{config:x.value},null,8,["config"]),a(M,{config:$.value},null,8,["config"]),a(M,{config:X.value},null,8,["config"]),a(Pe,{x:ve.value,y:v.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),(f(!0),Z(ue,null,Ae(q.value,(V,h)=>(f(),L(M,{key:"apertura-"+h,config:V},null,8,["config"]))),128)),(f(!0),Z(ue,null,Ae(z.value,(V,h)=>(f(),L(le,{key:"hinge-"+h,config:V},null,8,["config"]))),128)),a(i,{config:P.value},null,8,["config"]),a(i,{config:D.value},null,8,["config"]),a(i,{config:be.value},null,8,["config"])]),_:1})]),_:1},512)])}}},G=50,za=60,Ca=80,Ke=320,Sa={__name:"VistaMamparaS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],hojaActiva:{type:String,default:"derecha",validator:R=>["izquierda","derecha"].includes(R)},direccionApertura:{type:String,default:"interior",validator:R=>["interior","exterior"].includes(R)},pasoLibre:{type:Boolean,default:!1}},setup(R,{expose:ke}){const s=R,te={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},T={roble:new Image,nogal:new Image};T.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,T.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const b=u(()=>{var H,S,U;const h=typeof s.colorMarco=="object"?(S=(H=s.colorMarco)==null?void 0:H.nombre)==null?void 0:S.toLowerCase():(U=s.colorMarco)==null?void 0:U.toLowerCase();return te[h]||"#ffffff"});function A(h,H=!1){var U,ee,ie;const S=typeof s.colorMarco=="object"?(ee=(U=s.colorMarco)==null?void 0:U.nombre)==null?void 0:ee.toLowerCase():(ie=s.colorMarco)==null?void 0:ie.toLowerCase();return["roble","nogal"].includes(S)&&T[S]?{points:h,closed:!0,fillPatternImage:T[S],fillPatternRepeat:"repeat",fillPatternScale:{x:H?.15:.2,y:H?.15:.2},stroke:"black"}:{points:h,closed:!0,fill:b.value,stroke:"black"}}const I=u(()=>Math.min(Ke/s.ancho,Ke/s.alto,1)*.9),m=u(()=>za*I.value),e=u(()=>s.ancho*I.value),d=u(()=>s.alto*I.value),Q=u(()=>A([G,G,G+e.value,G,G+e.value-m.value,G+m.value,G+m.value,G+m.value])),B=u(()=>A([G+e.value,G,G+e.value,G+d.value,G+e.value-m.value,G+d.value-(s.pasoLibre?0:m.value),G+e.value-m.value,G+m.value])),ne=u(()=>A([G,G+d.value,G,G,G+m.value,G+m.value,G+m.value,G+d.value-(s.pasoLibre?0:m.value)])),O=u(()=>s.pasoLibre?null:A([G+e.value,G+d.value,G,G+d.value,G+m.value,G+d.value-m.value,G+e.value-m.value,G+d.value-m.value])),E=u(()=>{const h=Math.max(e.value-2*m.value,5),H=Math.max(d.value-m.value-(s.pasoLibre?0:m.value),5);return{x:G+m.value,y:G+m.value,width:h,height:H,fill:"#b3e5fc",stroke:"black"}}),_=u(()=>Math.max(6*I.value,m.value*.15)),t=u(()=>{const h=(E.value.width-_.value)/2;return{x:E.value.x,y:E.value.y,w:h,h:E.value.height}}),c=u(()=>{const h=(E.value.width-_.value)/2;return{x:E.value.x+h+_.value,y:E.value.y,w:h,h:E.value.height}}),n=u(()=>{const h=Ca*I.value,H=m.value*1.15,S=Math.min(t.value.w,c.value.w)*.45;return Math.min(Math.max(h,H),S)}),p=u(()=>A([t.value.x,t.value.y,t.value.x+t.value.w,t.value.y,t.value.x+t.value.w-n.value,t.value.y+n.value,t.value.x+n.value,t.value.y+n.value],!0)),j=u(()=>A([t.value.x+t.value.w,t.value.y,t.value.x+t.value.w,t.value.y+t.value.h,t.value.x+t.value.w-n.value,t.value.y+t.value.h-n.value,t.value.x+t.value.w-n.value,t.value.y+n.value],!0)),x=u(()=>A([t.value.x+t.value.w,t.value.y+t.value.h,t.value.x,t.value.y+t.value.h,t.value.x+n.value,t.value.y+t.value.h-n.value,t.value.x+t.value.w-n.value,t.value.y+t.value.h-n.value],!0)),$=u(()=>A([t.value.x,t.value.y+t.value.h,t.value.x,t.value.y,t.value.x+n.value,t.value.y+n.value,t.value.x+n.value,t.value.y+t.value.h-n.value],!0)),X=u(()=>A([c.value.x,c.value.y,c.value.x+c.value.w,c.value.y,c.value.x+c.value.w-n.value,c.value.y+n.value,c.value.x+n.value,c.value.y+n.value],!0)),ve=u(()=>A([c.value.x+c.value.w,c.value.y,c.value.x+c.value.w,c.value.y+c.value.h,c.value.x+c.value.w-n.value,c.value.y+c.value.h-n.value,c.value.x+c.value.w-n.value,c.value.y+n.value],!0)),v=u(()=>A([c.value.x+c.value.w,c.value.y+c.value.h,c.value.x,c.value.y+c.value.h,c.value.x+n.value,c.value.y+c.value.h-n.value,c.value.x+c.value.w-n.value,c.value.y+c.value.h-n.value],!0)),g=u(()=>A([c.value.x,c.value.y+c.value.h,c.value.x,c.value.y,c.value.x+n.value,c.value.y+n.value,c.value.x+n.value,c.value.y+c.value.h-n.value],!0)),q=u(()=>s.hojaActiva==="izquierda"?t.value.x+t.value.w-12:c.value.x+12),C=u(()=>E.value.y+E.value.height/2);function P(h){return s.direccionApertura==="interior"?0:Math.min(Math.max(h.w*.1,8*I.value),25*I.value)}function D(h,H){const S=H==="left",U=P(h)*(S?-1:1),ie=(S?h.x:h.x+h.w)+U,Ce=h.y+h.h/2,de=h.y+8,ge=h.y+h.h-8,ae=S?h.x+h.w-8:h.x+8;return[{points:[ie,de,ae,Ce],stroke:"black",dash:[10,5],strokeWidth:2},{points:[ie,ge,ae,Ce],stroke:"black",dash:[10,5],strokeWidth:2}]}const be=u(()=>D(t.value,"left")),Ve=u(()=>D(c.value,"right")),_e=u(()=>s.direccionApertura==="interior"),ye=u(()=>Math.max(28*I.value,m.value*.45)),ze=u(()=>Math.min(Math.max(140*I.value,30*I.value),Math.min(t.value.h,c.value.h)*.4)),Se=u(()=>2*I.value);function z(h,H){const S=[];let U=h.h>2200*I.value?4:3;const ee=Math.max(h.h-16*I.value,20);let ie=ze.value;ie*U>ee*.85&&(ie=ee*.85/U);const Ce=(ee-ie*U)/(U+1);for(let de=0;de<U;de++){const ge=h.y+8*I.value+Ce*(de+1)+ie*de,ae=H==="left"?h.x-ye.value/2+Se.value:h.x+h.w-ye.value/2-Se.value;S.push({x:ae,y:ge,width:ye.value,height:ie,fill:"#888",stroke:"black",cornerRadius:2})}return S}const y=u(()=>_e.value?z(t.value,"left"):[]),k=u(()=>_e.value?z(c.value,"right"):[]),M=u(()=>Math.min(Math.max(s.ancho/100,20),40)),le=u(()=>({x:G+e.value/2-30,y:G+d.value+10,text:`${s.ancho}mm`,fontSize:M.value,fill:"black"})),i=u(()=>({x:G-25,y:G+d.value/2,text:`${s.alto}mm`,fontSize:M.value,fill:"black",rotation:-90,offsetX:M.value/2})),l=u(()=>({x:le.value.x,y:le.value.y+M.value+5,text:`Apertura ${s.direccionApertura.charAt(0).toUpperCase()}${s.direccionApertura.slice(1)}`,fontSize:Math.min(18,M.value*.8),fill:"black"})),o=ce(null);return ke({exportarImagen:()=>o.value?o.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null}),(h,H)=>{const S=K("v-line"),U=K("v-rect"),ee=K("v-text"),ie=K("v-layer"),Ce=K("v-stage");return f(),Z("div",null,[a(Ce,{ref_key:"stageRef",ref:o,config:{width:420,height:420}},{default:r(()=>[a(ie,null,{default:r(()=>[a(S,{config:Q.value},null,8,["config"]),a(S,{config:B.value},null,8,["config"]),a(S,{config:ne.value},null,8,["config"]),O.value?(f(),L(S,{key:0,config:O.value},null,8,["config"])):oe("",!0),a(U,{config:E.value},null,8,["config"]),a(S,{config:p.value},null,8,["config"]),a(S,{config:j.value},null,8,["config"]),a(S,{config:x.value},null,8,["config"]),a(S,{config:$.value},null,8,["config"]),a(S,{config:X.value},null,8,["config"]),a(S,{config:ve.value},null,8,["config"]),a(S,{config:v.value},null,8,["config"]),a(S,{config:g.value},null,8,["config"]),a(Pe,{x:q.value,y:C.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),(f(!0),Z(ue,null,Ae(be.value,(de,ge)=>(f(),L(S,{key:"apertura-left-"+ge,config:de},null,8,["config"]))),128)),(f(!0),Z(ue,null,Ae(Ve.value,(de,ge)=>(f(),L(S,{key:"apertura-right-"+ge,config:de},null,8,["config"]))),128)),(f(!0),Z(ue,null,Ae(y.value,(de,ge)=>(f(),L(U,{key:"hl-"+ge,config:de},null,8,["config"]))),128)),(f(!0),Z(ue,null,Ae(k.value,(de,ge)=>(f(),L(U,{key:"hr-"+ge,config:de},null,8,["config"]))),128)),a(ee,{config:le.value},null,8,["config"]),a(ee,{config:i.value},null,8,["config"]),a(ee,{config:l.value},null,8,["config"])]),_:1})]),_:1},512)])}}},wa={style:{"margin-bottom":"10px"}},W=40,Ia=54,qa=98,Qe=20,Ze=300,Pa={__name:"VistaVentanaCorredera98",props:{ancho:Number,alto:Number,colorMarco:{type:String,default:"blanco"},hojasMoviles:{type:Number,default:"2"},hojaMovilSeleccionada:{type:Number,default:1},ordenHoja1AlFrente:{type:Boolean,default:!0},color:Object},setup(R,{expose:ke}){const s=ce(null);ke({exportarImagen:()=>{if(console.log("üñºÔ∏è exportarImagen llamado en VentanaCorredera"),console.log("üñºÔ∏è stageRef.value:",s.value),s.value)try{const i=s.value.getStage();console.log("üñºÔ∏è stage obtenido:",i),i.draw();const l=i.toDataURL({pixelRatio:1,quality:.9});return console.log("üñºÔ∏è dataURL generado:",l.substring(0,50)),l}catch(i){return console.error("‚ùå Error en exportarImagen:",i),null}return console.warn("‚ö†Ô∏è stageRef no disponible"),null}});const T={roble:null,nogal:null};aa(()=>{const i=(l,o)=>{const V=new Image;V.src=l,V.onload=()=>{T[o]=V}};i(la,"roble"),i(oa,"nogal")});const b=R,A=u(()=>b.colorMarco.toLowerCase());function I(i){const l=A.value.toLowerCase();return["roble","nogal"].includes(l)&&T[l]?{points:i,closed:!0,fillPatternImage:T[l],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:i,closed:!0,fill:O.value,stroke:"black"}}const m=ce(b.ordenHoja1AlFrente),e=u(()=>Q.value),d=u(()=>B.value);we(()=>b.ordenHoja1AlFrente,i=>{m.value=i});const Q=u(()=>b.hojasMoviles===2||b.hojaMovilSeleccionada===1),B=u(()=>b.hojasMoviles===2||b.hojaMovilSeleccionada===2),ne={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},O=u(()=>{var l,o;const i=(o=(l=b.colorMarco)==null?void 0:l.toLowerCase)==null?void 0:o.call(l);return ne[i]||"#ffffff"}),E=u(()=>{const i=Ze/b.ancho,l=Ze/b.alto;return Math.min(i,l,1)*.9}),_=u(()=>Ia*E.value),t=u(()=>qa*E.value),c=u(()=>b.ancho*E.value),n=u(()=>b.alto*E.value),p=u(()=>Qe*E.value);function j(i){const l=b.colorMarco.toLowerCase();return["roble","nogal"].includes(l)&&T[l]?{points:i,closed:!0,fillPatternImage:T[l],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:i,closed:!0,fill:O.value,stroke:"black"}}const x=u(()=>j([W,W,W+c.value,W,W+c.value-_.value,W+_.value,W+_.value,W+_.value])),$=u(()=>j([W+c.value,W,W+c.value,W+n.value,W+c.value-_.value,W+n.value-_.value,W+c.value-_.value,W+_.value])),X=u(()=>j([W+c.value,W+n.value,W,W+n.value,W+_.value,W+n.value-_.value,W+c.value-_.value,W+n.value-_.value])),ve=u(()=>j([W,W+n.value,W,W,W+_.value,W+_.value,W+_.value,W+n.value-_.value])),v=u(()=>(c.value-_.value*2+Qe)/2),g=u(()=>n.value-_.value*2),q=u(()=>W+_.value),C=u(()=>W+_.value),P=u(()=>W+c.value-_.value-v.value+p.value-t.value*.22),D=C,be=u(()=>m.value?[{points:[q.value,C.value,q.value+v.value,C.value,q.value+v.value-t.value,C.value+t.value,q.value+t.value,C.value+t.value],closed:!0,fill:O.value,stroke:"black"},{points:[q.value+v.value,C.value,q.value+v.value,C.value+g.value,q.value+v.value-t.value,C.value+g.value-t.value,q.value+v.value-t.value,C.value+t.value],closed:!0,fill:O.value,stroke:"black"},{points:[q.value+v.value,C.value+g.value,q.value,C.value+g.value,q.value+t.value,C.value+g.value-t.value,q.value+v.value-t.value,C.value+g.value-t.value],closed:!0,fill:O.value,stroke:"black"},{points:[q.value,C.value+g.value,q.value,C.value,q.value+t.value,C.value+t.value,q.value+t.value,C.value+g.value-t.value],closed:!0,fill:O.value,stroke:"black"}]:[{points:[q.value,C.value+g.value,q.value+t.value,C.value+g.value-t.value,q.value+v.value-t.value,C.value+g.value-t.value,q.value+v.value,C.value+g.value],closed:!0,fill:O.value,stroke:"black"},{points:[q.value,C.value+g.value,q.value,C.value,q.value+t.value,C.value+t.value,q.value+t.value,C.value+g.value-t.value],closed:!0,fill:O.value,stroke:"black"},{points:[q.value,C.value,q.value+v.value,C.value,q.value+v.value-t.value,C.value+t.value,q.value+t.value,C.value+t.value],closed:!0,fill:O.value,stroke:"black"},{points:[q.value+v.value,C.value,q.value+v.value,C.value+g.value,q.value+v.value-t.value,C.value+g.value-t.value,q.value+v.value-t.value,C.value+t.value],closed:!0,fill:O.value,stroke:"black"}]),Ve=u(()=>m.value?[{points:[P.value,D.value,P.value+v.value,D.value,P.value+v.value-t.value,D.value+t.value,P.value+t.value,D.value+t.value],closed:!0,fill:O.value,stroke:"black"},{points:[P.value+v.value,D.value,P.value+v.value,D.value+g.value,P.value+v.value-t.value,D.value+g.value-t.value,P.value+v.value-t.value,D.value+t.value],closed:!0,fill:O.value,stroke:"black"},{points:[P.value+v.value,D.value+g.value,P.value,D.value+g.value,P.value+t.value,D.value+g.value-t.value,P.value+v.value-t.value,D.value+g.value-t.value],closed:!0,fill:O.value,stroke:"black"},{points:[P.value,D.value+g.value,P.value,D.value,P.value+t.value,D.value+t.value,P.value+t.value,D.value+g.value-t.value],closed:!0,fill:O.value,stroke:"black"}]:[{points:[P.value,D.value,P.value+v.value,D.value,P.value+v.value-t.value,D.value+t.value,P.value+t.value,D.value+t.value],closed:!0,fill:O.value,stroke:"black"},{points:[P.value+v.value,D.value,P.value+v.value,D.value+g.value,P.value+v.value-t.value,D.value+g.value-t.value,P.value+v.value-t.value,D.value+t.value],closed:!0,fill:O.value,stroke:"black"},{points:[P.value+v.value,D.value+g.value,P.value,D.value+g.value,P.value+t.value,D.value+g.value-t.value,P.value+v.value-t.value,D.value+g.value-t.value],closed:!0,fill:O.value,stroke:"black"},{points:[P.value,D.value+g.value,P.value,D.value,P.value+t.value,D.value+t.value,P.value+t.value,D.value+g.value-t.value],closed:!0,fill:O.value,stroke:"black"}]),_e=u(()=>{if(m.value)return{x:q.value+t.value,y:C.value+t.value,width:v.value-t.value*2,height:g.value-t.value*2,fill:"lightblue",stroke:"black"};const i=t.value*.35+E.value*50,l=t.value*1.3+E.value*1;return{x:q.value+i,y:C.value+t.value,width:v.value-l-15,height:g.value-t.value*2,fill:"lightblue",stroke:"black"}}),ye=u(()=>{if(m.value){const i=t.value*.4+E.value*10,l=t.value*1.4+E.value*10;return{x:P.value+i+10,y:D.value+t.value,width:v.value-l-10,height:g.value-t.value*2,fill:"lightblue",stroke:"black"}}return{x:P.value+t.value,y:D.value+t.value,width:v.value-t.value*2,height:g.value-t.value*2,fill:"lightblue",stroke:"black"}}),ze=u(()=>b.hojasMoviles===2||b.hojasMoviles===1&&b.hojaMovilSeleccionada===1?"‚Üí":"+"),Se=u(()=>b.hojasMoviles===2||b.hojasMoviles===1&&b.hojaMovilSeleccionada===2?"‚Üê":"+"),z=u(()=>({x:q.value+v.value/2-10,y:C.value+g.value/2+10,text:ze.value,fontSize:30,fill:"black"})),y=u(()=>({x:P.value+v.value/2-10,y:D.value+g.value/2+10,text:Se.value,fontSize:30,fill:"black"})),k=u(()=>{const i=Math.max(b.ancho,b.alto);return Math.min(Math.max(i/100,20),40)}),M=u(()=>({x:W+c.value/2-30,y:W+n.value+10,text:`${b.ancho}mm`,fontSize:k.value,fill:"black"})),le=u(()=>({x:W-25,y:W+n.value/2,text:`${b.alto}mm`,fontSize:k.value,fill:"black",rotation:-90,offsetX:k.value/2}));return(i,l)=>{const o=K("v-line"),V=K("v-rect"),h=K("v-text"),H=K("v-layer"),S=K("v-stage");return f(),Z("div",null,[he("div",wa,[a(De,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=U=>m.value=U),label:"Hoja 1 adelante",density:"compact"},null,8,["modelValue"])]),a(S,{ref_key:"stageRef",ref:s,config:{width:400,height:400}},{default:r(()=>[a(H,null,{default:r(()=>[a(o,me(pe(x.value)),null,16),a(o,me(pe($.value)),null,16),a(o,me(pe(X.value)),null,16),a(o,me(pe(ve.value)),null,16),m.value?(f(),Z(ue,{key:0},[a(V,me(pe(ye.value)),null,16),(f(!0),Z(ue,null,Ae(Ve.value,(U,ee)=>(f(),L(o,Ie({key:"mitra-h2-"+ee,ref_for:!0},I(U.points)),null,16))),128)),a(h,{x:P.value+v.value/2-10,y:Ee(D)+g.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(V,me(pe(_e.value)),null,16),(f(!0),Z(ue,null,Ae(be.value,(U,ee)=>(f(),L(o,Ie({key:"mitra-h1-"+ee,ref_for:!0},I(U.points)),null,16))),128)),a(h,{x:q.value+v.value/2-10,y:C.value+g.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)):(f(),Z(ue,{key:1},[a(V,me(pe(_e.value)),null,16),(f(!0),Z(ue,null,Ae(be.value,(U,ee)=>(f(),L(o,Ie({key:"mitra-h1-"+ee,ref_for:!0},I(U.points)),null,16))),128)),a(h,{x:q.value+v.value/2-10,y:C.value+g.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(V,me(pe(ye.value)),null,16),(f(!0),Z(ue,null,Ae(Ve.value,(U,ee)=>(f(),L(o,Ie({key:"mitra-h2-"+ee,ref_for:!0},I(U.points)),null,16))),128)),a(h,{x:P.value+v.value/2-10,y:Ee(D)+g.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)),a(h,me(pe(M.value)),null,16),a(h,me(pe(le.value)),null,16),a(h,me(pe(z.value)),null,16),a(h,me(pe(y.value)),null,16),e.value?(f(),L(Pe,{key:2,x:q.value+t.value-E.value*35,y:C.value+g.value/2,escalaManilla:E.value*4},null,8,["x","y","escalaManilla"])):oe("",!0),d.value?(f(),L(Pe,{key:3,x:P.value+v.value-t.value+E.value*35,y:Ee(D)+g.value/2,escalaManilla:E.value*4},null,8,["x","y","escalaManilla"])):oe("",!0)]),_:1})]),_:1},512)])}}},J=40,ea=300,Ua=54,La=80,Da={__name:"VistaVentanaMonorriel",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"},ladoApertura:{type:String,default:"derecha",validator:R=>["izquierda","derecha"].includes(R)}},setup(R,{expose:ke}){const s=R,te={roble:null,nogal:null};aa(()=>{const z=(y,k)=>{const M=new Image;M.src=y,M.onload=()=>te[k]=M};z(la,"roble"),z(oa,"nogal")});const T={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b",roble:"#c9a36b"},b=u(()=>{var z,y;return T[(y=(z=s.colorMarco)==null?void 0:z.toLowerCase)==null?void 0:y.call(z)]||"#ffffff"});function A(z){var k,M;const y=(M=(k=s.colorMarco)==null?void 0:k.toLowerCase)==null?void 0:M.call(k);return["roble","nogal"].includes(y)&&te[y]?{points:z,closed:!0,fillPatternImage:te[y],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:z,closed:!0,fill:b.value,stroke:"black"}}const I=ce(null),m=u(()=>Math.min(ea/s.ancho,ea/s.alto,1)*.9),e=u(()=>Ua*m.value),d=u(()=>La*m.value),Q=u(()=>s.ancho*m.value),B=u(()=>s.alto*m.value),ne=u(()=>s.ladoApertura==="derecha"),O=u(()=>A([J,J,J+Q.value,J,J+Q.value-e.value,J+e.value,J+e.value,J+e.value])),E=u(()=>A([J+Q.value,J,J+Q.value,J+B.value,J+Q.value-e.value,J+B.value-e.value,J+Q.value-e.value,J+e.value])),_=u(()=>A([J+Q.value,J+B.value,J,J+B.value,J+e.value,J+B.value-e.value,J+Q.value-e.value,J+B.value-e.value])),t=u(()=>A([J,J+B.value,J,J,J+e.value,J+e.value,J+e.value,J+B.value-e.value])),c=u(()=>J+e.value),n=u(()=>J+e.value),p=u(()=>Math.max(Q.value-2*e.value,5)),j=u(()=>Math.max(B.value-2*e.value,5)),x=u(()=>Math.max(p.value/2,10)),$=u(()=>ne.value?{x:c.value+x.value,y:n.value,w:x.value,h:j.value}:{x:c.value,y:n.value,w:x.value,h:j.value}),X=u(()=>ne.value?{x:c.value,y:n.value,w:x.value,h:j.value}:{x:c.value+x.value,y:n.value,w:x.value,h:j.value}),ve=u(()=>({x:$.value.x,y:$.value.y,width:$.value.w,height:$.value.h,fill:"lightblue",stroke:"black"}));function v(z,y,k,M){return[A([z,y,z+k,y,z+k-d.value,y+d.value,z+d.value,y+d.value]),A([z+k,y,z+k,y+M,z+k-d.value,y+M-d.value,z+k-d.value,y+d.value]),A([z+k,y+M,z,y+M,z+d.value,y+M-d.value,z+k-d.value,y+M-d.value]),A([z,y+M,z,y,z+d.value,y+d.value,z+d.value,y+M-d.value])]}const g=u(()=>v(X.value.x,X.value.y,X.value.w,X.value.h)),q=u(()=>({x:X.value.x+d.value,y:X.value.y+d.value,width:Math.max(X.value.w-2*d.value,5),height:Math.max(X.value.h-2*d.value,5),fill:"lightblue",stroke:"black"})),C=u(()=>{const z=X.value.x+d.value/2,y=X.value.x+X.value.w-d.value/2;return ne.value?z:y}),P=u(()=>X.value.y+X.value.h/2),D=u(()=>ne.value?"‚Üí":"‚Üê"),be=u(()=>X.value.x+X.value.w/2-10),Ve=u(()=>X.value.y+X.value.h/2-15),_e=u(()=>Math.min(Math.max(Math.max(s.ancho,s.alto)/100,20),40)),ye=u(()=>({x:J+Q.value/2-30,y:J+B.value+10,text:`${s.ancho}mm`,fontSize:_e.value,fill:"black"})),ze=u(()=>({x:J-25,y:J+B.value/2,text:`${s.alto}mm`,fontSize:_e.value,fill:"black",rotation:-90,offsetX:_e.value/2}));return ke({exportarImagen:()=>{if(I.value){const z=I.value.getStage();return z.draw(),z.toDataURL({pixelRatio:1,quality:.9})}return null}}),(z,y)=>{const k=K("v-line"),M=K("v-rect"),le=K("v-text"),i=K("v-layer"),l=K("v-stage");return f(),Z("div",null,[a(l,{ref_key:"stageRef",ref:I,config:{width:400,height:400}},{default:r(()=>[a(i,null,{default:r(()=>[a(k,me(pe(O.value)),null,16),a(k,me(pe(E.value)),null,16),a(k,me(pe(_.value)),null,16),a(k,me(pe(t.value)),null,16),a(M,me(pe(ve.value)),null,16),a(M,me(pe(q.value)),null,16),(f(!0),Z(ue,null,Ae(g.value,(o,V)=>(f(),L(k,Ie({key:"hm-"+V,ref_for:!0},o),null,16))),128)),a(Pe,{x:C.value,y:P.value,escalaManilla:m.value*4},null,8,["x","y","escalaManilla"]),a(le,{x:be.value,y:Ve.value,text:D.value,fontSize:30,fontStyle:"bold",fill:"black"},null,8,["x","y","text"]),a(le,me(pe(ye.value)),null,16),a(le,me(pe(ze.value)),null,16)]),_:1})]),_:1},512)])}}},Na=Object.assign({name:"VistaVentanaCompuestaInterna"},{__name:"VistaVentanaCompuestaInterna",props:{ancho:{type:[Number,String],required:!0},alto:{type:[Number,String],required:!0},colorMarco:{type:[String,Object],default:"blanco"},orientacion:{type:String,default:"horizontal"},items:{type:Array,default:()=>[]},escala:{type:Number,default:1},x:{type:Number,default:0},y:{type:Number,default:0},pathPrefix:{type:String,default:""}},emits:["agregar","agregar-borde","editar-ventana","eliminar-ventana"],setup(R,{emit:ke}){const s=ke,te=ce(new Map),T=ce(new Map),b=R;function A(n){s("agregar",n)}function I(n){console.log("üîß Editando ventana por path:",n),s("editar-ventana",n)}function m(n){s("eliminar-ventana",n)}function e(n,p){console.log("üîß Click en bot√≥n editar:",p),n&&n.evt&&n.evt.stopPropagation&&n.evt.stopPropagation(),I(p)}function d(n,p){console.log("üóëÔ∏è Click en bot√≥n eliminar:",p),n&&n.evt&&n.evt.stopPropagation&&n.evt.stopPropagation(),m(p)}function Q(n){const p=Date.now(),j=T.value.get(n)||0,x=p-j;if(console.log(`üëÜ Click en ventana ${n}, tiempo desde √∫ltimo: ${x}ms`),x<400&&x>50){console.log("üéØ ¬°DOBLE CLICK detectado! Editando ventana:",n),te.value.has(n)&&(clearTimeout(te.value.get(n)),te.value.delete(n)),T.value.delete(n),I(n);return}T.value.set(n,p),te.value.has(n)&&clearTimeout(te.value.get(n));const $=setTimeout(()=>{console.log("‚è±Ô∏è Timer expirado para ventana:",n),T.value.delete(n),te.value.delete(n)},400);te.value.set(n,$)}ua(()=>{te.value.forEach(n=>clearTimeout(n)),te.value.clear(),T.value.clear()});const B=u(()=>Number(b.ancho)||1),ne=u(()=>Number(b.alto)||1),O=u(()=>b.items.filter(n=>n&&(typeof n.tipo=="number"||n.tipo==="compuesta")&&n.tipo!==null&&n.tipo!==void 0)),E=u(()=>{const n=O.value.length;if(!n)return[];const p=O.value.reduce((j,x)=>{const $=Number(x==null?void 0:x.sizePercent)||0;return j+$},0);return p>0?O.value.map(j=>{const x=Number(j==null?void 0:j.sizePercent)||0;return Math.max(0,Math.min(1,x/p))}):Array(n).fill(1/n)});we(()=>b.items,()=>{console.log("üîÑ Items cambiaron, forzando rec√°lculo de segmentos")},{deep:!0});const _=u(()=>{console.log("üéØ INTERNA - RECALCULANDO SEGMENTOS"),console.log("Props colorMarco:",b.colorMarco);const n=[];let p=0,j=0;return O.value.forEach((x,$)=>{let X,ve;if(x.ancho&&x.alto)X=Number(x.ancho),ve=Number(x.alto),console.log(`üìê Ventana ${$} - Usando dimensiones espec√≠ficas:`,{ancho:X,alto:ve});else{const P=E.value[$]||0;b.orientacion==="horizontal"?(X=B.value*P,ve=ne.value):(X=B.value,ve=ne.value*P),console.log(`üìê Ventana ${$} - Calculado por porcentaje:`,{ancho:X,alto:ve,porcentaje:P})}const v=b.x+(b.orientacion==="horizontal"?p*b.escala:0),g=b.y+(b.orientacion==="vertical"?j*b.escala:0),q=b.pathPrefix?`${b.pathPrefix}.${$}`:`${$}`,C={x:v,y:g,ancho:X,alto:ve,escala:b.escala,colorMarco:b.colorMarco};(x==null?void 0:x.tipo)==="compuesta"?n.push({key:"comp-"+$,path:q,isCompuesta:!0,props:{...C,orientacion:x.orientacion||"horizontal",items:x.items||[],pathPrefix:q}}):n.push({key:"simple-"+$,path:q,isCompuesta:!1,props:{...C,tipo:x.tipo,ladoApertura:x.ladoApertura||"izquierda",direccionApertura:x.direccionApertura||"interior"}}),b.orientacion==="horizontal"?p+=X:j+=ve}),n}),t=n=>{if(b.orientacion==="horizontal"){let p=b.x;for(let j=0;j<n;j++){const x=O.value[j];if(x!=null&&x.ancho)p+=Number(x.ancho)*b.escala;else{const $=E.value[j]||0;p+=B.value*$*b.escala}}return p}return b.x+B.value*b.escala/2},c=n=>{if(b.orientacion==="vertical"){let p=b.y;for(let j=0;j<n;j++){const x=O.value[j];if(x!=null&&x.alto)p+=Number(x.alto)*b.escala;else{const $=E.value[j]||0;p+=ne.value*$*b.escala}}return p}return b.y+ne.value*b.escala/2};return(n,p)=>{const j=K("v-rect"),x=K("v-circle"),$=K("v-text"),X=K("v-group"),ve=K("VistaVentanaCompuestaInterna",!0);return f(),L(X,null,{default:r(()=>[(f(!0),Z(ue,null,Ae(_.value,v=>(f(),Z(ue,{key:v.key},[v.isCompuesta?(f(),L(ve,Ie({key:1,ref_for:!0},v.props,{"path-prefix":v.path,onAgregar:p[0]||(p[0]=g=>s("agregar",g)),onAgregarBorde:p[1]||(p[1]=g=>s("agregar-borde",g)),onEditarVentana:p[2]||(p[2]=g=>s("editar-ventana",g)),onEliminarVentana:p[3]||(p[3]=g=>s("eliminar-ventana",g))}),null,16,["path-prefix"])):(f(),L(X,{key:0},{default:r(()=>[a(va,Ie({ref_for:!0},v.props,{color:v.props.colorMarco,colorMarco:v.props.colorMarco}),null,16,["color","colorMarco"]),a(j,{x:v.props.x,y:v.props.y,width:v.props.ancho*v.props.escala,height:v.props.alto*v.props.escala,fill:"transparent",onClick:g=>Q(v.path),style:{cursor:"pointer"}},null,8,["x","y","width","height","onClick"]),a(x,{x:v.props.x+v.props.ancho*v.props.escala-15,y:v.props.y+10,radius:8,fill:"#2196f3",opacity:"0.8",onClick:g=>e(g,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a($,{x:v.props.x+v.props.ancho*v.props.escala-18,y:v.props.y+6,text:"‚úè",fontSize:"10",fill:"white",onClick:g=>e(g,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a(x,{x:v.props.x+v.props.ancho*v.props.escala-35,y:v.props.y+10,radius:8,fill:"#f44336",opacity:"0.8",onClick:g=>d(g,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a($,{x:v.props.x+v.props.ancho*v.props.escala-38,y:v.props.y+6,text:"‚úñ",fontSize:"10",fill:"white",onClick:g=>d(g,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"])]),_:2},1024))],64))),128)),(f(!0),Z(ue,null,Ae(O.value.length+1,v=>(f(),L(X,{key:"plus-"+v,onClick:g=>A(v-1),style:{cursor:"pointer"}},{default:r(()=>[a(x,{x:t(v-1),y:c(v-1),radius:14,fill:"#fff",stroke:"#1976d2",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a($,{x:t(v-1)-7,y:c(v-1)-10,text:"+",fontSize:"24",fill:"#1976d2",fontStyle:"bold"},null,8,["x","y"])]),_:2},1032,["onClick"]))),128))]),_:1})}}}),Ra=fa(Na,[["__scopeId","data-v-86a7a837"]]),He=860,Xe=360,$a={__name:"VistaVentanaCompuestaDinamica",props:{ancho:{type:[Number,String],required:!0},alto:{type:[Number,String],required:!0},colorMarco:{type:[String,Object],default:"blanco"},orientacion:{type:String,default:"horizontal"},items:{type:Array,default:()=>[]},forceReRender:{type:Number,default:0}},emits:["agregar","agregar-borde","editar-ventana","eliminar-ventana"],setup(R,{emit:ke}){const s=ke,te=R,T=u(()=>Number(te.ancho)||1),b=u(()=>Number(te.alto)||1),A=u(()=>{const e=He/T.value,d=Xe/b.value,Q=Math.min(e,d);return Math.max(Q,.1)}),I=u(()=>{const e=T.value*A.value;return e<He?(He-e)/2+20:20}),m=u(()=>{const e=b.value*A.value;return e<Xe?(Xe-e)/2+20:20});return(e,d)=>{const Q=K("v-rect"),B=K("v-circle"),ne=K("v-text"),O=K("v-group"),E=K("v-layer"),_=K("v-stage");return f(),L(_,{config:{width:900,height:420}},{default:r(()=>[a(E,null,{default:r(()=>[a(Q,{x:0,y:0,width:900,height:420,stroke:"#444",strokeWidth:1}),(f(),L(Ra,{key:`interna-${R.forceReRender}`,ancho:R.ancho,alto:R.alto,colorMarco:R.colorMarco,orientacion:R.orientacion,items:R.items,escala:A.value,x:I.value,y:m.value,onAgregar:d[0]||(d[0]=t=>s("agregar",t)),onAgregarBorde:d[1]||(d[1]=t=>s("agregar-borde",t)),onEditarVentana:d[2]||(d[2]=t=>s("editar-ventana",t)),onEliminarVentana:d[3]||(d[3]=t=>s("eliminar-ventana",t))},null,8,["ancho","alto","colorMarco","orientacion","items","escala","x","y"])),a(O,{onClick:d[4]||(d[4]=t=>s("agregar-borde","arriba")),style:{cursor:"pointer"}},{default:r(()=>[a(B,{x:I.value+T.value*A.value/2,y:m.value-15,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(ne,{x:I.value+T.value*A.value/2-7,y:m.value-25,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(O,{onClick:d[5]||(d[5]=t=>s("agregar-borde","abajo")),style:{cursor:"pointer"}},{default:r(()=>[a(B,{x:I.value+T.value*A.value/2,y:m.value+b.value*A.value+15,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(ne,{x:I.value+T.value*A.value/2-7,y:m.value+b.value*A.value+5,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(O,{onClick:d[6]||(d[6]=t=>s("agregar-borde","izquierda")),style:{cursor:"pointer"}},{default:r(()=>[a(B,{x:I.value-15,y:m.value+b.value*A.value/2,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(ne,{x:I.value-22,y:m.value+b.value*A.value/2-10,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(O,{onClick:d[7]||(d[7]=t=>s("agregar-borde","derecha")),style:{cursor:"pointer"}},{default:r(()=>[a(B,{x:I.value+T.value*A.value+15,y:m.value+b.value*A.value/2,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(ne,{x:I.value+T.value*A.value+8,y:m.value+b.value*A.value/2-10,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1})]),_:1})]),_:1})}}},Ea={class:"d-flex align-center justify-space-between"},Ta={class:"text-h6"},Oa={class:"text-caption"},Ba=.45,Ha={__name:"AgregarVentanaModal2",props:{mostrar:Boolean,materiales:Array,colores:Array,tiposVidrio:Array,tiposVentana:Array,productosVidrio:Array,ventana:Object,materialDefault:[String,Number],colorDefault:[String,Number],tipoVidrioDefault:[String,Number],productoVidrioDefault:[String,Number]},emits:["update:mostrar","guardar"],setup(R,{emit:ke}){const s=R,te=ke,T=ce(s.mostrar);we(()=>s.mostrar,i=>{T.value=i}),we(T,i=>{te("update:mostrar",i)});const b=u(()=>!!s.ventana),A=()=>({tipo:2,sizePercent:null,ladoApertura:"izquierda",direccionApertura:"interior"});function I(){const i=Math.min(Math.max(Number(e.value.cantidadComp||2),2),8);if(e.value.cantidadComp=i,e.value.itemsComp||(e.value.itemsComp=[]),e.value.itemsComp.length<i){const l=i-e.value.itemsComp.length;for(let o=0;o<l;o++)e.value.itemsComp.push(A())}else e.value.itemsComp.length>i&&e.value.itemsComp.splice(i);e.value.itemsComp.forEach(l=>{l.tipo||(l.tipo=2)}),console.log("ajustarCantidadItems ejecutado, items finales:",e.value.itemsComp)}const m={tipo:null,ancho:null,alto:null,cantidad:1,material:s.materialDefault??null,color:s.colorDefault??null,tipoVidrio:s.tipoVidrioDefault??null,productoVidrioProveedor:s.productoVidrioDefault??null,hojas_totales:2,hojas_moviles:2,materiales:[],costo_total:0,costo_total_unitario:0,costo:0,precio_unitario:0,precio:0,hoja1AlFrente:!0,ladoApertura:"izquierda",direccionApertura:"interior",pasoLibre:!1,hojaActiva:"derecha",tipoVentanaIzquierda:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaDerecha:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaCentro:{tipo:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:null,hoja1AlFrente:!0},ancho_izquierda:null,ancho_centro:null,ancho_derecha:null,orientacionComp:"horizontal",cantidadComp:2,itemsComp:[A(),A()]},e=ce({...m,...s.ventana||{}}),d=[{id:2,nombre:"Fija"},{id:45,nombre:"Proyectante"},{id:3,nombre:"Corredera"},{id:49,nombre:"Abatible"},{id:50,nombre:"Puerta S60"}],Q=[{id:2,nombre:"Fija"},{id:3,nombre:"Corredera Sliding"},{id:45,nombre:"Proyectante S60"},{id:50,nombre:"Puerta S60"}];we(()=>s.mostrar,i=>{i&&!s.ventana&&(e.value={...m,material:s.materialDefault??null,color:s.colorDefault??null,tipoVidrio:s.tipoVidrioDefault??null,productoVidrioProveedor:s.productoVidrioDefault??null,tipoVentanaIzquierda:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaDerecha:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"}]}}),i&&s.ventana&&(e.value={...m,...s.ventana})},{immediate:!0});const B=u(()=>e.value.tipoVidrio?s.productosVidrio.filter(i=>i.tipo_producto_id===e.value.tipoVidrio).flatMap(i=>i.colores_por_proveedor.map(l=>{var o;return{id:l.id,producto_id:i.id,proveedor_id:l.proveedor_id,nombre:`${i.nombre} (${((o=l.proveedor)==null?void 0:o.nombre)||"Proveedor desconocido"})`}})):[]),ne=u(()=>{const i=e.value.material??s.materialDefault;return s.tiposVentana.filter(l=>l.material_id===i)}),O=ce(null),E=()=>{T.value=!1};async function _(){if(e.value.tipo&&e.value.ancho&&e.value.alto&&e.value.cantidad&&e.value.color&&e.value.productoVidrioProveedor)try{const i=s.productosVidrio.flatMap(V=>V.colores_por_proveedor.map(h=>({id:h.id,producto_id:V.id,proveedor_id:h.proveedor_id}))).find(V=>V.id===e.value.productoVidrioProveedor),l={tipo_ventana_id:e.value.tipo,tipo:e.value.tipo,ancho:e.value.ancho,alto:e.value.alto,cantidad:e.value.cantidad,color_id:e.value.color,color:e.value.color,producto_vidrio_proveedor_id:e.value.productoVidrioProveedor,producto_id:i==null?void 0:i.producto_id,proveedor_id:i==null?void 0:i.proveedor_id,productoVidrio:i==null?void 0:i.producto_id,proveedorVidrio:i==null?void 0:i.proveedor_id,hojas_totales:[3,46].includes(e.value.tipo)?e.value.hojas_totales:void 0,hojas_moviles:[3,46].includes(e.value.tipo)?e.value.hojas_moviles:void 0,hojaMovilSeleccionada:[3,46].includes(e.value.tipo)?e.value.hojaMovilSeleccionada:void 0,hoja1AlFrente:[3,46].includes(e.value.tipo)?e.value.hoja1AlFrente:void 0};console.log("Payload a calcular-materiales:",l);const{data:o}=await ia.post("/api/cotizador/calcular-materiales",l);e.value.costo_total_unitario=o.costo_unitario,e.value.costo_total=o.costo_unitario*e.value.cantidad,e.value.precio=Math.ceil(e.value.costo_total/(1-Ba)),e.value.materiales=o.materiales}catch{e.value.costo_total_unitario=0,e.value.costo_total=0,e.value.precio=0,e.value.materiales=[]}else e.value.costo_total_unitario=0,e.value.costo_total=0,e.value.precio=0,e.value.materiales=[]}const t=()=>{var i;if(!e.value.tipo||!e.value.ancho||!e.value.alto||!e.value.cantidad){alert("Completa todos los campos obligatorios");return}te("guardar",{...e.value,index:(i=s.ventana)==null?void 0:i.index}),E()};we(()=>e.value.material,()=>{e.value.tipo=null}),we(()=>[e.value.tipo,e.value.ancho,e.value.alto,e.value.cantidad,e.value.material,e.value.color,e.value.tipoVidrio,e.value.productoVidrioProveedor],_,{immediate:!0}),we(()=>e.value.productoVidrioProveedor,i=>{const l=s.productosVidrio.flatMap(o=>o.colores_por_proveedor.map(V=>({...o,cpp:V}))).find(o=>o.cpp.id===i);e.value.productoVidrio=l?l.id:null});const c=i=>{if(i==null)return!1;const l=Number(i);return!Number.isNaN(l)&&l===49||String(i).toLowerCase().includes("abat")},n=ce([]);we(()=>{var i,l;return(l=(i=e.value)==null?void 0:i.itemsComp)==null?void 0:l.length},()=>{n.value=[]}),we(()=>e.value.tipo,i=>{var l,o,V;Number(i)===54&&((l=e.value).orientacionComp??(l.orientacionComp="horizontal"),(o=e.value).cantidadComp??(o.cantidadComp=2),(V=e.value).itemsComp??(V.itemsComp=[A(),A()]))});const p=ce(!1),j=ce(null);function x(i){j.value=i,p.value=!0}function $(i){console.log("=== AGREGAR BORDE ==="),console.log("Posici√≥n:",i),console.log("Orientaci√≥n actual:",e.value.orientacionComp),console.log("Items ANTES:",JSON.stringify(e.value.itemsComp,null,2));const l=["arriba","abajo"].includes(i)?"vertical":"horizontal";if(console.log("Nueva orientaci√≥n necesaria:",l),e.value.orientacionComp!==l){console.log("Orientaci√≥n cambi√≥, envolviendo items existentes...");const o=[...e.value.itemsComp],V={tipo:"compuesta",orientacion:e.value.orientacionComp,items:o};e.value.itemsComp=[V],e.value.orientacionComp=l,console.log("Items despu√©s de envolver:",JSON.stringify(e.value.itemsComp,null,2))}else console.log("Orientaci√≥n NO cambi√≥, no envolviendo");switch(i){case"arriba":case"izquierda":j.value=0;break;case"abajo":case"derecha":j.value=e.value.itemsComp.length;break}console.log("√çndice para insertar:",j.value),console.log("Orientaci√≥n final:",e.value.orientacionComp),console.log("=== FIN DEBUG ==="),p.value=!0}function X(i){const l=A();l.tipo=i||2,e.value.itemsComp.splice(j.value,0,l),e.value.itemsComp=[...e.value.itemsComp],z.value++,console.log("Items despu√©s de agregar:",e.value.itemsComp),p.value=!1}function ve(){const i={tipo:"compuesta",orientacion:"horizontal",items:[{tipo:2,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:2,ladoApertura:"izquierda",direccionApertura:"interior"}]};e.value.itemsComp.splice(j.value,0,i),z.value++,p.value=!1}const v=ce(null),g=ce(!1),q=ce("");function C(i){console.log("=== EDITAR VENTANA INDIVIDUAL ==="),console.log("Path:",i),q.value=i;const l=ze(i);if(l){const o=P(i);v.value={tipo:l.tipo||2,ancho:o.ancho,alto:o.alto,sizePercent:l.sizePercent||null,ladoApertura:l.ladoApertura||"izquierda",direccionApertura:l.direccionApertura||"interior",...l},console.log("Dimensiones reales calculadas:",o),console.log("Datos de ventana a editar:",v.value),g.value=!0}else console.error("No se encontr√≥ ventana en path:",i)}function P(i){const l=i.split(".").map(Number);let o=e.value.ancho||2e3,V=e.value.alto||2e3,h=e.value.orientacionComp||"horizontal",H=e.value.itemsComp;console.log("üîç Calculando dimensiones para path:",i),console.log("Dimensiones iniciales:",{ancho:o,alto:V,orientacion:h});for(let U=0;U<l.length;U++){const ee=l[U],ie=H[ee];if(!ie){console.error("Item no encontrado en nivel",U,"√≠ndice",ee);break}console.log(`Nivel ${U}, √≠ndice ${ee}:`,ie);const Ce=H.length,de=H.map($e=>Number($e.sizePercent)||0),ge=de.reduce(($e,ta)=>$e+ta,0);let ae;if(ge>0?ae=de[ee]/ge:ae=1/Ce,console.log(`Porcentaje del item en este nivel: ${ae} (${(ae*100).toFixed(1)}%)`),h==="horizontal"?o=o*ae:V=V*ae,console.log(`Nuevas dimensiones: ${o} x ${V}`),U===l.length-1)break;if(ie.tipo==="compuesta")h=ie.orientacion||"horizontal",H=ie.items||[],console.log(`Navegando a compuesta con orientaci√≥n: ${h}`);else{console.error("Item no es compuesta pero no es el √∫ltimo nivel");break}}const S={ancho:Math.round(o),alto:Math.round(V)};return console.log("‚úÖ Dimensiones finales calculadas:",S),S}const D=u(()=>{const i=Number(v.value.ancho)||0,l=Number(v.value.alto)||0;return i*l/1e6}),be=u(()=>{const i=D.value,l=v.value.tipo;return i*({2:15e4,3:2e5,45:22e4,49:25e4,50:28e4}[l]||15e4)});function Ve(i){const l=d.find(o=>o.id===i);return l?l.nombre:`Tipo ${i}`}function _e(){var l;function i(o,V,h){var H;if(o.tipo==="compuesta")return((H=o.items)==null?void 0:H.reduce((S,U)=>S+i(U,V,h),0))||0;{const S=o.ancho||V,U=o.alto||h;return S*U/1e6*({2:15e4,3:2e5,45:22e4,49:25e4,50:28e4}[o.tipo]||15e4)}}return((l=e.value.itemsComp)==null?void 0:l.reduce((o,V)=>o+i(V,e.value.ancho,e.value.alto),0))||0}const ye=u(()=>_e());function ze(i){var h;const l=i.split(".").map(Number);let o=e.value.itemsComp;console.log("Navegando path:",i,"indices:",l),console.log("Items iniciales:",o);for(let H=0;H<l.length-1;H++){const S=l[H];if(console.log(`Navegando √≠ndice ${H}: ${S}`),((h=o[S])==null?void 0:h.tipo)==="compuesta")o=o[S].items,console.log("Items en nivel",H+1,":",o);else return console.error("No es compuesta en √≠ndice",S),null}const V=l[l.length-1];return console.log("√çndice final:",V,"Item encontrado:",o[V]),o[V]}function Se(i,l){var H;const o=i.split(".").map(Number);let V=e.value.itemsComp;for(let S=0;S<o.length-1;S++){const U=o[S];if(((H=V[U])==null?void 0:H.tipo)==="compuesta")V=V[U].items;else return console.error("Error: no es compuesta en √≠ndice",U),!1}const h=o[o.length-1];if(V[h]){const S={...V[h],tipo:l.tipo,ancho:l.ancho,alto:l.alto,sizePercent:l.sizePercent,ladoApertura:l.ladoApertura,direccionApertura:l.direccionApertura};return V[h]=S,console.log("Ventana actualizada:",V[h]),e.value.itemsComp=JSON.parse(JSON.stringify(e.value.itemsComp)),e.value={...e.value},na(()=>{console.log("‚úÖ Forzando re-render despu√©s de actualizar ventana")}),!0}return!1}const z=ce(0);function y(){console.log("=== GUARDANDO CAMBIOS ==="),console.log("Datos a guardar:",v.value),console.log("Path:",q.value),Se(q.value,{tipo:v.value.tipo,ancho:v.value.ancho,alto:v.value.alto,sizePercent:v.value.sizePercent,ladoApertura:v.value.ladoApertura,direccionApertura:v.value.direccionApertura})?(console.log("‚úÖ Ventana actualizada correctamente"),k(),z.value++,console.log("üîÑ Forzando re-render con key:",z.value),g.value=!1):(console.error("‚ùå Error al actualizar ventana"),alert("Error al actualizar la ventana"))}function k(){console.log("=== DEBUG ITEMS COMPUESTA ==="),console.log("Items actuales:",JSON.stringify(e.value.itemsComp,null,2)),console.log("Orientaci√≥n:",e.value.orientacionComp),console.log("Dimensiones contenedor:",{ancho:e.value.ancho,alto:e.value.alto}),console.log("=== FIN DEBUG ===")}function M(i){console.log("=== ELIMINAR VENTANA ==="),console.log("Path:",i),confirm("¬øEst√°s seguro de eliminar esta ventana?")&&(le(i)?(console.log("‚úÖ Ventana eliminada correctamente"),z.value++):(console.error("‚ùå Error al eliminar ventana"),alert("Error al eliminar la ventana")))}function le(i){var S;const l=i.split(".").map(Number);let o=e.value.itemsComp,V=null,h=null;for(let U=0;U<l.length-1;U++){const ee=l[U];if(V=o,h=ee,((S=o[ee])==null?void 0:S.tipo)==="compuesta")o=o[ee].items;else return console.error("Error: no es compuesta en √≠ndice",ee),!1}const H=l[l.length-1];if(V===null&&(V={items:e.value.itemsComp},o=e.value.itemsComp),o[H]){if(o.splice(H,1),console.log("Ventana eliminada. Items restantes:",o.length),o.length===1&&V!==null&&h!==null){const U=o[0];V.items?V.items[h]=U:V[h]=U,console.log("Compuesta simplificada porque qued√≥ solo 1 item")}return e.value.itemsComp.length===0&&(e.value.itemsComp=[A(),A()],console.log("Sin items restantes, reiniciando con defaults")),e.value.itemsComp=[...e.value.itemsComp],!0}return!1}return(i,l)=>(f(),Z(ue,null,[a(Te,{modelValue:T.value,"onUpdate:modelValue":l[52]||(l[52]=o=>T.value=o),"max-width":"1200px",persistent:""},{default:r(()=>[a(Le,{class:"pa-4"},{default:r(()=>[a(Oe,{class:"text-h5"},{default:r(()=>[xe(je(b.value?"Editar ventana":"Agregar ventana"),1)]),_:1}),a(Ne,{class:"mb-4"}),a(ha,{ref_key:"formRef",ref:O,onSubmit:ra(t,["prevent"])},{default:r(()=>[a(se,{dense:""},{default:r(()=>[a(w,{cols:"12",md:"4"},{default:r(()=>[a(fe,{modelValue:e.value.tipo,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.tipo=o),items:ne.value,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","items","rules"])]),_:1}),a(w,{cols:"6",md:"2"},{default:r(()=>[a(Me,{modelValue:e.value.ancho,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.ancho=o),modelModifiers:{number:!0},label:"Ancho (mm)",type:"number",min:"1",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1}),a(w,{cols:"6",md:"2"},{default:r(()=>[a(Me,{modelValue:e.value.alto,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",min:"1",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1}),a(w,{cols:"6",md:"2"},{default:r(()=>[a(Me,{modelValue:e.value.cantidad,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.cantidad=o),modelModifiers:{number:!0},label:"Cantidad",type:"number",min:"1",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(se,{dense:""},{default:r(()=>[a(w,{cols:"6",md:"3"},{default:r(()=>[a(fe,{modelValue:e.value.material,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.material=o),items:R.materiales,"item-title":"nombre","item-value":"id",label:"Material",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(w,{cols:"6",md:"3"},{default:r(()=>[a(fe,{modelValue:e.value.color,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.color=o),items:R.colores,"item-title":"nombre","item-value":"id",label:"Color",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(w,{cols:"6",md:"3"},{default:r(()=>[a(fe,{modelValue:e.value.tipoVidrio,"onUpdate:modelValue":l[6]||(l[6]=o=>e.value.tipoVidrio=o),items:R.tiposVidrio,"item-title":"nombre","item-value":"id",label:"Tipo de vidrio",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(w,{cols:"6",md:"3"},{default:r(()=>[a(fe,{modelValue:e.value.productoVidrioProveedor,"onUpdate:modelValue":l[7]||(l[7]=o=>e.value.productoVidrioProveedor=o),items:B.value,"item-title":"nombre","item-value":"id",label:"Producto de vidrio",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1})]),_:1}),e.value.tipo===47?(f(),L(se,{key:0,dense:""},{default:r(()=>[a(w,{cols:"4"},{default:r(()=>[a(Me,{modelValue:e.value.ancho_izquierda,"onUpdate:modelValue":l[8]||(l[8]=o=>e.value.ancho_izquierda=o),modelModifiers:{number:!0},label:"Ancho izquierda (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(w,{cols:"4"},{default:r(()=>[a(Me,{modelValue:e.value.ancho_centro,"onUpdate:modelValue":l[9]||(l[9]=o=>e.value.ancho_centro=o),modelModifiers:{number:!0},label:"Ancho centro (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(w,{cols:"4"},{default:r(()=>[a(Me,{modelValue:e.value.ancho_derecha,"onUpdate:modelValue":l[10]||(l[10]=o=>e.value.ancho_derecha=o),modelModifiers:{number:!0},label:"Ancho derecha (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})):oe("",!0),e.value.tipo===47?(f(),L(se,{key:1,dense:""},{default:r(()=>[a(w,{cols:"6"},{default:r(()=>[a(De,{modelValue:e.value.tipoVentanaIzquierda.compuesta,"onUpdate:modelValue":l[11]||(l[11]=o=>e.value.tipoVentanaIzquierda.compuesta=o),label:"¬øVentana izquierda compuesta?",color:"primary"},null,8,["modelValue"])]),_:1}),a(w,{cols:"6"},{default:r(()=>[a(De,{modelValue:e.value.tipoVentanaDerecha.compuesta,"onUpdate:modelValue":l[12]||(l[12]=o=>e.value.tipoVentanaDerecha.compuesta=o),label:"¬øVentana derecha compuesta?",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})):oe("",!0),e.value.tipo===47?(f(),Z(ue,{key:2},[a(se,{dense:""},{default:r(()=>[a(w,{cols:"12"},{default:r(()=>l[63]||(l[63]=[he("h4",null,"Ventana Izquierda",-1)])),_:1}),e.value.tipoVentanaIzquierda.compuesta?(f(),Z(ue,{key:0},[a(w,{cols:"6"},{default:r(()=>[l[64]||(l[64]=he("h5",null,"Parte superior",-1)),a(fe,{modelValue:e.value.tipoVentanaIzquierda.partes[0].tipo,"onUpdate:modelValue":l[13]||(l[13]=o=>e.value.tipoVentanaIzquierda.partes[0].tipo=o),items:d,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(Me,{modelValue:e.value.tipoVentanaIzquierda.partes[0].alto,"onUpdate:modelValue":l[14]||(l[14]=o=>e.value.tipoVentanaIzquierda.partes[0].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaIzquierda.partes[0].tipo)?(f(),Z(ue,{key:0},[a(re,{modelValue:e.value.tipoVentanaIzquierda.partes[0].ladoApertura,"onUpdate:modelValue":l[15]||(l[15]=o=>e.value.tipoVentanaIzquierda.partes[0].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(re,{modelValue:e.value.tipoVentanaIzquierda.partes[0].direccionApertura,"onUpdate:modelValue":l[16]||(l[16]=o=>e.value.tipoVentanaIzquierda.partes[0].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):oe("",!0)]),_:1}),a(w,{cols:"6"},{default:r(()=>[l[65]||(l[65]=he("h5",null,"Parte inferior",-1)),a(fe,{modelValue:e.value.tipoVentanaIzquierda.partes[1].tipo,"onUpdate:modelValue":l[17]||(l[17]=o=>e.value.tipoVentanaIzquierda.partes[1].tipo=o),items:d,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(Me,{modelValue:e.value.tipoVentanaIzquierda.partes[1].alto,"onUpdate:modelValue":l[18]||(l[18]=o=>e.value.tipoVentanaIzquierda.partes[1].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaIzquierda.partes[1].tipo)?(f(),Z(ue,{key:0},[a(re,{modelValue:e.value.tipoVentanaIzquierda.partes[1].ladoApertura,"onUpdate:modelValue":l[19]||(l[19]=o=>e.value.tipoVentanaIzquierda.partes[1].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(re,{modelValue:e.value.tipoVentanaIzquierda.partes[1].direccionApertura,"onUpdate:modelValue":l[20]||(l[20]=o=>e.value.tipoVentanaIzquierda.partes[1].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):oe("",!0)]),_:1})],64)):(f(),Z(ue,{key:1},[a(w,{cols:"4"},{default:r(()=>[a(fe,{modelValue:e.value.tipoVentanaIzquierda.partes[0].tipo,"onUpdate:modelValue":l[21]||(l[21]=o=>e.value.tipoVentanaIzquierda.partes[0].tipo=o),items:d,"item-title":"nombre","item-value":"id",label:"Tipo de ventana izquierda",outlined:""},null,8,["modelValue"])]),_:1}),c(e.value.tipoVentanaIzquierda.partes[0].tipo)?(f(),L(w,{key:0,cols:"4"},{default:r(()=>[a(re,{modelValue:e.value.tipoVentanaIzquierda.ladoApertura,"onUpdate:modelValue":l[22]||(l[22]=o=>e.value.tipoVentanaIzquierda.ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1})):oe("",!0),c(e.value.tipoVentanaIzquierda.partes[0].tipo)?(f(),L(w,{key:1,cols:"4"},{default:r(()=>[a(re,{modelValue:e.value.tipoVentanaIzquierda.direccionApertura,"onUpdate:modelValue":l[23]||(l[23]=o=>e.value.tipoVentanaIzquierda.direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})):oe("",!0)],64))]),_:1}),a(se,{dense:""},{default:r(()=>[a(w,{cols:"12"},{default:r(()=>l[66]||(l[66]=[he("h4",null,"Ventana Centro",-1)])),_:1}),a(w,{cols:"4"},{default:r(()=>[a(fe,{modelValue:e.value.tipoVentanaCentro.tipo,"onUpdate:modelValue":l[24]||(l[24]=o=>e.value.tipoVentanaCentro.tipo=o),items:Q,"item-title":"nombre","item-value":"id",label:"Tipo de ventana centro",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),e.value.tipoVentanaCentro&&[3,46].includes(e.value.tipoVentanaCentro.tipo)?(f(),Z(ue,{key:0},[a(w,{cols:"4"},{default:r(()=>[a(fe,{modelValue:e.value.tipoVentanaCentro.hojas_totales,"onUpdate:modelValue":l[25]||(l[25]=o=>e.value.tipoVentanaCentro.hojas_totales=o),items:[1,2,3,4],label:"Hojas totales",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(w,{cols:"4"},{default:r(()=>[a(fe,{modelValue:e.value.tipoVentanaCentro.hojas_moviles,"onUpdate:modelValue":l[26]||(l[26]=o=>e.value.tipoVentanaCentro.hojas_moviles=o),items:[1,2,3,4],label:"Hojas m√≥viles",disabled:!e.value.tipoVentanaCentro.hojas_totales,outlined:"",color:"primary"},null,8,["modelValue","disabled"])]),_:1}),e.value.tipoVentanaCentro.hojas_moviles===1?(f(),L(w,{key:0,cols:"12"},{default:r(()=>[a(re,{modelValue:e.value.tipoVentanaCentro.hojaMovilSeleccionada,"onUpdate:modelValue":l[27]||(l[27]=o=>e.value.tipoVentanaCentro.hojaMovilSeleccionada=o),row:"",label:"Selecciona la hoja que se mueve"},{default:r(()=>[a(N,{label:"Mover hoja izquierda (1)",value:1}),a(N,{label:"Mover hoja derecha (2)",value:2})]),_:1},8,["modelValue"])]),_:1})):oe("",!0)],64)):oe("",!0)]),_:1}),a(se,{dense:""},{default:r(()=>[a(w,{cols:"12"},{default:r(()=>l[67]||(l[67]=[he("h4",null,"Ventana Derecha",-1)])),_:1}),e.value.tipoVentanaDerecha.compuesta?(f(),Z(ue,{key:0},[a(w,{cols:"6"},{default:r(()=>[l[68]||(l[68]=he("h5",null,"Parte superior",-1)),a(fe,{modelValue:e.value.tipoVentanaDerecha.partes[0].tipo,"onUpdate:modelValue":l[28]||(l[28]=o=>e.value.tipoVentanaDerecha.partes[0].tipo=o),items:d,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(Me,{modelValue:e.value.tipoVentanaDerecha.partes[0].alto,"onUpdate:modelValue":l[29]||(l[29]=o=>e.value.tipoVentanaDerecha.partes[0].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaDerecha.partes[0].tipo)?(f(),Z(ue,{key:0},[a(re,{modelValue:e.value.tipoVentanaDerecha.partes[0].ladoApertura,"onUpdate:modelValue":l[30]||(l[30]=o=>e.value.tipoVentanaDerecha.partes[0].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(re,{modelValue:e.value.tipoVentanaDerecha.partes[0].direccionApertura,"onUpdate:modelValue":l[31]||(l[31]=o=>e.value.tipoVentanaDerecha.partes[0].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):oe("",!0)]),_:1}),a(w,{cols:"6"},{default:r(()=>[l[69]||(l[69]=he("h5",null,"Parte inferior",-1)),a(fe,{modelValue:e.value.tipoVentanaDerecha.partes[1].tipo,"onUpdate:modelValue":l[32]||(l[32]=o=>e.value.tipoVentanaDerecha.partes[1].tipo=o),items:d,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(Me,{modelValue:e.value.tipoVentanaDerecha.partes[1].alto,"onUpdate:modelValue":l[33]||(l[33]=o=>e.value.tipoVentanaDerecha.partes[1].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaDerecha.partes[1].tipo)?(f(),Z(ue,{key:0},[a(re,{modelValue:e.value.tipoVentanaDerecha.partes[1].ladoApertura,"onUpdate:modelValue":l[34]||(l[34]=o=>e.value.tipoVentanaDerecha.partes[1].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(re,{modelValue:e.value.tipoVentanaDerecha.partes[1].direccionApertura,"onUpdate:modelValue":l[35]||(l[35]=o=>e.value.tipoVentanaDerecha.partes[1].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):oe("",!0)]),_:1})],64)):(f(),Z(ue,{key:1},[a(w,{cols:"4"},{default:r(()=>[a(fe,{modelValue:e.value.tipoVentanaDerecha.partes[0].tipo,"onUpdate:modelValue":l[36]||(l[36]=o=>e.value.tipoVentanaDerecha.partes[0].tipo=o),items:d,"item-title":"nombre","item-value":"id",label:"Tipo de ventana derecha",outlined:""},null,8,["modelValue"])]),_:1}),c(e.value.tipoVentanaDerecha.partes[0].tipo)?(f(),L(w,{key:0,cols:"4"},{default:r(()=>[a(re,{modelValue:e.value.tipoVentanaDerecha.ladoApertura,"onUpdate:modelValue":l[37]||(l[37]=o=>e.value.tipoVentanaDerecha.ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1})):oe("",!0),c(e.value.tipoVentanaDerecha.partes[0].tipo)?(f(),L(w,{key:1,cols:"4"},{default:r(()=>[a(re,{modelValue:e.value.tipoVentanaDerecha.direccionApertura,"onUpdate:modelValue":l[38]||(l[38]=o=>e.value.tipoVentanaDerecha.direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})):oe("",!0)],64))]),_:1})],64)):oe("",!0),[3,46,52].includes(e.value.tipo)?(f(),L(se,{key:3},{default:r(()=>[a(w,{cols:"6",md:"3"},{default:r(()=>[a(fe,{modelValue:e.value.hojas_totales,"onUpdate:modelValue":l[39]||(l[39]=o=>e.value.hojas_totales=o),items:[2,3,4,6],label:"Hojas totales",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(w,{cols:"6",md:"3"},{default:r(()=>[a(fe,{modelValue:e.value.hojas_moviles,"onUpdate:modelValue":l[40]||(l[40]=o=>e.value.hojas_moviles=o),items:[1,2,3,4],label:"Hojas m√≥viles",disabled:!e.value.hojas_totales,rules:[o=>!o||o<=e.value.hojas_totales||"No puede exceder total"],outlined:"",color:"primary"},null,8,["modelValue","disabled","rules"])]),_:1}),e.value.hojas_moviles===1?(f(),L(w,{key:0,cols:"12",md:"6"},{default:r(()=>[a(re,{modelValue:e.value.hojaMovilSeleccionada,"onUpdate:modelValue":l[41]||(l[41]=o=>e.value.hojaMovilSeleccionada=o),row:"",label:"Selecciona la hoja que se mueve"},{default:r(()=>[a(N,{label:"Mover hoja izquierda (1)",value:1}),a(N,{label:"Mover hoja derecha (2)",value:2})]),_:1},8,["modelValue"])]),_:1})):oe("",!0)]),_:1})):oe("",!0),e.value.tipo===50?(f(),L(se,{key:4,dense:""},{default:r(()=>[a(w,{cols:"12",md:"4"},{default:r(()=>[a(re,{modelValue:e.value.ladoApertura,"onUpdate:modelValue":l[42]||(l[42]=o=>e.value.ladoApertura=o),label:"Lado apertura",row:""},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(w,{cols:"12",md:"4"},{default:r(()=>[a(re,{modelValue:e.value.direccionApertura,"onUpdate:modelValue":l[43]||(l[43]=o=>e.value.direccionApertura=o),label:"Apertura",row:""},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1}),a(w,{cols:"12",md:"4"},{default:r(()=>[a(De,{modelValue:e.value.pasoLibre,"onUpdate:modelValue":l[44]||(l[44]=o=>e.value.pasoLibre=o),inset:"",color:"primary",label:e.value.pasoLibre?"Paso libre (sin perfil inferior)":"Paso cerrado"},null,8,["modelValue","label"])]),_:1})]),_:1})):oe("",!0),e.value.tipo===51?(f(),L(se,{key:5,dense:""},{default:r(()=>[a(w,{cols:"12",md:"4"},{default:r(()=>[a(re,{modelValue:e.value.hojaActiva,"onUpdate:modelValue":l[45]||(l[45]=o=>e.value.hojaActiva=o),label:"Hoja activa",row:""},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(w,{cols:"12",md:"4"},{default:r(()=>[a(re,{modelValue:e.value.direccionApertura,"onUpdate:modelValue":l[46]||(l[46]=o=>e.value.direccionApertura=o),label:"Apertura",row:""},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1}),a(w,{cols:"12",md:"4"},{default:r(()=>[a(De,{modelValue:e.value.pasoLibre,"onUpdate:modelValue":l[47]||(l[47]=o=>e.value.pasoLibre=o),inset:"",color:"primary",label:e.value.pasoLibre?"Paso libre (sin perfil inferior)":"Paso cerrado"},null,8,["modelValue","label"])]),_:1})]),_:1})):oe("",!0),e.value.tipo===53?(f(),L(se,{key:6,dense:""},{default:r(()=>[a(w,{cols:"12",md:"6"},{default:r(()=>[a(re,{modelValue:e.value.ladoApertura,"onUpdate:modelValue":l[48]||(l[48]=o=>e.value.ladoApertura=o),label:"Lado de apertura (movimiento)",row:""},{default:r(()=>[a(N,{label:"Hacia la derecha",value:"derecha"}),a(N,{label:"Hacia la izquierda",value:"izquierda"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):oe("",!0),e.value.tipo===54?(f(),L(Le,{key:7,class:"pa-3",variant:"tonal"},{default:r(()=>[a(se,{dense:""},{default:r(()=>[a(w,{cols:"12",sm:"3"},{default:r(()=>[a(fe,{modelValue:e.value.orientacionComp,"onUpdate:modelValue":l[49]||(l[49]=o=>e.value.orientacionComp=o),items:[{title:"Horizontal",value:"horizontal"},{title:"Vertical",value:"vertical"}],label:"Orientaci√≥n",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(w,{cols:"12",sm:"3"},{default:r(()=>[a(Me,{modelValue:e.value.cantidadComp,"onUpdate:modelValue":l[50]||(l[50]=o=>e.value.cantidadComp=o),modelModifiers:{number:!0},type:"number",min:"2",max:"8",label:"Cantidad de ventanas",density:"comfortable",onBlur:l[51]||(l[51]=o=>I())},null,8,["modelValue"])]),_:1})]),_:1}),a(Ne,{class:"my-2"}),a(se,{dense:""},{default:r(()=>[(f(!0),Z(ue,null,Ae(e.value.itemsComp,(o,V)=>(f(),L(w,{key:"comp-item-"+V,cols:"12",md:"6"},{default:r(()=>[a(Le,{class:"pa-3"},{default:r(()=>[he("div",Ea,[he("strong",null,"Secci√≥n "+je(V+1),1),a(Me,{modelValue:o.sizePercent,"onUpdate:modelValue":h=>o.sizePercent=h,modelModifiers:{number:!0},type:"number",min:"0",max:"100",suffix:"%",label:"Tama√±o",density:"compact",style:{"max-width":"140px"}},null,8,["modelValue","onUpdate:modelValue"])]),a(fe,{modelValue:o.tipo,"onUpdate:modelValue":h=>o.tipo=h,items:d,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue"]),c(o.tipo)?(f(),Z(ue,{key:0},[a(re,{modelValue:o.ladoApertura,"onUpdate:modelValue":h=>o.ladoApertura=h,row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),a(re,{modelValue:o.direccionApertura,"onUpdate:modelValue":h=>o.direccionApertura=h,row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):oe("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(qe,{type:"info",variant:"text",density:"compact",class:"mt-2"},{default:r(()=>l[70]||(l[70]=[xe(" Si no defines porcentajes, las secciones se reparten por igual. ")])),_:1})]),_:1})):oe("",!0),a(se,null,{default:r(()=>[a(w,{cols:"12"},{default:r(()=>{var o,V,h,H,S,U,ee,ie,Ce,de,ge;return[e.value.tipo===2?(f(),L(sa,{key:0,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((o=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:o.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===45?(f(),L(ca,{key:1,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((V=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:V.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===3?(f(),L(pa,{key:2,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((h=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:h.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===52?(f(),L(Pa,{key:3,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((H=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:H.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===46?(f(),L(da,{key:4,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((S=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:S.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===53?(f(),L(Da,{key:5,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((U=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:U.nombre)||"blanco","lado-apertura":e.value.ladoApertura},null,8,["ancho","alto","color-marco","lado-apertura"])):e.value.tipo===47?(f(),L(ma,{key:6,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((ee=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:ee.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"ancho-izquierda":e.value.ancho_izquierda,"ancho-centro":e.value.ancho_centro,"ancho-derecha":e.value.ancho_derecha,"tipo-ventana-izquierda":e.value.tipoVentanaIzquierda,"tipo-ventana-centro":e.value.tipoVentanaCentro,"tipo-ventana-derecha":e.value.tipoVentanaDerecha},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","ancho-izquierda","ancho-centro","ancho-derecha","tipo-ventana-izquierda","tipo-ventana-centro","tipo-ventana-derecha"])):e.value.tipo===49?(f(),L(Ma,{key:7,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((ie=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:ie.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"lado-inicial":e.value.ladoApertura||"izquierda"},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-inicial"])):e.value.tipo===50?(f(),L(ja,{key:8,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((Ce=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:Ce.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"lado-apertura":e.value.ladoApertura,"direccion-apertura":e.value.direccionApertura,"paso-libre":e.value.pasoLibre},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-apertura","direccion-apertura","paso-libre"])):e.value.tipo===51?(f(),L(Sa,{key:9,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((de=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:de.nombre)||"blanco","hoja-activa":e.value.hojaActiva,"direccion-apertura":e.value.direccionApertura,"paso-libre":e.value.pasoLibre},null,8,["ancho","alto","color-marco","hoja-activa","direccion-apertura","paso-libre"])):e.value.tipo===54?(f(),L($a,{key:`compuesta-${z.value}`,ancho:e.value.ancho||2e3,alto:e.value.alto||2e3,"color-marco":((ge=R.colores.find(ae=>ae.id===e.value.color))==null?void 0:ge.nombre)||"blanco",orientacion:e.value.orientacionComp||"horizontal",items:e.value.itemsComp||[],forceReRender:z.value,onAgregar:x,onAgregarBorde:$,onEditarVentana:C,onEliminarVentana:M},null,8,["ancho","alto","color-marco","orientacion","items","forceReRender"])):oe("",!0)]}),_:1})]),_:1}),a(Ne,{class:"my-4"}),a(se,null,{default:r(()=>[a(w,{cols:"12",md:"4"},{default:r(()=>[e.value.costo_total_unitario?(f(),L(qe,{key:0,type:"info",variant:"outlined"},{default:r(()=>[l[71]||(l[71]=he("strong",null,"Costo unitario:",-1)),xe(" $"+je(e.value.costo_total_unitario),1)]),_:1})):oe("",!0)]),_:1}),a(w,{cols:"12",md:"4"},{default:r(()=>[e.value.costo_total?(f(),L(qe,{key:0,type:"info",variant:"tonal"},{default:r(()=>[l[72]||(l[72]=he("strong",null,"Costo total:",-1)),xe(" $"+je(e.value.costo_total),1)]),_:1})):oe("",!0)]),_:1}),a(w,{cols:"12",md:"4"},{default:r(()=>[e.value.precio?(f(),L(qe,{key:0,type:"success",variant:"tonal"},{default:r(()=>[l[73]||(l[73]=he("strong",null,"Precio de venta:",-1)),xe(" $"+je(e.value.precio),1)]),_:1})):oe("",!0)]),_:1})]),_:1}),e.value.materiales&&e.value.materiales.length?(f(),L(se,{key:8},{default:r(()=>[a(w,{cols:"12"},{default:r(()=>[a(ga,{headers:[{title:"Material",key:"nombre"},{title:"Proveedor",key:"proveedor"},{title:"Cantidad",key:"cantidad"},{title:"Unidad",key:"unidad"},{title:"Costo unitario",key:"costo_unitario"},{title:"Costo total",key:"costo_total"}],items:e.value.materiales,class:"mt-2",dense:"","hide-default-footer":""},{"item.costo_unitario":r(({item:o})=>[xe(" $"+je(o.costo_unitario),1)]),"item.costo_total":r(({item:o})=>[xe(" $"+je(o.costo_total),1)]),_:1},8,["items"])]),_:1})]),_:1})):oe("",!0),e.value.tipo===54?(f(),L(se,{key:9},{default:r(()=>[a(w,{cols:"12"},{default:r(()=>[a(qe,{color:"success",variant:"tonal"},{default:r(()=>[l[74]||(l[74]=he("strong",null,"Costo total compuesta:",-1)),xe(" $"+je(ye.value.toLocaleString())+" ",1),l[75]||(l[75]=he("div",{class:"text-caption"}," Suma de todas las ventanas individuales con sus medidas espec√≠ficas ",-1))]),_:1})]),_:1})]),_:1})):oe("",!0),a(Be,{class:"justify-end"},{default:r(()=>[a(Ue,{color:"secondary",variant:"text",onClick:E},{default:r(()=>l[76]||(l[76]=[xe(" Cancelar ")])),_:1}),a(Ue,{color:"primary",type:"submit"},{default:r(()=>[xe(je(b.value?"Guardar cambios":"Agregar ventana"),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),a(Te,{modelValue:p.value,"onUpdate:modelValue":l[54]||(l[54]=o=>p.value=o),"max-width":"400"},{default:r(()=>[a(Le,null,{default:r(()=>[a(Oe,null,{default:r(()=>l[77]||(l[77]=[xe("Agregar ventana")])),_:1}),a(Ne),a(ba,null,{default:r(()=>[(f(),Z(ue,null,Ae(d,o=>a(We,{key:o.id,onClick:V=>X(o.id)},{default:r(()=>[a(Fe,null,{default:r(()=>[xe(je(o.nombre),1)]),_:2},1024)]),_:2},1032,["onClick"])),64)),a(We,{onClick:ve},{default:r(()=>[a(Fe,null,{default:r(()=>l[78]||(l[78]=[xe("Compuesta (anidada)")])),_:1})]),_:1})]),_:1}),a(Be,null,{default:r(()=>[a(Ye),a(Ue,{text:"",onClick:l[53]||(l[53]=o=>p.value=!1)},{default:r(()=>l[79]||(l[79]=[xe("Cancelar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Te,{modelValue:g.value,"onUpdate:modelValue":l[62]||(l[62]=o=>g.value=o),"max-width":"600px"},{default:r(()=>[a(Le,null,{default:r(()=>[a(Oe,null,{default:r(()=>l[80]||(l[80]=[he("span",{class:"text-h5"},"Editar Ventana Individual",-1)])),_:1}),a(Va,null,{default:r(()=>[a(ya,null,{default:r(()=>[a(se,null,{default:r(()=>[a(w,{cols:"12",sm:"6"},{default:r(()=>[a(Me,{modelValue:v.value.ancho,"onUpdate:modelValue":l[55]||(l[55]=o=>v.value.ancho=o),modelModifiers:{number:!0},label:"Ancho (mm)",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(w,{cols:"12",sm:"6"},{default:r(()=>[a(Me,{modelValue:v.value.alto,"onUpdate:modelValue":l[56]||(l[56]=o=>v.value.alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),a(se,null,{default:r(()=>[a(w,{cols:"12",sm:"6"},{default:r(()=>[a(Me,{modelValue:v.value.sizePercent,"onUpdate:modelValue":l[57]||(l[57]=o=>v.value.sizePercent=o),modelModifiers:{number:!0},label:"Porcentaje del espacio (%)",type:"number",min:"10",max:"80",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(w,{cols:"12",sm:"6"},{default:r(()=>[a(fe,{modelValue:v.value.tipo,"onUpdate:modelValue":l[58]||(l[58]=o=>v.value.tipo=o),items:d,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),c(v.value.tipo)?(f(),L(se,{key:0},{default:r(()=>[a(w,{cols:"12",sm:"6"},{default:r(()=>[a(re,{modelValue:v.value.ladoApertura,"onUpdate:modelValue":l[59]||(l[59]=o=>v.value.ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(N,{label:"Izquierda",value:"izquierda"}),a(N,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(w,{cols:"12",sm:"6"},{default:r(()=>[a(re,{modelValue:v.value.direccionApertura,"onUpdate:modelValue":l[60]||(l[60]=o=>v.value.direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(N,{label:"Interior",value:"interior"}),a(N,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):oe("",!0),a(se,null,{default:r(()=>[a(w,{cols:"12"},{default:r(()=>[a(qe,{color:"info",variant:"tonal"},{default:r(()=>[he("div",Ta,"Costo estimado: $"+je(be.value.toLocaleString()),1),he("div",Oa," ID Tipo: "+je(v.value.tipo)+" | √Årea: "+je(D.value.toFixed(2))+" m¬≤ | Tipo: "+je(Ve(v.value.tipo)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Be,null,{default:r(()=>[a(Ye),a(Ue,{color:"blue-darken-1",variant:"text",onClick:l[61]||(l[61]=o=>g.value=!1)},{default:r(()=>l[81]||(l[81]=[xe(" Cancelar ")])),_:1}),a(Ue,{color:"blue-darken-1",variant:"text",onClick:y},{default:r(()=>l[82]||(l[82]=[xe(" Guardar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},vl=Object.freeze(Object.defineProperty({__proto__:null,default:Ha},Symbol.toStringTag,{value:"Module"}));export{vl as A,Ha as _,Pa as a,Da as b,Ma as c,ja as d,Sa as e,$a as f};
