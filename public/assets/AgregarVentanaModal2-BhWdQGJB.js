import{X as o,a as B,f as E,o as p,e as u,b as a,r as ce,w as He,c as J,d as ne,m as ie,aU as oe,aV as te,F as de,n as sa,i as Ee,q as Se,E as za,b5 as Ul,t as K,v as we,Z as De,a2 as la,a3 as Le,H as Ke,x as _l,h as El,I as fl,J as pl,aD as Sl,ar as hl}from"./index-Bbf9NtO_.js";import{_ as Rl}from"./VistaVentanaFijaS60-BmTkm7Cv.js";import{a as ea,r as Il,n as $l,_ as Ll}from"./VistaVentanaCorredera-BBQomx9q.js";import{c as Tl,_ as Wl,b as Fl,a as Ol}from"./VistaBayWindow-DM4LqFKC.js";import{V as ra}from"./VSwitch-BPDk1XMe.js";import{a as se,V as $e}from"./VRadioGroup-CvzlsW1i.js";import{_ as ka}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as gl}from"./VTooltip-Bw5UplVk.js";import{b as Qe,V as Be,c as va}from"./VCard-C1PjMmAL.js";import{V as ua}from"./VCardText-BS7-d3lL.js";import{V as Dl,a as ha,b as ga,d as bl}from"./VList-B-rGQG8c.js";import{V as pa}from"./VDivider-gR8e3Iny.js";import{V as Ue}from"./VTextField-BML0o-9-.js";import{V as Ma}from"./VAutocomplete-DnnP3-kU.js";import{V as ca}from"./VSpacer-ByV-CSYn.js";import{V as da}from"./VDialog-4rgjSyxk.js";import{V as Hl}from"./VForm-BY0SHyqZ.js";import{V as Ie,a as Z}from"./VRow-e2eJeLw2.js";import{V as Pe}from"./VSelect-CaTpVbiJ.js";import{V as ia}from"./VAlert-CYbz_vFs.js";import{V as Xl}from"./VDataTable-bxdMY2XJ.js";import{V as Bl}from"./VContainer-CT8eMPy7.js";const he=50,Yl=60,yl=300,Gl={__name:"VistaVentanaFijaAL42",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"#000000"}},setup(A){const H={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},m={roble:new Image,nogal:new Image};m.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,m.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const O=o(()=>{var v;let s="";return typeof r.colorMarco=="object"&&((v=r.colorMarco)!=null&&v.nombre)?s=String(r.colorMarco.nombre).toLowerCase():typeof r.colorMarco=="string"&&(s=r.colorMarco.toLowerCase()),H[s]||"#ffffff"});function g(s,v=!1){var L;let b="";return typeof r.colorMarco=="object"&&((L=r.colorMarco)!=null&&L.nombre)?b=String(r.colorMarco.nombre).toLowerCase():typeof r.colorMarco=="string"&&(b=r.colorMarco.toLowerCase()),["roble","nogal"].includes(b)&&m[b]?{points:s,closed:!0,fillPatternImage:m[b],fillPatternRepeat:"repeat",fillPatternScale:{x:v?.15:.2,y:v?.15:.2},stroke:"black"}:{points:s,closed:!0,fill:O.value,stroke:"black"}}const r=A,i=o(()=>{const s=yl/r.ancho,v=yl/r.alto;return Math.min(s,v,1)*.9}),d=o(()=>Yl*i.value),f=o(()=>r.ancho*i.value),e=o(()=>r.alto*i.value),w=o(()=>g([he,he,he+f.value,he,he+f.value-d.value,he+d.value,he+d.value,he+d.value])),R=o(()=>g([he+f.value,he,he+f.value,he+e.value,he+f.value-d.value,he+e.value-d.value,he+f.value-d.value,he+d.value])),F=o(()=>g([he+f.value,he+e.value,he,he+e.value,he+d.value,he+e.value-d.value,he+f.value-d.value,he+e.value-d.value])),Y=o(()=>g([he,he+e.value,he,he,he+d.value,he+d.value,he+d.value,he+e.value-d.value])),j=o(()=>({x:he+d.value,y:he+d.value,width:f.value-d.value*2,height:e.value-d.value*2,fill:"#b3e5fc",stroke:"black"})),C=o(()=>{const s=Math.max(r.ancho,r.alto);return Math.min(Math.max(s/100,20),40)}),h=o(()=>({x:he+f.value/2-30,y:he+e.value+10,text:`${r.ancho}mm`,fontSize:C.value,fill:"black"})),n=o(()=>({x:he-25,y:he+e.value/2,text:`${r.alto}mm`,fontSize:C.value,fill:"black",rotation:-90,offsetX:C.value/2}));return(s,v)=>{const b=B("v-line"),L=B("v-rect"),V=B("v-text"),q=B("v-layer"),D=B("v-stage");return p(),E(D,{config:{width:400,height:400}},{default:u(()=>[a(q,null,{default:u(()=>[a(b,{config:w.value},null,8,["config"]),a(b,{config:R.value},null,8,["config"]),a(b,{config:F.value},null,8,["config"]),a(b,{config:Y.value},null,8,["config"]),a(L,{config:j.value},null,8,["config"]),a(V,{config:h.value},null,8,["config"]),a(V,{config:n.value},null,8,["config"])]),_:1})]),_:1})}}},ge=50,Jl=60,ba=0,Vl=300,Kl={__name:"VistaVentanaProyectanteAL42",props:{ancho:Number,alto:Number,colorMarco:[String,Object]},setup(A){const H=A,m={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},O={roble:new Image,nogal:new Image};O.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,O.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const g=o(()=>{var P,ve,je;const T=typeof H.colorMarco=="object"?(ve=(P=H.colorMarco)==null?void 0:P.nombre)==null?void 0:ve.toLowerCase():(je=H.colorMarco)==null?void 0:je.toLowerCase();return m[T]||"#ffffff"});function r(T,P=!1){var je,Ae;const ve=typeof H.colorMarco=="object"?(Ae=(je=H.colorMarco)==null?void 0:je.nombre)==null?void 0:Ae.toLowerCase():H.colorMarco.toLowerCase();return["roble","nogal"].includes(ve)&&O[ve]?{points:T,closed:!0,fillPatternImage:O[ve],fillPatternRepeat:"repeat",fillPatternScale:{x:P?.15:.2,y:P?.15:.2},stroke:"black"}:{points:T,closed:!0,fill:g.value,stroke:"black"}}const i=o(()=>{const T=Vl/H.ancho,P=Vl/H.alto;return Math.min(T,P,1)*.9}),d=o(()=>Jl*i.value),f=o(()=>H.ancho*i.value),e=o(()=>H.alto*i.value),w={width:400,height:400},R=o(()=>r([ge,ge,ge+f.value,ge,ge+f.value-d.value,ge+d.value,ge+d.value,ge+d.value])),F=o(()=>r([ge+f.value,ge,ge+f.value,ge+e.value,ge+f.value-d.value,ge+e.value-d.value,ge+f.value-d.value,ge+d.value])),Y=o(()=>r([ge+f.value,ge+e.value,ge,ge+e.value,ge+d.value,ge+e.value-d.value,ge+f.value-d.value,ge+e.value-d.value])),j=o(()=>r([ge,ge+e.value,ge,ge,ge+d.value,ge+d.value,ge+d.value,ge+e.value-d.value])),C=o(()=>({x:ge+d.value,y:ge+d.value,width:f.value-d.value*2,height:e.value-d.value*2,fill:"#b3e5fc",stroke:"black"})),h=o(()=>C.value.x+ba*i.value),n=o(()=>C.value.y+ba*i.value),s=o(()=>C.value.width-ba*2*i.value),v=o(()=>C.value.height-ba*2*i.value),b=o(()=>d.value*.8),L=o(()=>r([h.value,n.value,h.value+s.value,n.value,h.value+s.value-b.value,n.value+b.value,h.value+b.value,n.value+b.value],!0)),V=o(()=>r([h.value+s.value,n.value,h.value+s.value,n.value+v.value,h.value+s.value-b.value,n.value+v.value-b.value,h.value+s.value-b.value,n.value+b.value],!0)),q=o(()=>r([h.value+s.value,n.value+v.value,h.value,n.value+v.value,h.value+b.value,n.value+v.value-b.value,h.value+s.value-b.value,n.value+v.value-b.value],!0)),D=o(()=>r([h.value,n.value+v.value,h.value,n.value,h.value+b.value,n.value+b.value,h.value+b.value,n.value+v.value-b.value],!0)),U=o(()=>({points:[h.value+5,n.value+5,h.value+s.value/2,n.value+v.value-5],stroke:"black",dash:[10,5],strokeWidth:2})),k=o(()=>({points:[h.value+s.value-5,n.value+5,h.value+s.value/2,n.value+v.value-5],stroke:"black",dash:[10,5],strokeWidth:2})),z=o(()=>Math.min(Math.max(H.ancho/100,20),40)),S=o(()=>({x:ge+f.value/2-30,y:ge+e.value+10,text:`${H.ancho}mm`,fontSize:z.value,fill:"black"})),I=o(()=>({x:ge-25,y:ge+e.value/2,text:`${H.alto}mm`,fontSize:z.value,fill:"black",rotation:-90,offsetX:z.value/2}));return(T,P)=>{const ve=B("v-line"),je=B("v-rect"),Ae=B("v-text"),Me=B("v-layer"),Ne=B("v-stage");return p(),E(Ne,{config:w},{default:u(()=>[a(Me,null,{default:u(()=>[a(ve,{config:R.value},null,8,["config"]),a(ve,{config:F.value},null,8,["config"]),a(ve,{config:Y.value},null,8,["config"]),a(ve,{config:j.value},null,8,["config"]),a(je,{config:C.value},null,8,["config"]),a(ve,{config:L.value},null,8,["config"]),a(ve,{config:V.value},null,8,["config"]),a(ve,{config:q.value},null,8,["config"]),a(ve,{config:D.value},null,8,["config"]),a(ea,{x:h.value+s.value/2,y:n.value+v.value+2,width:20,height:6,rotation:90,offsetX:10,offsetY:2.5},null,8,["x","y"]),a(ve,{config:U.value},null,8,["config"]),a(ve,{config:k.value},null,8,["config"]),a(Ae,{config:S.value},null,8,["config"]),a(Ae,{config:I.value},null,8,["config"])]),_:1})]),_:1})}}},Ql={style:{"margin-bottom":"10px"}},Oe=40,Zl=54,eo=80,xl=20,kl=300,ao={__name:"VistaVentanaCorrederaAL25",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"},hoja1AlFrente:{type:Boolean,default:!0},hojasMoviles:{type:Number,default:2},hojaMovilSeleccionada:{type:Number,default:1}},setup(A,{expose:H}){const m=ce(null);H({exportarImagen:()=>{if(m.value)try{const x=m.value.getStage();return x.draw(),x.toDataURL({pixelRatio:1,quality:.9})}catch(x){return console.error("âŒ Error en exportarImagen:",x),null}return null}});const g=A,r=ce(g.hoja1AlFrente),i=o(()=>g.hojasMoviles===2||g.hojaMovilSeleccionada===1),d=o(()=>g.hojasMoviles===2||g.hojaMovilSeleccionada===2),f=o(()=>i.value),e=o(()=>d.value);He(()=>g.hoja1AlFrente,x=>{r.value=x});const w={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b",bronce:"#CD7F32","negro mate":"#1A1A1A",inox:"#C0C0C0"},R=o(()=>{var y,l;const x=(l=(y=g.colorMarco)==null?void 0:y.toLowerCase)==null?void 0:l.call(y);return w[x]||"#ffffff"}),F=o(()=>{const x=kl/g.ancho,y=kl/g.alto;return Math.min(x,y,1)*.9}),Y=o(()=>Zl*F.value),j=o(()=>eo*F.value),C=o(()=>g.ancho*F.value),h=o(()=>g.alto*F.value),n=o(()=>xl*F.value),s=o(()=>({x:Oe,y:Oe,width:C.value,height:Y.value,fill:R.value,stroke:"black",strokeWidth:1})),v=o(()=>({x:Oe+C.value-Y.value,y:Oe,width:Y.value,height:h.value,fill:R.value,stroke:"black",strokeWidth:1})),b=o(()=>({x:Oe,y:Oe+h.value-Y.value,width:C.value,height:Y.value,fill:R.value,stroke:"black",strokeWidth:1})),L=o(()=>({x:Oe,y:Oe,width:Y.value,height:h.value,fill:R.value,stroke:"black",strokeWidth:1})),V=o(()=>(C.value-Y.value*2+xl)/2),q=o(()=>h.value-Y.value*2),D=o(()=>Oe+Y.value),U=o(()=>Oe+Y.value),k=o(()=>Oe+C.value-Y.value-V.value+n.value-j.value*.22),z=U,S=o(()=>({x:D.value,y:U.value,width:V.value,height:j.value,fill:R.value,stroke:"black",strokeWidth:1})),I=o(()=>({x:D.value+V.value-j.value,y:U.value,width:j.value,height:q.value,fill:R.value,stroke:"black",strokeWidth:1})),T=o(()=>({x:D.value,y:U.value+q.value-j.value,width:V.value,height:j.value,fill:R.value,stroke:"black",strokeWidth:1})),P=o(()=>({x:D.value,y:U.value,width:j.value,height:q.value,fill:R.value,stroke:"black",strokeWidth:1})),ve=o(()=>({x:k.value,y:z.value,width:V.value,height:j.value,fill:R.value,stroke:"black",strokeWidth:1})),je=o(()=>({x:k.value+V.value-j.value,y:z.value,width:j.value,height:q.value,fill:R.value,stroke:"black",strokeWidth:1})),Ae=o(()=>({x:k.value,y:z.value+q.value-j.value,width:V.value,height:j.value,fill:R.value,stroke:"black",strokeWidth:1})),Me=o(()=>({x:k.value,y:z.value,width:j.value,height:q.value,fill:R.value,stroke:"black",strokeWidth:1})),Ne=o(()=>{if(r.value)return{x:D.value+j.value,y:U.value+j.value,width:V.value-j.value*2,height:q.value-j.value*2,fill:"lightblue",stroke:"black"};const x=j.value*.35+F.value*50,y=j.value*1.3+F.value*1;return{x:D.value+x,y:U.value+j.value,width:V.value-y-15,height:q.value-j.value*2,fill:"lightblue",stroke:"black"}}),qe=o(()=>{if(r.value){const x=j.value*.4+F.value*10,y=j.value*1.4+F.value*10;return{x:k.value+x+10,y:z.value+j.value,width:V.value-y-10,height:q.value-j.value*2,fill:"lightblue",stroke:"black"}}return{x:k.value+j.value,y:z.value+j.value,width:V.value-j.value*2,height:q.value-j.value*2,fill:"lightblue",stroke:"black"}}),ae=o(()=>g.hojasMoviles===2||g.hojasMoviles===1&&g.hojaMovilSeleccionada===1?"â†’":"+"),ee=o(()=>g.hojasMoviles===2||g.hojasMoviles===1&&g.hojaMovilSeleccionada===2?"â†":"+"),X=o(()=>({x:D.value+V.value/2-10,y:U.value+q.value/2+10,text:ae.value,fontSize:30,fill:"black"})),N=o(()=>({x:k.value+V.value/2-10,y:z.value+q.value/2+10,text:ee.value,fontSize:30,fill:"black"})),G=o(()=>({x:Oe-30,y:Oe+h.value/4-10,text:"AL25",fontSize:12,fill:"#666",fontStyle:"bold"})),W=o(()=>({x:Oe-30,y:Oe+h.value/4+5,text:"Corredera",fontSize:10,fill:"#999"})),Q=o(()=>{const x=Math.max(g.ancho,g.alto);return Math.min(Math.max(x/100,20),40)}),M=o(()=>({x:Oe+C.value/2-30,y:Oe+h.value+10,text:`${g.ancho}mm`,fontSize:Q.value,fill:"black"})),c=o(()=>({x:Oe-25,y:Oe+h.value/2,text:`${g.alto}mm`,fontSize:Q.value,fill:"black",rotation:-90,offsetX:Q.value/2}));return(x,y)=>{const l=B("v-rect"),t=B("v-text"),_=B("v-layer"),$=B("v-stage");return p(),J("div",null,[ne("div",Ql,[a(ra,{modelValue:r.value,"onUpdate:modelValue":y[0]||(y[0]=re=>r.value=re),label:"Hoja 1 adelante",density:"compact"},null,8,["modelValue"])]),a($,{ref_key:"stageRef",ref:m,config:{width:400,height:400}},{default:u(()=>[a(_,null,{default:u(()=>[a(l,oe(te(s.value)),null,16),a(l,oe(te(v.value)),null,16),a(l,oe(te(b.value)),null,16),a(l,oe(te(L.value)),null,16),r.value?(p(),J(de,{key:0},[a(l,oe(te(qe.value)),null,16),a(l,oe(te(ve.value)),null,16),a(l,oe(te(je.value)),null,16),a(l,oe(te(Ae.value)),null,16),a(l,oe(te(Me.value)),null,16),a(t,{x:k.value+V.value/2-10,y:sa(z)+q.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(l,oe(te(Ne.value)),null,16),a(l,oe(te(S.value)),null,16),a(l,oe(te(I.value)),null,16),a(l,oe(te(T.value)),null,16),a(l,oe(te(P.value)),null,16),a(t,{x:D.value+V.value/2-10,y:U.value+q.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)):(p(),J(de,{key:1},[a(l,oe(te(Ne.value)),null,16),a(l,oe(te(S.value)),null,16),a(l,oe(te(I.value)),null,16),a(l,oe(te(T.value)),null,16),a(l,oe(te(P.value)),null,16),a(t,{x:D.value+V.value/2-10,y:U.value+q.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(l,oe(te(qe.value)),null,16),a(l,oe(te(ve.value)),null,16),a(l,oe(te(je.value)),null,16),a(l,oe(te(Ae.value)),null,16),a(l,oe(te(Me.value)),null,16),a(t,{x:k.value+V.value/2-10,y:sa(z)+q.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)),a(t,oe(te(M.value)),null,16),a(t,oe(te(c.value)),null,16),a(t,oe(te(G.value)),null,16),a(t,oe(te(W.value)),null,16),a(t,oe(te(X.value)),null,16),a(t,oe(te(N.value)),null,16),f.value?(p(),E(ea,{key:2,x:D.value+j.value-F.value*35,y:U.value+q.value/2,escalaManilla:F.value*4},null,8,["x","y","escalaManilla"])):ie("",!0),e.value?(p(),E(ea,{key:3,x:k.value+V.value-j.value+F.value*35,y:sa(z)+q.value/2,escalaManilla:F.value*4},null,8,["x","y","escalaManilla"])):ie("",!0)]),_:1})]),_:1},512)])}}},me=40,lo=54,oo=54,ql={__name:"VistaVentanaCompuestaAL42",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"},filas:{type:Number,default:1},columnas:{type:Number,default:1},altosFilas:{type:Array,default:()=>[]},anchosColumnas:{type:Array,default:()=>[]},secciones:{type:Array,default:()=>[[{tipo:1}]]}},setup(A,{expose:H}){const m=ce(null),O=ce(0),g=A;He(()=>[g.ancho,g.alto,g.filas,g.columnas],([V,q,D,U])=>{console.log("ðŸ”„ Props cambiaron:",{ancho:V,alto:q,filas:D,columnas:U}),O.value++,console.log("ðŸ”‘ Nuevo render key:",O.value)});const r=o(()=>320/Math.max(g.ancho,g.alto)),i=o(()=>g.ancho*r.value),d=o(()=>g.alto*r.value),f=o(()=>lo*r.value),e=o(()=>oo*r.value);o(()=>`${g.ancho}-${g.alto}-${g.filas}-${g.columnas}-${JSON.stringify(g.altosFilas)}-${JSON.stringify(g.anchosColumnas)}-${JSON.stringify(g.secciones)}`);const w=o(()=>{var U,k,z;const V=[],q=i.value-f.value*2-e.value*(g.columnas-1),D=d.value-f.value*2-e.value*(g.filas-1);for(let S=0;S<g.filas;S++)for(let I=0;I<g.columnas;I++){let T=me+f.value;for(let N=0;N<I;N++){const W=(g.anchosColumnas[N]||g.ancho/g.columnas)/g.ancho;T+=q*W+e.value}let P=me+f.value;for(let N=0;N<S;N++){const W=(g.altosFilas[N]||g.alto/g.filas)/g.alto;P+=D*W+e.value}const je=(g.anchosColumnas[I]||g.ancho/g.columnas)/g.ancho,Ae=q*je,Ne=(g.altosFilas[S]||g.alto/g.filas)/g.alto,qe=D*Ne,ae={x:T,y:P,width:Ae,height:qe,fill:"#b3e5fc",stroke:"black",strokeWidth:.5},ee=(((z=(k=(U=g.secciones)==null?void 0:U[S])==null?void 0:k[I])==null?void 0:z.tipo)||1)===56,X={key:`f${S}-c${I}`,vidrio:ae,esProyectante:ee};if(ee){const N=e.value*.35,G=ae.x,W=ae.y,Q=ae.width,M=ae.height;X.hojaTop={points:[G,W,G+Q,W,G+Q-N,W+N,G+N,W+N],closed:!0,fill:R.value,stroke:"black",strokeWidth:.4},X.hojaRight={points:[G+Q,W,G+Q,W+M,G+Q-N,W+M-N,G+Q-N,W+N],closed:!0,fill:R.value,stroke:"black",strokeWidth:.4},X.hojaBottom={points:[G+Q,W+M,G,W+M,G+N,W+M-N,G+Q-N,W+M-N],closed:!0,fill:R.value,stroke:"black",strokeWidth:.4},X.hojaLeft={points:[G,W+M,G,W,G+N,W+N,G+N,W+M-N],closed:!0,fill:R.value,stroke:"black",strokeWidth:.4},X.lineaApertura1={points:[G+5,W+5,G+Q/2,W+M-5],stroke:"black",strokeWidth:.8,dash:[3,2]},X.lineaApertura2={points:[G+Q-5,W+5,G+Q/2,W+M-5],stroke:"black",strokeWidth:.8,dash:[3,2]}}V.push(X)}return V}),R=o(()=>{var D,U,k;const V={blanco:"#FFFFFF",mate:"#D8D8D8",negro:"#2C2C2C",bronce:"#CD7F32",champagne:"#F7E7CE",grafito:"#4A4A4A",cafe:"#8B4513",cafÃ©:"#8B4513"},q=typeof g.colorMarco=="object"?(U=(D=g.colorMarco)==null?void 0:D.nombre)==null?void 0:U.toLowerCase():(k=g.colorMarco)==null?void 0:k.toLowerCase();return V[q]||V.blanco}),F=o(()=>({points:[me,me,me+i.value,me,me+i.value-f.value,me+f.value,me+f.value,me+f.value],closed:!0,fill:R.value,stroke:"black",strokeWidth:.8})),Y=o(()=>({points:[me+i.value,me,me+i.value,me+d.value,me+i.value-f.value,me+d.value-f.value,me+i.value-f.value,me+f.value],closed:!0,fill:R.value,stroke:"black",strokeWidth:.8})),j=o(()=>({points:[me+i.value,me+d.value,me,me+d.value,me+f.value,me+d.value-f.value,me+i.value-f.value,me+d.value-f.value],closed:!0,fill:R.value,stroke:"black",strokeWidth:.8})),C=o(()=>({points:[me,me+d.value,me,me,me+f.value,me+f.value,me+f.value,me+d.value-f.value],closed:!0,fill:R.value,stroke:"black",strokeWidth:.8})),h=o(()=>{const V=[];for(let q=0;q<g.filas-1;q++){let D=me+f.value;for(let U=0;U<=q;U++){const z=(g.altosFilas[U]||g.alto/g.filas)/g.alto,S=v()*z;D+=S,U<q&&(D+=e.value)}V.push({x:me+f.value,y:D,width:i.value-f.value*2,height:e.value,fill:R.value,stroke:"black",strokeWidth:.8})}return V}),n=o(()=>{const V=[];for(let q=0;q<g.columnas-1;q++){let D=me+f.value;for(let U=0;U<=q;U++){const z=(g.anchosColumnas[U]||g.ancho/g.columnas)/g.ancho,S=s()*z;D+=S,U<q&&(D+=e.value)}V.push({x:D,y:me+f.value,width:e.value,height:d.value-f.value*2,fill:R.value,stroke:"black",strokeWidth:.8})}return V});function s(){const V=i.value,q=f.value*2,D=e.value*(g.columnas-1);return V-q-D}function v(){const V=d.value,q=f.value*2,D=e.value*(g.filas-1);return V-q-D}const b=o(()=>({x:me+i.value/2-30,y:me+d.value+15,text:`${g.ancho}mm`,fontSize:14,fill:"black"})),L=o(()=>({x:me-20,y:me+d.value/2,text:`${g.alto}mm`,fontSize:14,fill:"black",rotation:-90}));return H({getStage:()=>{var V;return(V=m.value)==null?void 0:V.getStage()},exportarImagen:()=>{if(m.value)try{return m.value.getStage().toDataURL({pixelRatio:2})}catch(V){return console.error("âŒ Error en exportarImagen:",V),null}return null}}),(V,q)=>{const D=B("v-line"),U=B("v-rect"),k=B("v-text"),z=B("v-layer"),S=B("v-stage");return p(),E(S,{ref_key:"stageRef",ref:m,config:{width:400,height:400},key:O.value},{default:u(()=>[a(z,null,{default:u(()=>[a(D,oe(te(F.value)),null,16),a(D,oe(te(Y.value)),null,16),a(D,oe(te(j.value)),null,16),a(D,oe(te(C.value)),null,16),(p(!0),J(de,null,Ee(h.value,(I,T)=>(p(),E(U,Se({key:"ph-"+T,ref_for:!0},I),null,16))),128)),(p(!0),J(de,null,Ee(n.value,(I,T)=>(p(),E(U,Se({key:"pv-"+T,ref_for:!0},I),null,16))),128)),(p(!0),J(de,null,Ee(w.value,I=>(p(),J(de,{key:I.key},[a(U,Se({ref_for:!0},I.vidrio),null,16),I.esProyectante?(p(),J(de,{key:0},[a(D,Se({ref_for:!0},I.hojaTop),null,16),a(D,Se({ref_for:!0},I.hojaRight),null,16),a(D,Se({ref_for:!0},I.hojaBottom),null,16),a(D,Se({ref_for:!0},I.hojaLeft),null,16),a(D,Se({ref_for:!0},I.lineaApertura1),null,16),a(D,Se({ref_for:!0},I.lineaApertura2),null,16)],64)):ie("",!0)],64))),128)),a(k,oe(te(b.value)),null,16),a(k,oe(te(L.value)),null,16)]),_:1})]),_:1})}}},to={style:{"margin-bottom":"10px"}},be=50,no=60,ya=0,Ml=300,Pl={__name:"VistaVentanaAbatirS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],material:[String,Number],tipoVidrio:[String,Number],productoVidrioProveedor:[String,Number],ladoInicial:{type:String,default:"izquierda",validator:A=>["izquierda","derecha"].includes(A)},direccionApertura:{type:String,default:"interior",validator:A=>["interior","exterior"].includes(A)}},emits:["update:ladoApertura","update:direccionApertura"],setup(A,{expose:H,emit:m}){const O=A,g=m,r=ce(O.ladoInicial),i=ce(O.direccionApertura);He(r,X=>{console.log("ðŸ”„ Lado apertura cambiÃ³ a:",X),g("update:ladoApertura",X)}),He(i,X=>{console.log("ðŸ”„ DirecciÃ³n apertura cambiÃ³ a:",X),g("update:direccionApertura",X)});const d={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},f={roble:new Image,nogal:new Image};f.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,f.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const e=o(()=>{var N,G,W;const X=typeof O.colorMarco=="object"?(G=(N=O.colorMarco)==null?void 0:N.nombre)==null?void 0:G.toLowerCase():(W=O.colorMarco)==null?void 0:W.toLowerCase();return d[X]||"#ffffff"});function w(X,N=!1){var W,Q;const G=typeof O.colorMarco=="object"?(Q=(W=O.colorMarco)==null?void 0:W.nombre)==null?void 0:Q.toLowerCase():O.colorMarco.toLowerCase();return["roble","nogal"].includes(G)&&f[G]?{points:X,closed:!0,fillPatternImage:f[G],fillPatternRepeat:"repeat",fillPatternScale:{x:N?.15:.2,y:N?.15:.2},stroke:"black"}:{points:X,closed:!0,fill:e.value,stroke:"black"}}const R=o(()=>{const X=Ml/O.ancho,N=Ml/O.alto;return Math.min(X,N,1)*.9}),F=o(()=>no*R.value),Y=o(()=>O.ancho*R.value),j=o(()=>O.alto*R.value),C={width:400,height:400},h=o(()=>w([be,be,be+Y.value,be,be+Y.value-F.value,be+F.value,be+F.value,be+F.value])),n=o(()=>w([be+Y.value,be,be+Y.value,be+j.value,be+Y.value-F.value,be+j.value-F.value,be+Y.value-F.value,be+F.value])),s=o(()=>w([be+Y.value,be+j.value,be,be+j.value,be+F.value,be+j.value-F.value,be+Y.value-F.value,be+j.value-F.value])),v=o(()=>w([be,be+j.value,be,be,be+F.value,be+F.value,be+F.value,be+j.value-F.value])),b=o(()=>({x:be+F.value,y:be+F.value,width:Y.value-F.value*2,height:j.value-F.value*2,fill:"#b3e5fc",stroke:"black"})),L=o(()=>b.value.x+ya*R.value),V=o(()=>b.value.y+ya*R.value),q=o(()=>b.value.width-ya*2*R.value),D=o(()=>b.value.height-ya*2*R.value),U=o(()=>F.value*.8),k=o(()=>w([L.value,V.value,L.value+q.value,V.value,L.value+q.value-U.value,V.value+U.value,L.value+U.value,V.value+U.value],!0)),z=o(()=>w([L.value+q.value,V.value,L.value+q.value,V.value+D.value,L.value+q.value-U.value,V.value+D.value-U.value,L.value+q.value-U.value,V.value+U.value],!0)),S=o(()=>w([L.value+q.value,V.value+D.value,L.value,V.value+D.value,L.value+U.value,V.value+D.value-U.value,L.value+q.value-U.value,V.value+D.value-U.value],!0)),I=o(()=>w([L.value,V.value+D.value,L.value,V.value,L.value+U.value,V.value+U.value,L.value+U.value,V.value+D.value-U.value],!0)),T=o(()=>r.value==="izquierda"?L.value+q.value-15:L.value+15),P=o(()=>V.value+D.value/2),ve=o(()=>r.value==="izquierda"?{points:[L.value+5,V.value+5,L.value+q.value-5,V.value+D.value/2],stroke:"black",dash:[10,5],strokeWidth:2}:{points:[L.value+q.value-5,V.value+5,L.value+5,V.value+D.value/2],stroke:"black",dash:[10,5],strokeWidth:2}),je=o(()=>r.value==="izquierda"?{points:[L.value+5,V.value+D.value-5,L.value+q.value-5,V.value+D.value/2],stroke:"black",dash:[10,5],strokeWidth:2}:{points:[L.value+q.value-5,V.value+D.value-5,L.value+5,V.value+D.value/2],stroke:"black",dash:[10,5],strokeWidth:2}),Ae=o(()=>Math.min(Math.max(O.ancho/100,20),40)),Me=o(()=>({x:be+Y.value/2-30,y:be+j.value+10,text:`${O.ancho}mm`,fontSize:Ae.value,fill:"black"})),Ne=o(()=>({x:be-25,y:be+j.value/2,text:`${O.alto}mm`,fontSize:Ae.value,fill:"black",rotation:-90,offsetX:Ae.value/2})),qe=o(()=>({x:Me.value.x,y:Me.value.y+Ae.value+5,text:`Apertura ${i.value.charAt(0).toUpperCase()}${i.value.slice(1)}`,fontSize:Math.min(18,Ae.value*.8),fill:"black"})),ae=ce(null);return H({exportarImagen:()=>ae.value?ae.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null}),(X,N)=>{const G=B("v-line"),W=B("v-rect"),Q=B("v-text"),M=B("v-layer"),c=B("v-stage");return p(),J("div",null,[ne("div",to,[a($e,{modelValue:r.value,"onUpdate:modelValue":N[0]||(N[0]=x=>r.value=x),row:"",density:"compact",label:"Lado de apertura:"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a($e,{modelValue:i.value,"onUpdate:modelValue":N[1]||(N[1]=x=>i.value=x),row:"",density:"compact",label:"DirecciÃ³n de apertura:"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),a(c,{ref_key:"stageRef",ref:ae,config:C},{default:u(()=>[a(M,null,{default:u(()=>[a(G,{config:h.value},null,8,["config"]),a(G,{config:n.value},null,8,["config"]),a(G,{config:s.value},null,8,["config"]),a(G,{config:v.value},null,8,["config"]),a(W,{config:b.value},null,8,["config"]),a(G,{config:k.value},null,8,["config"]),a(G,{config:z.value},null,8,["config"]),a(G,{config:S.value},null,8,["config"]),a(G,{config:I.value},null,8,["config"]),a(ea,{x:T.value,y:P.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),a(G,{config:ve.value},null,8,["config"]),a(G,{config:je.value},null,8,["config"]),a(Q,{config:Me.value},null,8,["config"]),a(Q,{config:Ne.value},null,8,["config"]),a(Q,{config:qe.value},null,8,["config"])]),_:1})]),_:1},512)])}}},ye=50,uo=60,ro=80,jl=300,Nl={__name:"VistaPuertaS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],ladoApertura:{type:String,default:"izquierda",validator:A=>["izquierda","derecha"].includes(A)},direccionApertura:{type:String,default:"interior",validator:A=>["interior","exterior"].includes(A)},pasoLibre:{type:Boolean,default:!1}},setup(A,{expose:H}){const m=A;ce(m.ladoApertura);const O={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},g={roble:new Image,nogal:new Image};g.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,g.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const r=o(()=>{var X,N,G;const ee=typeof m.colorMarco=="object"?(N=(X=m.colorMarco)==null?void 0:X.nombre)==null?void 0:N.toLowerCase():(G=m.colorMarco)==null?void 0:G.toLowerCase();return O[ee]||"#ffffff"});function i(ee,X=!1){var G,W;const N=typeof m.colorMarco=="object"?(W=(G=m.colorMarco)==null?void 0:G.nombre)==null?void 0:W.toLowerCase():m.colorMarco.toLowerCase();return["roble","nogal"].includes(N)&&g[N]?{points:ee,closed:!0,fillPatternImage:g[N],fillPatternRepeat:"repeat",fillPatternScale:{x:X?.15:.2,y:X?.15:.2},stroke:"black"}:{points:ee,closed:!0,fill:r.value,stroke:"black"}}const d=o(()=>{const ee=jl/m.ancho,X=jl/m.alto;return Math.min(ee,X,1)*.9}),f=o(()=>uo*d.value),e=o(()=>m.ancho*d.value),w=o(()=>m.alto*d.value),R=o(()=>i([ye,ye,ye+e.value,ye,ye+e.value-f.value,ye+f.value,ye+f.value,ye+f.value])),F=o(()=>i([ye+e.value,ye,ye+e.value,ye+w.value,ye+e.value-f.value,ye+w.value-(m.pasoLibre?0:f.value),ye+e.value-f.value,ye+f.value])),Y=o(()=>i([ye,ye+w.value,ye,ye,ye+f.value,ye+f.value,ye+f.value,ye+w.value-(m.pasoLibre?0:f.value)])),j=o(()=>m.pasoLibre?null:i([ye+e.value,ye+w.value,ye,ye+w.value,ye+f.value,ye+w.value-f.value,ye+e.value-f.value,ye+w.value-f.value])),C=o(()=>{const ee=w.value-f.value-(m.pasoLibre?0:f.value),X=Math.max(ee,5),N=Math.max(e.value-f.value*2,5);return{x:ye+f.value,y:ye+f.value,width:N,height:X,fill:"#b3e5fc",stroke:"black"}}),h=o(()=>C.value.x),n=o(()=>C.value.y),s=o(()=>C.value.width),v=o(()=>C.value.height),b=o(()=>{const ee=ro*d.value,X=f.value*1.15,N=s.value*.45;return Math.min(Math.max(ee,X),N)}),L=o(()=>i([h.value,n.value,h.value+s.value,n.value,h.value+s.value-b.value,n.value+b.value,h.value+b.value,n.value+b.value],!0)),V=o(()=>i([h.value+s.value,n.value,h.value+s.value,n.value+v.value,h.value+s.value-b.value,n.value+v.value-b.value,h.value+s.value-b.value,n.value+b.value],!0)),q=o(()=>i([h.value+s.value,n.value+v.value,h.value,n.value+v.value,h.value+b.value,n.value+v.value-b.value,h.value+s.value-b.value,n.value+v.value-b.value],!0)),D=o(()=>i([h.value,n.value+v.value,h.value,n.value,h.value+b.value,n.value+b.value,h.value+b.value,n.value+v.value-b.value],!0)),U=o(()=>m.ladoApertura==="izquierda"?h.value+s.value-15:h.value+15),k=o(()=>n.value+v.value/2),z=o(()=>m.direccionApertura==="interior"?0:Math.min(Math.max(s.value*.1,8*d.value),25*d.value)),S=o(()=>{const ee=m.ladoApertura==="izquierda",X=z.value*(ee?-1:1),N=ee?h.value:h.value+s.value,G=n.value+8,W=n.value+v.value-8,Q=n.value+v.value/2,M=ee?h.value+s.value-8:h.value+8,c=N+X;return[{points:[c,G,M,Q],stroke:"black",dash:[10,5],strokeWidth:2},{points:[c,W,M,Q],stroke:"black",dash:[10,5],strokeWidth:2}]}),I=o(()=>Math.min(Math.max(m.ancho/100,20),40)),T=o(()=>({x:ye+e.value/2-30,y:ye+w.value+10,text:`${m.ancho}mm`,fontSize:I.value,fill:"black"})),P=o(()=>({x:ye-25,y:ye+w.value/2,text:`${m.alto}mm`,fontSize:I.value,fill:"black",rotation:-90,offsetX:I.value/2})),ve=o(()=>({x:T.value.x,y:T.value.y+I.value+5,text:`Apertura ${m.direccionApertura.charAt(0).toUpperCase()}${m.direccionApertura.slice(1)}`,fontSize:Math.min(18,I.value*.8),fill:"black"})),je=ce(null);H({exportarImagen:()=>je.value?je.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null});const Me=o(()=>Math.max(28*d.value,f.value*.45)),Ne=o(()=>Math.min(Math.max(140*d.value,30*d.value),v.value*.4));o(()=>2*d.value);const qe=o(()=>m.direccionApertura==="interior"),ae=o(()=>{if(!qe.value)return[];let ee=v.value>2200?4:3;const X=Math.max(v.value-16*d.value,20);let N=Ne.value;N*ee>X*.85&&(N=X*.85/ee);const G=(X-N*ee)/(ee+1),W=[];for(let Q=0;Q<ee;Q++){const M=n.value+8*d.value+G*(Q+1)+N*Q,c=m.ladoApertura==="izquierda"?h.value-Me.value/2+2*d.value:h.value+s.value-Me.value/2-2*d.value;W.push({x:c,y:M,width:Me.value,height:N,fill:"#888",stroke:"black",cornerRadius:2})}return W});return(ee,X)=>{const N=B("v-line"),G=B("v-rect"),W=B("v-text"),Q=B("v-layer"),M=B("v-stage");return p(),J("div",null,[a(M,{ref_key:"stageRef",ref:je,config:{width:400,height:400}},{default:u(()=>[a(Q,null,{default:u(()=>[a(N,{config:R.value},null,8,["config"]),a(N,{config:F.value},null,8,["config"]),a(N,{config:Y.value},null,8,["config"]),j.value?(p(),E(N,{key:0,config:j.value},null,8,["config"])):ie("",!0),a(G,{config:C.value},null,8,["config"]),a(N,{config:L.value},null,8,["config"]),a(N,{config:V.value},null,8,["config"]),a(N,{config:q.value},null,8,["config"]),a(N,{config:D.value},null,8,["config"]),a(ea,{x:U.value,y:k.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),(p(!0),J(de,null,Ee(S.value,(c,x)=>(p(),E(N,{key:"apertura-"+x,config:c},null,8,["config"]))),128)),(p(!0),J(de,null,Ee(ae.value,(c,x)=>(p(),E(G,{key:"hinge-"+x,config:c},null,8,["config"]))),128)),a(W,{config:T.value},null,8,["config"]),a(W,{config:P.value},null,8,["config"]),a(W,{config:ve.value},null,8,["config"])]),_:1})]),_:1},512)])}}},Ve=50,io=60,so=80,Al=320,vo={__name:"VistaMamparaS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],hojaActiva:{type:String,default:"derecha",validator:A=>["izquierda","derecha"].includes(A)},direccionApertura:{type:String,default:"interior",validator:A=>["interior","exterior"].includes(A)},pasoLibre:{type:Boolean,default:!1}},setup(A,{expose:H}){const m=A,O={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},g={roble:new Image,nogal:new Image};g.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,g.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const r=o(()=>{var y,l,t;const x=typeof m.colorMarco=="object"?(l=(y=m.colorMarco)==null?void 0:y.nombre)==null?void 0:l.toLowerCase():(t=m.colorMarco)==null?void 0:t.toLowerCase();return O[x]||"#ffffff"});function i(x,y=!1){var t,_,$;const l=typeof m.colorMarco=="object"?(_=(t=m.colorMarco)==null?void 0:t.nombre)==null?void 0:_.toLowerCase():($=m.colorMarco)==null?void 0:$.toLowerCase();return["roble","nogal"].includes(l)&&g[l]?{points:x,closed:!0,fillPatternImage:g[l],fillPatternRepeat:"repeat",fillPatternScale:{x:y?.15:.2,y:y?.15:.2},stroke:"black"}:{points:x,closed:!0,fill:r.value,stroke:"black"}}const d=o(()=>Math.min(Al/m.ancho,Al/m.alto,1)*.9),f=o(()=>io*d.value),e=o(()=>m.ancho*d.value),w=o(()=>m.alto*d.value),R=o(()=>i([Ve,Ve,Ve+e.value,Ve,Ve+e.value-f.value,Ve+f.value,Ve+f.value,Ve+f.value])),F=o(()=>i([Ve+e.value,Ve,Ve+e.value,Ve+w.value,Ve+e.value-f.value,Ve+w.value-(m.pasoLibre?0:f.value),Ve+e.value-f.value,Ve+f.value])),Y=o(()=>i([Ve,Ve+w.value,Ve,Ve,Ve+f.value,Ve+f.value,Ve+f.value,Ve+w.value-(m.pasoLibre?0:f.value)])),j=o(()=>m.pasoLibre?null:i([Ve+e.value,Ve+w.value,Ve,Ve+w.value,Ve+f.value,Ve+w.value-f.value,Ve+e.value-f.value,Ve+w.value-f.value])),C=o(()=>{const x=Math.max(e.value-2*f.value,5),y=Math.max(w.value-f.value-(m.pasoLibre?0:f.value),5);return{x:Ve+f.value,y:Ve+f.value,width:x,height:y,fill:"#b3e5fc",stroke:"black"}}),h=o(()=>Math.max(6*d.value,f.value*.15)),n=o(()=>{const x=(C.value.width-h.value)/2;return{x:C.value.x,y:C.value.y,w:x,h:C.value.height}}),s=o(()=>{const x=(C.value.width-h.value)/2;return{x:C.value.x+x+h.value,y:C.value.y,w:x,h:C.value.height}}),v=o(()=>{const x=so*d.value,y=f.value*1.15,l=Math.min(n.value.w,s.value.w)*.45;return Math.min(Math.max(x,y),l)}),b=o(()=>i([n.value.x,n.value.y,n.value.x+n.value.w,n.value.y,n.value.x+n.value.w-v.value,n.value.y+v.value,n.value.x+v.value,n.value.y+v.value],!0)),L=o(()=>i([n.value.x+n.value.w,n.value.y,n.value.x+n.value.w,n.value.y+n.value.h,n.value.x+n.value.w-v.value,n.value.y+n.value.h-v.value,n.value.x+n.value.w-v.value,n.value.y+v.value],!0)),V=o(()=>i([n.value.x+n.value.w,n.value.y+n.value.h,n.value.x,n.value.y+n.value.h,n.value.x+v.value,n.value.y+n.value.h-v.value,n.value.x+n.value.w-v.value,n.value.y+n.value.h-v.value],!0)),q=o(()=>i([n.value.x,n.value.y+n.value.h,n.value.x,n.value.y,n.value.x+v.value,n.value.y+v.value,n.value.x+v.value,n.value.y+n.value.h-v.value],!0)),D=o(()=>i([s.value.x,s.value.y,s.value.x+s.value.w,s.value.y,s.value.x+s.value.w-v.value,s.value.y+v.value,s.value.x+v.value,s.value.y+v.value],!0)),U=o(()=>i([s.value.x+s.value.w,s.value.y,s.value.x+s.value.w,s.value.y+s.value.h,s.value.x+s.value.w-v.value,s.value.y+s.value.h-v.value,s.value.x+s.value.w-v.value,s.value.y+v.value],!0)),k=o(()=>i([s.value.x+s.value.w,s.value.y+s.value.h,s.value.x,s.value.y+s.value.h,s.value.x+v.value,s.value.y+s.value.h-v.value,s.value.x+s.value.w-v.value,s.value.y+s.value.h-v.value],!0)),z=o(()=>i([s.value.x,s.value.y+s.value.h,s.value.x,s.value.y,s.value.x+v.value,s.value.y+v.value,s.value.x+v.value,s.value.y+s.value.h-v.value],!0)),S=o(()=>m.hojaActiva==="izquierda"?n.value.x+n.value.w-12:s.value.x+12),I=o(()=>C.value.y+C.value.height/2);function T(x){return m.direccionApertura==="interior"?0:Math.min(Math.max(x.w*.1,8*d.value),25*d.value)}function P(x,y){const l=y==="left",t=T(x)*(l?-1:1),$=(l?x.x:x.x+x.w)+t,re=x.y+x.h/2,le=x.y+8,ue=x.y+x.h-8,ke=l?x.x+x.w-8:x.x+8;return[{points:[$,le,ke,re],stroke:"black",dash:[10,5],strokeWidth:2},{points:[$,ue,ke,re],stroke:"black",dash:[10,5],strokeWidth:2}]}const ve=o(()=>P(n.value,"left")),je=o(()=>P(s.value,"right")),Ae=o(()=>m.direccionApertura==="interior"),Me=o(()=>Math.max(28*d.value,f.value*.45)),Ne=o(()=>Math.min(Math.max(140*d.value,30*d.value),Math.min(n.value.h,s.value.h)*.4)),qe=o(()=>2*d.value);function ae(x,y){const l=[];let t=x.h>2200*d.value?4:3;const _=Math.max(x.h-16*d.value,20);let $=Ne.value;$*t>_*.85&&($=_*.85/t);const re=(_-$*t)/(t+1);for(let le=0;le<t;le++){const ue=x.y+8*d.value+re*(le+1)+$*le,ke=y==="left"?x.x-Me.value/2+qe.value:x.x+x.w-Me.value/2-qe.value;l.push({x:ke,y:ue,width:Me.value,height:$,fill:"#888",stroke:"black",cornerRadius:2})}return l}const ee=o(()=>Ae.value?ae(n.value,"left"):[]),X=o(()=>Ae.value?ae(s.value,"right"):[]),N=o(()=>Math.min(Math.max(m.ancho/100,20),40)),G=o(()=>({x:Ve+e.value/2-30,y:Ve+w.value+10,text:`${m.ancho}mm`,fontSize:N.value,fill:"black"})),W=o(()=>({x:Ve-25,y:Ve+w.value/2,text:`${m.alto}mm`,fontSize:N.value,fill:"black",rotation:-90,offsetX:N.value/2})),Q=o(()=>({x:G.value.x,y:G.value.y+N.value+5,text:`Apertura ${m.direccionApertura.charAt(0).toUpperCase()}${m.direccionApertura.slice(1)}`,fontSize:Math.min(18,N.value*.8),fill:"black"})),M=ce(null);return H({exportarImagen:()=>M.value?M.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null}),(x,y)=>{const l=B("v-line"),t=B("v-rect"),_=B("v-text"),$=B("v-layer"),re=B("v-stage");return p(),J("div",null,[a(re,{ref_key:"stageRef",ref:M,config:{width:420,height:420}},{default:u(()=>[a($,null,{default:u(()=>[a(l,{config:R.value},null,8,["config"]),a(l,{config:F.value},null,8,["config"]),a(l,{config:Y.value},null,8,["config"]),j.value?(p(),E(l,{key:0,config:j.value},null,8,["config"])):ie("",!0),a(t,{config:C.value},null,8,["config"]),a(l,{config:b.value},null,8,["config"]),a(l,{config:L.value},null,8,["config"]),a(l,{config:V.value},null,8,["config"]),a(l,{config:q.value},null,8,["config"]),a(l,{config:D.value},null,8,["config"]),a(l,{config:U.value},null,8,["config"]),a(l,{config:k.value},null,8,["config"]),a(l,{config:z.value},null,8,["config"]),a(ea,{x:S.value,y:I.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),(p(!0),J(de,null,Ee(ve.value,(le,ue)=>(p(),E(l,{key:"apertura-left-"+ue,config:le},null,8,["config"]))),128)),(p(!0),J(de,null,Ee(je.value,(le,ue)=>(p(),E(l,{key:"apertura-right-"+ue,config:le},null,8,["config"]))),128)),(p(!0),J(de,null,Ee(ee.value,(le,ue)=>(p(),E(t,{key:"hl-"+ue,config:le},null,8,["config"]))),128)),(p(!0),J(de,null,Ee(X.value,(le,ue)=>(p(),E(t,{key:"hr-"+ue,config:le},null,8,["config"]))),128)),a(_,{config:G.value},null,8,["config"]),a(_,{config:W.value},null,8,["config"]),a(_,{config:Q.value},null,8,["config"])]),_:1})]),_:1},512)])}}},co={style:{"margin-bottom":"10px"}},pe=40,mo=54,fo=98,Cl=20,zl=300,po={__name:"VistaVentanaCorredera98",props:{ancho:Number,alto:Number,colorMarco:{type:String,default:"blanco"},hojasMoviles:{type:Number,default:"2"},hojaMovilSeleccionada:{type:Number,default:1},ordenHoja1AlFrente:{type:Boolean,default:!0},color:Object},setup(A,{expose:H}){const m=ce(null);H({exportarImagen:()=>{if(console.log("ðŸ–¼ï¸ exportarImagen llamado en VentanaCorredera"),console.log("ðŸ–¼ï¸ stageRef.value:",m.value),m.value)try{const W=m.value.getStage();console.log("ðŸ–¼ï¸ stage obtenido:",W),W.draw();const Q=W.toDataURL({pixelRatio:1,quality:.9});return console.log("ðŸ–¼ï¸ dataURL generado:",Q.substring(0,50)),Q}catch(W){return console.error("âŒ Error en exportarImagen:",W),null}return console.warn("âš ï¸ stageRef no disponible"),null}});const g={roble:null,nogal:null};za(()=>{const W=(Q,M)=>{const c=new Image;c.src=Q,c.onload=()=>{g[M]=c}};W(Il,"roble"),W($l,"nogal")});const r=A,i=o(()=>r.colorMarco.toLowerCase());function d(W){const Q=i.value.toLowerCase();return["roble","nogal"].includes(Q)&&g[Q]?{points:W,closed:!0,fillPatternImage:g[Q],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:W,closed:!0,fill:j.value,stroke:"black"}}const f=ce(r.ordenHoja1AlFrente),e=o(()=>R.value),w=o(()=>F.value);He(()=>r.ordenHoja1AlFrente,W=>{f.value=W});const R=o(()=>r.hojasMoviles===2||r.hojaMovilSeleccionada===1),F=o(()=>r.hojasMoviles===2||r.hojaMovilSeleccionada===2),Y={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},j=o(()=>{var Q,M;const W=(M=(Q=r.colorMarco)==null?void 0:Q.toLowerCase)==null?void 0:M.call(Q);return Y[W]||"#ffffff"}),C=o(()=>{const W=zl/r.ancho,Q=zl/r.alto;return Math.min(W,Q,1)*.9}),h=o(()=>mo*C.value),n=o(()=>fo*C.value),s=o(()=>r.ancho*C.value),v=o(()=>r.alto*C.value),b=o(()=>Cl*C.value);function L(W){const Q=r.colorMarco.toLowerCase();return["roble","nogal"].includes(Q)&&g[Q]?{points:W,closed:!0,fillPatternImage:g[Q],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:W,closed:!0,fill:j.value,stroke:"black"}}const V=o(()=>L([pe,pe,pe+s.value,pe,pe+s.value-h.value,pe+h.value,pe+h.value,pe+h.value])),q=o(()=>L([pe+s.value,pe,pe+s.value,pe+v.value,pe+s.value-h.value,pe+v.value-h.value,pe+s.value-h.value,pe+h.value])),D=o(()=>L([pe+s.value,pe+v.value,pe,pe+v.value,pe+h.value,pe+v.value-h.value,pe+s.value-h.value,pe+v.value-h.value])),U=o(()=>L([pe,pe+v.value,pe,pe,pe+h.value,pe+h.value,pe+h.value,pe+v.value-h.value])),k=o(()=>(s.value-h.value*2+Cl)/2),z=o(()=>v.value-h.value*2),S=o(()=>pe+h.value),I=o(()=>pe+h.value),T=o(()=>pe+s.value-h.value-k.value+b.value-n.value*.22),P=I,ve=o(()=>f.value?[{points:[S.value,I.value,S.value+k.value,I.value,S.value+k.value-n.value,I.value+n.value,S.value+n.value,I.value+n.value],closed:!0,fill:j.value,stroke:"black"},{points:[S.value+k.value,I.value,S.value+k.value,I.value+z.value,S.value+k.value-n.value,I.value+z.value-n.value,S.value+k.value-n.value,I.value+n.value],closed:!0,fill:j.value,stroke:"black"},{points:[S.value+k.value,I.value+z.value,S.value,I.value+z.value,S.value+n.value,I.value+z.value-n.value,S.value+k.value-n.value,I.value+z.value-n.value],closed:!0,fill:j.value,stroke:"black"},{points:[S.value,I.value+z.value,S.value,I.value,S.value+n.value,I.value+n.value,S.value+n.value,I.value+z.value-n.value],closed:!0,fill:j.value,stroke:"black"}]:[{points:[S.value,I.value+z.value,S.value+n.value,I.value+z.value-n.value,S.value+k.value-n.value,I.value+z.value-n.value,S.value+k.value,I.value+z.value],closed:!0,fill:j.value,stroke:"black"},{points:[S.value,I.value+z.value,S.value,I.value,S.value+n.value,I.value+n.value,S.value+n.value,I.value+z.value-n.value],closed:!0,fill:j.value,stroke:"black"},{points:[S.value,I.value,S.value+k.value,I.value,S.value+k.value-n.value,I.value+n.value,S.value+n.value,I.value+n.value],closed:!0,fill:j.value,stroke:"black"},{points:[S.value+k.value,I.value,S.value+k.value,I.value+z.value,S.value+k.value-n.value,I.value+z.value-n.value,S.value+k.value-n.value,I.value+n.value],closed:!0,fill:j.value,stroke:"black"}]),je=o(()=>f.value?[{points:[T.value,P.value,T.value+k.value,P.value,T.value+k.value-n.value,P.value+n.value,T.value+n.value,P.value+n.value],closed:!0,fill:j.value,stroke:"black"},{points:[T.value+k.value,P.value,T.value+k.value,P.value+z.value,T.value+k.value-n.value,P.value+z.value-n.value,T.value+k.value-n.value,P.value+n.value],closed:!0,fill:j.value,stroke:"black"},{points:[T.value+k.value,P.value+z.value,T.value,P.value+z.value,T.value+n.value,P.value+z.value-n.value,T.value+k.value-n.value,P.value+z.value-n.value],closed:!0,fill:j.value,stroke:"black"},{points:[T.value,P.value+z.value,T.value,P.value,T.value+n.value,P.value+n.value,T.value+n.value,P.value+z.value-n.value],closed:!0,fill:j.value,stroke:"black"}]:[{points:[T.value,P.value,T.value+k.value,P.value,T.value+k.value-n.value,P.value+n.value,T.value+n.value,P.value+n.value],closed:!0,fill:j.value,stroke:"black"},{points:[T.value+k.value,P.value,T.value+k.value,P.value+z.value,T.value+k.value-n.value,P.value+z.value-n.value,T.value+k.value-n.value,P.value+n.value],closed:!0,fill:j.value,stroke:"black"},{points:[T.value+k.value,P.value+z.value,T.value,P.value+z.value,T.value+n.value,P.value+z.value-n.value,T.value+k.value-n.value,P.value+z.value-n.value],closed:!0,fill:j.value,stroke:"black"},{points:[T.value,P.value+z.value,T.value,P.value,T.value+n.value,P.value+n.value,T.value+n.value,P.value+z.value-n.value],closed:!0,fill:j.value,stroke:"black"}]),Ae=o(()=>{if(f.value)return{x:S.value+n.value,y:I.value+n.value,width:k.value-n.value*2,height:z.value-n.value*2,fill:"lightblue",stroke:"black"};const W=n.value*.35+C.value*50,Q=n.value*1.3+C.value*1;return{x:S.value+W,y:I.value+n.value,width:k.value-Q-15,height:z.value-n.value*2,fill:"lightblue",stroke:"black"}}),Me=o(()=>{if(f.value){const W=n.value*.4+C.value*10,Q=n.value*1.4+C.value*10;return{x:T.value+W+10,y:P.value+n.value,width:k.value-Q-10,height:z.value-n.value*2,fill:"lightblue",stroke:"black"}}return{x:T.value+n.value,y:P.value+n.value,width:k.value-n.value*2,height:z.value-n.value*2,fill:"lightblue",stroke:"black"}}),Ne=o(()=>r.hojasMoviles===2||r.hojasMoviles===1&&r.hojaMovilSeleccionada===1?"â†’":"+"),qe=o(()=>r.hojasMoviles===2||r.hojasMoviles===1&&r.hojaMovilSeleccionada===2?"â†":"+"),ae=o(()=>({x:S.value+k.value/2-10,y:I.value+z.value/2+10,text:Ne.value,fontSize:30,fill:"black"})),ee=o(()=>({x:T.value+k.value/2-10,y:P.value+z.value/2+10,text:qe.value,fontSize:30,fill:"black"})),X=o(()=>{const W=Math.max(r.ancho,r.alto);return Math.min(Math.max(W/100,20),40)}),N=o(()=>({x:pe+s.value/2-30,y:pe+v.value+10,text:`${r.ancho}mm`,fontSize:X.value,fill:"black"})),G=o(()=>({x:pe-25,y:pe+v.value/2,text:`${r.alto}mm`,fontSize:X.value,fill:"black",rotation:-90,offsetX:X.value/2}));return(W,Q)=>{const M=B("v-line"),c=B("v-rect"),x=B("v-text"),y=B("v-layer"),l=B("v-stage");return p(),J("div",null,[ne("div",co,[a(ra,{modelValue:f.value,"onUpdate:modelValue":Q[0]||(Q[0]=t=>f.value=t),label:"Hoja 1 adelante",density:"compact"},null,8,["modelValue"])]),a(l,{ref_key:"stageRef",ref:m,config:{width:400,height:400}},{default:u(()=>[a(y,null,{default:u(()=>[a(M,oe(te(V.value)),null,16),a(M,oe(te(q.value)),null,16),a(M,oe(te(D.value)),null,16),a(M,oe(te(U.value)),null,16),f.value?(p(),J(de,{key:0},[a(c,oe(te(Me.value)),null,16),(p(!0),J(de,null,Ee(je.value,(t,_)=>(p(),E(M,Se({key:"mitra-h2-"+_,ref_for:!0},d(t.points)),null,16))),128)),a(x,{x:T.value+k.value/2-10,y:sa(P)+z.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(c,oe(te(Ae.value)),null,16),(p(!0),J(de,null,Ee(ve.value,(t,_)=>(p(),E(M,Se({key:"mitra-h1-"+_,ref_for:!0},d(t.points)),null,16))),128)),a(x,{x:S.value+k.value/2-10,y:I.value+z.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)):(p(),J(de,{key:1},[a(c,oe(te(Ae.value)),null,16),(p(!0),J(de,null,Ee(ve.value,(t,_)=>(p(),E(M,Se({key:"mitra-h1-"+_,ref_for:!0},d(t.points)),null,16))),128)),a(x,{x:S.value+k.value/2-10,y:I.value+z.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(c,oe(te(Me.value)),null,16),(p(!0),J(de,null,Ee(je.value,(t,_)=>(p(),E(M,Se({key:"mitra-h2-"+_,ref_for:!0},d(t.points)),null,16))),128)),a(x,{x:T.value+k.value/2-10,y:sa(P)+z.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)),a(x,oe(te(N.value)),null,16),a(x,oe(te(G.value)),null,16),a(x,oe(te(ae.value)),null,16),a(x,oe(te(ee.value)),null,16),e.value?(p(),E(ea,{key:2,x:S.value+n.value-C.value*35,y:I.value+z.value/2,escalaManilla:C.value*4},null,8,["x","y","escalaManilla"])):ie("",!0),w.value?(p(),E(ea,{key:3,x:T.value+k.value-n.value+C.value*35,y:sa(P)+z.value/2,escalaManilla:C.value*4},null,8,["x","y","escalaManilla"])):ie("",!0)]),_:1})]),_:1},512)])}}},xe=40,wl=300,ho=54,go=80,bo={__name:"VistaVentanaMonorriel",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"},ladoApertura:{type:String,default:"derecha",validator:A=>["izquierda","derecha"].includes(A)}},setup(A,{expose:H}){const m=A,O={roble:null,nogal:null};za(()=>{const ae=(ee,X)=>{const N=new Image;N.src=ee,N.onload=()=>O[X]=N};ae(Il,"roble"),ae($l,"nogal")});const g={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b",roble:"#c9a36b"},r=o(()=>{var ae,ee;return g[(ee=(ae=m.colorMarco)==null?void 0:ae.toLowerCase)==null?void 0:ee.call(ae)]||"#ffffff"});function i(ae){var X,N;const ee=(N=(X=m.colorMarco)==null?void 0:X.toLowerCase)==null?void 0:N.call(X);return["roble","nogal"].includes(ee)&&O[ee]?{points:ae,closed:!0,fillPatternImage:O[ee],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:ae,closed:!0,fill:r.value,stroke:"black"}}const d=ce(null),f=o(()=>Math.min(wl/m.ancho,wl/m.alto,1)*.9),e=o(()=>ho*f.value),w=o(()=>go*f.value),R=o(()=>m.ancho*f.value),F=o(()=>m.alto*f.value),Y=o(()=>m.ladoApertura==="derecha"),j=o(()=>i([xe,xe,xe+R.value,xe,xe+R.value-e.value,xe+e.value,xe+e.value,xe+e.value])),C=o(()=>i([xe+R.value,xe,xe+R.value,xe+F.value,xe+R.value-e.value,xe+F.value-e.value,xe+R.value-e.value,xe+e.value])),h=o(()=>i([xe+R.value,xe+F.value,xe,xe+F.value,xe+e.value,xe+F.value-e.value,xe+R.value-e.value,xe+F.value-e.value])),n=o(()=>i([xe,xe+F.value,xe,xe,xe+e.value,xe+e.value,xe+e.value,xe+F.value-e.value])),s=o(()=>xe+e.value),v=o(()=>xe+e.value),b=o(()=>Math.max(R.value-2*e.value,5)),L=o(()=>Math.max(F.value-2*e.value,5)),V=o(()=>Math.max(b.value/2,10)),q=o(()=>Y.value?{x:s.value+V.value,y:v.value,w:V.value,h:L.value}:{x:s.value,y:v.value,w:V.value,h:L.value}),D=o(()=>Y.value?{x:s.value,y:v.value,w:V.value,h:L.value}:{x:s.value+V.value,y:v.value,w:V.value,h:L.value}),U=o(()=>({x:q.value.x,y:q.value.y,width:q.value.w,height:q.value.h,fill:"lightblue",stroke:"black"}));function k(ae,ee,X,N){return[i([ae,ee,ae+X,ee,ae+X-w.value,ee+w.value,ae+w.value,ee+w.value]),i([ae+X,ee,ae+X,ee+N,ae+X-w.value,ee+N-w.value,ae+X-w.value,ee+w.value]),i([ae+X,ee+N,ae,ee+N,ae+w.value,ee+N-w.value,ae+X-w.value,ee+N-w.value]),i([ae,ee+N,ae,ee,ae+w.value,ee+w.value,ae+w.value,ee+N-w.value])]}const z=o(()=>k(D.value.x,D.value.y,D.value.w,D.value.h)),S=o(()=>({x:D.value.x+w.value,y:D.value.y+w.value,width:Math.max(D.value.w-2*w.value,5),height:Math.max(D.value.h-2*w.value,5),fill:"lightblue",stroke:"black"})),I=o(()=>{const ae=D.value.x+w.value/2,ee=D.value.x+D.value.w-w.value/2;return Y.value?ae:ee}),T=o(()=>D.value.y+D.value.h/2),P=o(()=>Y.value?"â†’":"â†"),ve=o(()=>D.value.x+D.value.w/2-10),je=o(()=>D.value.y+D.value.h/2-15),Ae=o(()=>Math.min(Math.max(Math.max(m.ancho,m.alto)/100,20),40)),Me=o(()=>({x:xe+R.value/2-30,y:xe+F.value+10,text:`${m.ancho}mm`,fontSize:Ae.value,fill:"black"})),Ne=o(()=>({x:xe-25,y:xe+F.value/2,text:`${m.alto}mm`,fontSize:Ae.value,fill:"black",rotation:-90,offsetX:Ae.value/2}));return H({exportarImagen:()=>{if(d.value){const ae=d.value.getStage();return ae.draw(),ae.toDataURL({pixelRatio:1,quality:.9})}return null}}),(ae,ee)=>{const X=B("v-line"),N=B("v-rect"),G=B("v-text"),W=B("v-layer"),Q=B("v-stage");return p(),J("div",null,[a(Q,{ref_key:"stageRef",ref:d,config:{width:400,height:400}},{default:u(()=>[a(W,null,{default:u(()=>[a(X,oe(te(j.value)),null,16),a(X,oe(te(C.value)),null,16),a(X,oe(te(h.value)),null,16),a(X,oe(te(n.value)),null,16),a(N,oe(te(U.value)),null,16),a(N,oe(te(S.value)),null,16),(p(!0),J(de,null,Ee(z.value,(M,c)=>(p(),E(X,Se({key:"hm-"+c,ref_for:!0},M),null,16))),128)),a(ea,{x:I.value,y:T.value,escalaManilla:f.value*4},null,8,["x","y","escalaManilla"]),a(G,{x:ve.value,y:je.value,text:P.value,fontSize:30,fontStyle:"bold",fill:"black"},null,8,["x","y","text"]),a(G,oe(te(Me.value)),null,16),a(G,oe(te(Ne.value)),null,16)]),_:1})]),_:1},512)])}}},yo=Object.assign({name:"VistaVentanaCompuestaInterna"},{__name:"VistaVentanaCompuestaInterna",props:{ancho:{type:[Number,String],required:!0},alto:{type:[Number,String],required:!0},colorMarco:{type:[String,Object],default:"blanco"},orientacion:{type:String,default:"horizontal"},items:{type:Array,default:()=>[]},escala:{type:Number,default:1},x:{type:Number,default:0},y:{type:Number,default:0},pathPrefix:{type:String,default:""}},emits:["agregar","agregar-borde","editar-ventana","eliminar-ventana"],setup(A,{emit:H}){const m=H,O=ce(new Map),g=ce(new Map),r=A;function i(v){m("agregar",v)}function d(v){console.log("ðŸ”§ Editando ventana por path:",v),m("editar-ventana",v)}function f(v){m("eliminar-ventana",v)}function e(v,b){console.log("ðŸ”§ Click en botÃ³n editar:",b),v&&v.evt&&v.evt.stopPropagation&&v.evt.stopPropagation(),d(b)}function w(v,b){console.log("ðŸ—‘ï¸ Click en botÃ³n eliminar:",b),v&&v.evt&&v.evt.stopPropagation&&v.evt.stopPropagation(),f(b)}function R(v){const b=Date.now(),L=g.value.get(v)||0,V=b-L;if(console.log(`ðŸ‘† Click en ventana ${v}, tiempo desde Ãºltimo: ${V}ms`),V<400&&V>50){console.log("ðŸŽ¯ Â¡DOBLE CLICK detectado! Editando ventana:",v),O.value.has(v)&&(clearTimeout(O.value.get(v)),O.value.delete(v)),g.value.delete(v),d(v);return}g.value.set(v,b),O.value.has(v)&&clearTimeout(O.value.get(v));const q=setTimeout(()=>{console.log("â±ï¸ Timer expirado para ventana:",v),g.value.delete(v),O.value.delete(v)},400);O.value.set(v,q)}Ul(()=>{O.value.forEach(v=>clearTimeout(v)),O.value.clear(),g.value.clear()});const F=o(()=>Number(r.ancho)||1),Y=o(()=>Number(r.alto)||1),j=o(()=>r.items.filter(v=>v&&(typeof v.tipo=="number"||v.tipo==="compuesta")&&v.tipo!==null&&v.tipo!==void 0)),C=o(()=>{const v=j.value.length;if(!v)return[];const b=j.value.reduce((L,V)=>{const q=Number(V==null?void 0:V.sizePercent)||0;return L+q},0);return b>0?j.value.map(L=>{const V=Number(L==null?void 0:L.sizePercent)||0;return Math.max(0,Math.min(1,V/b))}):Array(v).fill(1/v)});He(()=>r.items,()=>{console.log("ðŸ”„ Items cambiaron, forzando recÃ¡lculo de segmentos")},{deep:!0});const h=o(()=>{console.log("ðŸŽ¯ INTERNA - RECALCULANDO SEGMENTOS"),console.log("Props colorMarco:",r.colorMarco);const v=[];let b=0,L=0;return j.value.forEach((V,q)=>{let D,U;if(V.ancho&&V.alto)D=Number(V.ancho),U=Number(V.alto),console.log(`ðŸ“ Ventana ${q} - Usando dimensiones especÃ­ficas:`,{ancho:D,alto:U});else{const T=C.value[q]||0;r.orientacion==="horizontal"?(D=F.value*T,U=Y.value):(D=F.value,U=Y.value*T),console.log(`ðŸ“ Ventana ${q} - Calculado por porcentaje:`,{ancho:D,alto:U,porcentaje:T})}const k=r.x+(r.orientacion==="horizontal"?b*r.escala:0),z=r.y+(r.orientacion==="vertical"?L*r.escala:0),S=r.pathPrefix?`${r.pathPrefix}.${q}`:`${q}`,I={x:k,y:z,ancho:D,alto:U,escala:r.escala,colorMarco:r.colorMarco};(V==null?void 0:V.tipo)==="compuesta"?v.push({key:"comp-"+q,path:S,isCompuesta:!0,props:{...I,orientacion:V.orientacion||"horizontal",items:V.items||[],pathPrefix:S}}):v.push({key:"simple-"+q,path:S,isCompuesta:!1,props:{...I,tipo:V.tipo,ladoApertura:V.ladoApertura||"izquierda",direccionApertura:V.direccionApertura||"interior"}}),r.orientacion==="horizontal"?b+=D:L+=U}),v}),n=v=>{if(r.orientacion==="horizontal"){let b=r.x;for(let L=0;L<v;L++){const V=j.value[L];if(V!=null&&V.ancho)b+=Number(V.ancho)*r.escala;else{const q=C.value[L]||0;b+=F.value*q*r.escala}}return b}return r.x+F.value*r.escala/2},s=v=>{if(r.orientacion==="vertical"){let b=r.y;for(let L=0;L<v;L++){const V=j.value[L];if(V!=null&&V.alto)b+=Number(V.alto)*r.escala;else{const q=C.value[L]||0;b+=Y.value*q*r.escala}}return b}return r.y+Y.value*r.escala/2};return(v,b)=>{const L=B("v-rect"),V=B("v-circle"),q=B("v-text"),D=B("v-group"),U=B("VistaVentanaCompuestaInterna",!0);return p(),E(D,null,{default:u(()=>[(p(!0),J(de,null,Ee(h.value,k=>(p(),J(de,{key:k.key},[k.isCompuesta?(p(),E(U,Se({key:1,ref_for:!0},k.props,{"path-prefix":k.path,onAgregar:b[0]||(b[0]=z=>m("agregar",z)),onAgregarBorde:b[1]||(b[1]=z=>m("agregar-borde",z)),onEditarVentana:b[2]||(b[2]=z=>m("editar-ventana",z)),onEliminarVentana:b[3]||(b[3]=z=>m("eliminar-ventana",z))}),null,16,["path-prefix"])):(p(),E(D,{key:0},{default:u(()=>[a(Tl,Se({ref_for:!0},k.props,{color:k.props.colorMarco,colorMarco:k.props.colorMarco}),null,16,["color","colorMarco"]),a(L,{x:k.props.x,y:k.props.y,width:k.props.ancho*k.props.escala,height:k.props.alto*k.props.escala,fill:"transparent",onClick:z=>R(k.path),style:{cursor:"pointer"}},null,8,["x","y","width","height","onClick"]),a(V,{x:k.props.x+k.props.ancho*k.props.escala-15,y:k.props.y+10,radius:8,fill:"#2196f3",opacity:"0.8",onClick:z=>e(z,k.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a(q,{x:k.props.x+k.props.ancho*k.props.escala-18,y:k.props.y+6,text:"âœ",fontSize:"10",fill:"white",onClick:z=>e(z,k.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a(V,{x:k.props.x+k.props.ancho*k.props.escala-35,y:k.props.y+10,radius:8,fill:"#f44336",opacity:"0.8",onClick:z=>w(z,k.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a(q,{x:k.props.x+k.props.ancho*k.props.escala-38,y:k.props.y+6,text:"âœ–",fontSize:"10",fill:"white",onClick:z=>w(z,k.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"])]),_:2},1024))],64))),128)),(p(!0),J(de,null,Ee(j.value.length+1,k=>(p(),E(D,{key:"plus-"+k,onClick:z=>i(k-1),style:{cursor:"pointer"}},{default:u(()=>[a(V,{x:n(k-1),y:s(k-1),radius:14,fill:"#fff",stroke:"#1976d2",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(q,{x:n(k-1)-7,y:s(k-1)-10,text:"+",fontSize:"24",fill:"#1976d2",fontStyle:"bold"},null,8,["x","y"])]),_:2},1032,["onClick"]))),128))]),_:1})}}}),Vo=ka(yo,[["__scopeId","data-v-86a7a837"]]),ja=860,Aa=360,xo={__name:"VistaVentanaCompuestaDinamica",props:{ancho:{type:[Number,String],required:!0},alto:{type:[Number,String],required:!0},colorMarco:{type:[String,Object],default:"blanco"},orientacion:{type:String,default:"horizontal"},items:{type:Array,default:()=>[]},forceReRender:{type:Number,default:0}},emits:["agregar","agregar-borde","editar-ventana","eliminar-ventana"],setup(A,{emit:H}){const m=H,O=A,g=o(()=>Number(O.ancho)||1),r=o(()=>Number(O.alto)||1),i=o(()=>{const e=ja/g.value,w=Aa/r.value,R=Math.min(e,w);return Math.max(R,.1)}),d=o(()=>{const e=g.value*i.value;return e<ja?(ja-e)/2+20:20}),f=o(()=>{const e=r.value*i.value;return e<Aa?(Aa-e)/2+20:20});return(e,w)=>{const R=B("v-rect"),F=B("v-circle"),Y=B("v-text"),j=B("v-group"),C=B("v-layer"),h=B("v-stage");return p(),E(h,{config:{width:900,height:420}},{default:u(()=>[a(C,null,{default:u(()=>[a(R,{x:0,y:0,width:900,height:420,stroke:"#444",strokeWidth:1}),(p(),E(Vo,{key:`interna-${A.forceReRender}`,ancho:A.ancho,alto:A.alto,colorMarco:A.colorMarco,orientacion:A.orientacion,items:A.items,escala:i.value,x:d.value,y:f.value,onAgregar:w[0]||(w[0]=n=>m("agregar",n)),onAgregarBorde:w[1]||(w[1]=n=>m("agregar-borde",n)),onEditarVentana:w[2]||(w[2]=n=>m("editar-ventana",n)),onEliminarVentana:w[3]||(w[3]=n=>m("eliminar-ventana",n))},null,8,["ancho","alto","colorMarco","orientacion","items","escala","x","y"])),a(j,{onClick:w[4]||(w[4]=n=>m("agregar-borde","arriba")),style:{cursor:"pointer"}},{default:u(()=>[a(F,{x:d.value+g.value*i.value/2,y:f.value-15,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(Y,{x:d.value+g.value*i.value/2-7,y:f.value-25,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(j,{onClick:w[5]||(w[5]=n=>m("agregar-borde","abajo")),style:{cursor:"pointer"}},{default:u(()=>[a(F,{x:d.value+g.value*i.value/2,y:f.value+r.value*i.value+15,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(Y,{x:d.value+g.value*i.value/2-7,y:f.value+r.value*i.value+5,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(j,{onClick:w[6]||(w[6]=n=>m("agregar-borde","izquierda")),style:{cursor:"pointer"}},{default:u(()=>[a(F,{x:d.value-15,y:f.value+r.value*i.value/2,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(Y,{x:d.value-22,y:f.value+r.value*i.value/2-10,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(j,{onClick:w[7]||(w[7]=n=>m("agregar-borde","derecha")),style:{cursor:"pointer"}},{default:u(()=>[a(F,{x:d.value+g.value*i.value+15,y:f.value+r.value*i.value/2,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(Y,{x:d.value+g.value*i.value+8,y:f.value+r.value*i.value/2-10,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1})]),_:1})]),_:1})}}},ko={class:"nodo-estructura"},Mo={class:"nodo-nombre"},jo={class:"nodo-dimensiones"},Ao={key:0,class:"nodo-hijos"},Co={class:"text-caption"},zo={__name:"NodoEstructura",props:{nodo:{type:Object,required:!0},nivel:{type:Number,default:0},seleccionado:{type:Boolean,default:!1}},emits:["seleccionar","dividir","asignar-tipo","eliminar"],setup(A){const H=A;function m(){return H.nodo.tipo==="marco"?"mdi-border-all":H.nodo.tipoVentanaId?"mdi-window-closed-variant":H.nodo.hijos?"mdi-view-split-vertical":"mdi-square-outline"}function O(){return H.nodo.tipo==="marco"?"Marco Principal":H.nodo.tipoVentanaId?`Ventana Tipo ${H.nodo.tipoVentanaId}`:"Espacio"}return(g,r)=>{const i=B("NodoEstructura",!0);return p(),J("div",ko,[ne("div",{class:_l(["nodo-item",{seleccionado:A.seleccionado,"con-tipo":A.nodo.tipoVentanaId}]),style:Ke({paddingLeft:`${A.nivel*16}px`}),onClick:r[3]||(r[3]=la(d=>g.$emit("seleccionar",A.nodo),["stop"]))},[a(De,{size:"small",class:"mr-2"},{default:u(()=>[K(we(m()),1)]),_:1}),ne("span",Mo,we(O()),1),ne("span",jo,we(A.nodo.ancho)+" Ã— "+we(A.nodo.alto),1),ne("div",{class:"nodo-acciones",onClick:r[2]||(r[2]=la(()=>{},["stop"]))},[!A.nodo.tipoVentanaId&&!A.nodo.hijos?(p(),E(Le,{key:0,icon:"",size:"x-small",variant:"text",onClick:r[0]||(r[0]=la(d=>g.$emit("dividir",A.nodo),["stop"]))},{default:u(()=>[a(De,{size:"small"},{default:u(()=>r[12]||(r[12]=[K("mdi-call-split")])),_:1}),a(gl,{activator:"parent",location:"top"},{default:u(()=>r[13]||(r[13]=[K("Dividir")])),_:1})]),_:1})):ie("",!0),!A.nodo.tipoVentanaId&&!A.nodo.hijos?(p(),E(Le,{key:1,icon:"",size:"x-small",variant:"text",onClick:r[1]||(r[1]=la(d=>g.$emit("asignar-tipo",A.nodo),["stop"]))},{default:u(()=>[a(De,{size:"small"},{default:u(()=>r[14]||(r[14]=[K("mdi-window-closed-variant")])),_:1}),a(gl,{activator:"parent",location:"top"},{default:u(()=>r[15]||(r[15]=[K("Asignar Tipo")])),_:1})]),_:1})):ie("",!0)])],6),A.nodo.hijos?(p(),J("div",Ao,[ne("div",{class:"divisor-info",style:Ke({paddingLeft:`${(A.nivel+1)*16}px`})},[a(De,{size:"x-small",class:"mr-1"},{default:u(()=>r[16]||(r[16]=[K("mdi-minus")])),_:1}),ne("span",Co," Divisor "+we(A.nodo.hijos.orientacion==="horizontal"?"Horizontal":"Vertical")+" @ "+we(A.nodo.hijos.divisor.posicion)+"mm ",1)],4),a(i,{nodo:A.nodo.hijos.nodo1,nivel:A.nivel+1,seleccionado:A.seleccionado,onSeleccionar:r[4]||(r[4]=d=>g.$emit("seleccionar",d)),onDividir:r[5]||(r[5]=d=>g.$emit("dividir",d)),onAsignarTipo:r[6]||(r[6]=d=>g.$emit("asignar-tipo",d)),onEliminar:r[7]||(r[7]=d=>g.$emit("eliminar",d))},null,8,["nodo","nivel","seleccionado"]),a(i,{nodo:A.nodo.hijos.nodo2,nivel:A.nivel+1,seleccionado:A.seleccionado,onSeleccionar:r[8]||(r[8]=d=>g.$emit("seleccionar",d)),onDividir:r[9]||(r[9]=d=>g.$emit("dividir",d)),onAsignarTipo:r[10]||(r[10]=d=>g.$emit("asignar-tipo",d)),onEliminar:r[11]||(r[11]=d=>g.$emit("eliminar",d))},null,8,["nodo","nivel","seleccionado"])])):ie("",!0)])}}},wo=ka(zo,[["__scopeId","data-v-3dae09e3"]]),_o={key:2,class:"componente-wrapper"},So={key:3,class:"division"},Io={class:"divisor-inner"},$o={key:4,class:"espacio-vacio"},Lo={class:"espacio-placeholder"},Do={class:"text-caption text-grey mt-1"},qo={__name:"NodoVista",props:{nodo:{type:Object,required:!0},colorMarco:{type:String,default:"blanco"},componentesVista:{type:Object,required:!0},escalaGlobal:{type:Number,default:1},mostrarEtiquetas:{type:Boolean,default:!0},etiquetasVisibles:{type:Boolean,default:!0}},emits:["click-nodo","actualizar-dimension","mover-divisor","finalizar-movimiento-divisor"],setup(A,{emit:H}){const m=A,O=H,g=ce(null),r=ce({x:0,y:0}),i=ce(!1);ce(0);function d(n,s){g.value=s,r.value={x:n.clientX,y:n.clientY},n.dataTransfer.effectAllowed="move"}function f(n){if(!m.nodo.hijos)return;i.value=!0;const s=m.nodo.hijos.orientacion,v=s==="horizontal"?n.clientY:n.clientX,b=m.nodo.hijos.divisor.posicion,L=q=>{if(!i.value)return;const k=((s==="horizontal"?q.clientY:q.clientX)-v)/m.escalaGlobal,z=b+k,S=s==="horizontal"?m.nodo.alto:m.nodo.ancho,I=50,P=S-I-8;z>=I&&z<=P&&O("mover-divisor",{nodo:m.nodo,nuevaPosicion:Math.round(z)})},V=()=>{i.value=!1,document.removeEventListener("mousemove",L),document.removeEventListener("mouseup",V),O("finalizar-movimiento-divisor")};document.addEventListener("mousemove",L),document.addEventListener("mouseup",V),n.preventDefault(),n.stopPropagation()}function e(n){const s=n==="ancho"?m.nodo.ancho:m.nodo.alto,v=prompt(`Ingrese el nuevo ${n} en milÃ­metros:`,s);if(v!==null&&!isNaN(v)){const b=parseInt(v);b>0&&O("actualizar-dimension",{nodo:m.nodo,tipo:n,valor:b})}}function w(){return{width:`${m.nodo.ancho}px`,height:`${m.nodo.alto}px`,position:"relative",border:"1px solid #666",boxSizing:"border-box",overflow:"visible"}}function R(){return m.nodo.hijos?{display:"flex",flexDirection:m.nodo.hijos.orientacion==="horizontal"?"column":"row",width:"100%",height:"100%"}:{}}function F(){if(!m.nodo.hijos)return{};const n=m.nodo.hijos.orientacion,s=m.nodo.hijos.divisor.posicion||0;return n==="horizontal"?{width:"100%",height:`${s}px`,flexShrink:0}:{width:`${s}px`,height:"100%",flexShrink:0}}function Y(){if(!m.nodo.hijos)return{};const n=m.nodo.hijos.orientacion,s=m.nodo.hijos.divisor.posicion||0,L=(n==="horizontal"?m.nodo.alto:m.nodo.ancho)-s-8;return n==="horizontal"?{width:"100%",height:`${L}px`,flexShrink:0}:{width:`${L}px`,height:"100%",flexShrink:0}}function j(){if(!m.nodo.hijos)return{};const n=m.nodo.hijos.orientacion,s="8px";return{background:"#1a1a1a",[n==="horizontal"?"height":"width"]:s,[n==="horizontal"?"width":"height"]:"100%",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",boxShadow:"0 0 4px rgba(0, 0, 0, 0.8)",border:"1px solid #000",cursor:n==="horizontal"?"ns-resize":"ew-resize",userSelect:"none",transition:"background 0.2s"}}function C(){const n=14/m.escalaGlobal,s=4/m.escalaGlobal,v=2/m.escalaGlobal,b=28/m.escalaGlobal;return{position:"absolute",fontSize:`${n}px`,padding:`${s}px ${s*2}px`,borderWidth:`${v}px`,top:`-${b}px`,left:"50%",transform:"translateX(-50%)",zIndex:100}}function h(){const n=14/m.escalaGlobal,s=4/m.escalaGlobal,v=2/m.escalaGlobal,b=28/m.escalaGlobal;return{position:"absolute",fontSize:`${n}px`,padding:`${s}px ${s*2}px`,borderWidth:`${v}px`,left:`-${b}px`,top:"50%",transform:"translateY(-50%) rotate(-90deg)",transformOrigin:"center",zIndex:100}}return(n,s)=>{const v=B("NodoVista",!0);return p(),J("div",{class:_l(["nodo-vista",{clickable:!A.nodo.hijos}]),style:Ke(w()),onClick:s[13]||(s[13]=la(b=>n.$emit("click-nodo",A.nodo),["stop"]))},[A.mostrarEtiquetas&&A.etiquetasVisibles&&A.nodo.tipo!=="marco"?(p(),J("div",{key:0,class:"etiqueta-dimension etiqueta-ancho",style:Ke(C()),draggable:"true",onDragstart:s[0]||(s[0]=b=>d(b,"ancho")),onClick:s[1]||(s[1]=la(b=>e("ancho"),["stop"]))},we(A.nodo.ancho)+"mm ",37)):ie("",!0),A.mostrarEtiquetas&&A.etiquetasVisibles&&A.nodo.tipo!=="marco"?(p(),J("div",{key:1,class:"etiqueta-dimension etiqueta-alto",style:Ke(h()),draggable:"true",onDragstart:s[2]||(s[2]=b=>d(b,"alto")),onClick:s[3]||(s[3]=la(b=>e("alto"),["stop"]))},we(A.nodo.alto)+"mm ",37)):ie("",!0),A.nodo.tipoVentanaId&&!A.nodo.hijos?(p(),J("div",_o,[(p(),E(El(A.componentesVista[A.nodo.tipoVentanaId]),{ancho:A.nodo.ancho,alto:A.nodo.alto,"color-marco":A.colorMarco},null,8,["ancho","alto","color-marco"]))])):A.nodo.hijos?(p(),J("div",So,[ne("div",{class:"division-container",style:Ke(R())},[ne("div",{class:"hijo-nodo",style:Ke(F())},[a(v,{nodo:A.nodo.hijos.nodo1,"color-marco":A.colorMarco,"componentes-vista":A.componentesVista,"escala-global":A.escalaGlobal,"mostrar-etiquetas":!0,"etiquetas-visibles":A.etiquetasVisibles,onClickNodo:s[4]||(s[4]=b=>n.$emit("click-nodo",b)),onActualizarDimension:s[5]||(s[5]=b=>n.$emit("actualizar-dimension",b)),onMoverDivisor:s[6]||(s[6]=b=>n.$emit("mover-divisor",b)),onFinalizarMovimientoDivisor:s[7]||(s[7]=b=>n.$emit("finalizar-movimiento-divisor"))},null,8,["nodo","color-marco","componentes-vista","escala-global","etiquetas-visibles"])],4),ne("div",{class:"divisor-visual",style:Ke(j()),onMousedown:f,onClick:s[8]||(s[8]=la(()=>{},["stop"]))},[ne("div",Io,[a(De,{size:"16",color:"white"},{default:u(()=>[K(we(A.nodo.hijos.orientacion==="horizontal"?"mdi-drag-horizontal-variant":"mdi-drag-vertical-variant"),1)]),_:1})])],36),ne("div",{class:"hijo-nodo",style:Ke(Y())},[a(v,{nodo:A.nodo.hijos.nodo2,"color-marco":A.colorMarco,"componentes-vista":A.componentesVista,"escala-global":A.escalaGlobal,"mostrar-etiquetas":!0,"etiquetas-visibles":A.etiquetasVisibles,onClickNodo:s[9]||(s[9]=b=>n.$emit("click-nodo",b)),onActualizarDimension:s[10]||(s[10]=b=>n.$emit("actualizar-dimension",b)),onMoverDivisor:s[11]||(s[11]=b=>n.$emit("mover-divisor",b)),onFinalizarMovimientoDivisor:s[12]||(s[12]=b=>n.$emit("finalizar-movimiento-divisor"))},null,8,["nodo","color-marco","componentes-vista","escala-global","etiquetas-visibles"])],4)],4)])):(p(),J("div",$o,[ne("div",Lo,[a(De,{size:"32",color:"grey-lighten-1"},{default:u(()=>s[14]||(s[14]=[K("mdi-crop-square")])),_:1}),ne("div",Do,we(A.nodo.ancho)+"mm Ã— "+we(A.nodo.alto)+"mm ",1)])]))],6)}}},Po=ka(qo,[["__scopeId","data-v-5f9dd5aa"]]),We=60,No={__name:"VistaVentanaFijaArmador",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"}},setup(A){const H={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},m={roble:new Image,nogal:new Image};m.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,m.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const O=o(()=>{var C;let j="";return typeof r.colorMarco=="object"&&((C=r.colorMarco)!=null&&C.nombre)?j=String(r.colorMarco.nombre).toLowerCase():typeof r.colorMarco=="string"&&(j=r.colorMarco.toLowerCase()),H[j]||"#ffffff"});function g(j){var h;let C="";return typeof r.colorMarco=="object"&&((h=r.colorMarco)!=null&&h.nombre)?C=String(r.colorMarco.nombre).toLowerCase():typeof r.colorMarco=="string"&&(C=r.colorMarco.toLowerCase()),["roble","nogal"].includes(C)&&m[C]?{points:j,closed:!0,fillPatternImage:m[C],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black",strokeWidth:1}:{points:j,closed:!0,fill:O.value,stroke:"black",strokeWidth:1}}const r=A,i=o(()=>r.ancho),d=o(()=>r.alto),f=o(()=>({width:r.ancho,height:r.alto})),e=o(()=>g([0,0,i.value,0,i.value-We,We,We,We])),w=o(()=>g([i.value,0,i.value,d.value,i.value-We,d.value-We,i.value-We,We])),R=o(()=>g([i.value,d.value,0,d.value,We,d.value-We,i.value-We,d.value-We])),F=o(()=>g([0,d.value,0,0,We,We,We,d.value-We])),Y=o(()=>({x:We,y:We,width:i.value-We*2,height:d.value-We*2,fill:"#b3e5fc",stroke:"black",strokeWidth:.5}));return(j,C)=>{const h=B("v-line"),n=B("v-rect"),s=B("v-layer"),v=B("v-stage");return p(),E(v,{config:f.value},{default:u(()=>[a(s,null,{default:u(()=>[a(h,{config:e.value},null,8,["config"]),a(h,{config:w.value},null,8,["config"]),a(h,{config:R.value},null,8,["config"]),a(h,{config:F.value},null,8,["config"]),a(n,{config:Y.value},null,8,["config"])]),_:1})]),_:1},8,["config"])}}},Te=60,Va=0,Uo={__name:"VistaVentanaProyectanteArmador",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"}},setup(A){const H=A,m={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},O={roble:new Image,nogal:new Image};O.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,O.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const g=o(()=>{var k,z,S;const U=typeof H.colorMarco=="object"?(z=(k=H.colorMarco)==null?void 0:k.nombre)==null?void 0:z.toLowerCase():(S=H.colorMarco)==null?void 0:S.toLowerCase();return m[U]||"#ffffff"});function r(U,k=!1){var S,I,T;const z=typeof H.colorMarco=="object"?(I=(S=H.colorMarco)==null?void 0:S.nombre)==null?void 0:I.toLowerCase():(T=H.colorMarco)==null?void 0:T.toLowerCase();return["roble","nogal"].includes(z)&&O[z]?{points:U,closed:!0,fillPatternImage:O[z],fillPatternRepeat:"repeat",fillPatternScale:{x:k?.15:.2,y:k?.15:.2},stroke:"black",strokeWidth:1}:{points:U,closed:!0,fill:g.value,stroke:"black",strokeWidth:1}}const i=o(()=>H.ancho),d=o(()=>H.alto),f=o(()=>({width:H.ancho,height:H.alto})),e=o(()=>r([0,0,i.value,0,i.value-Te,Te,Te,Te])),w=o(()=>r([i.value,0,i.value,d.value,i.value-Te,d.value-Te,i.value-Te,Te])),R=o(()=>r([i.value,d.value,0,d.value,Te,d.value-Te,i.value-Te,d.value-Te])),F=o(()=>r([0,d.value,0,0,Te,Te,Te,d.value-Te])),Y=o(()=>({x:Te,y:Te,width:i.value-Te*2,height:d.value-Te*2,fill:"#b3e5fc",stroke:"black",strokeWidth:.5})),j=o(()=>Y.value.x+Va),C=o(()=>Y.value.y+Va),h=o(()=>Y.value.width-Va*2),n=o(()=>Y.value.height-Va*2),s=Te*.8,v=o(()=>r([j.value,C.value,j.value+h.value,C.value,j.value+h.value-s,C.value+s,j.value+s,C.value+s],!0)),b=o(()=>r([j.value+h.value,C.value,j.value+h.value,C.value+n.value,j.value+h.value-s,C.value+n.value-s,j.value+h.value-s,C.value+s],!0)),L=o(()=>r([j.value+h.value,C.value+n.value,j.value,C.value+n.value,j.value+s,C.value+n.value-s,j.value+h.value-s,C.value+n.value-s],!0)),V=o(()=>r([j.value,C.value+n.value,j.value,C.value,j.value+s,C.value+s,j.value+s,C.value+n.value-s],!0)),q=o(()=>({points:[j.value+5,C.value+5,j.value+h.value/2,C.value+n.value-5],stroke:"black",dash:[10,5],strokeWidth:2})),D=o(()=>({points:[j.value+h.value-5,C.value+5,j.value+h.value/2,C.value+n.value-5],stroke:"black",dash:[10,5],strokeWidth:2}));return(U,k)=>{const z=B("v-line"),S=B("v-rect"),I=B("v-layer"),T=B("v-stage");return p(),E(T,{config:f.value},{default:u(()=>[a(I,null,{default:u(()=>[a(z,{config:e.value},null,8,["config"]),a(z,{config:w.value},null,8,["config"]),a(z,{config:R.value},null,8,["config"]),a(z,{config:F.value},null,8,["config"]),a(S,{config:Y.value},null,8,["config"]),a(z,{config:v.value},null,8,["config"]),a(z,{config:b.value},null,8,["config"]),a(z,{config:L.value},null,8,["config"]),a(z,{config:V.value},null,8,["config"]),a(ea,{x:j.value+h.value/2,y:C.value+n.value+2,width:20,height:6,rotation:90,offsetX:10,offsetY:2.5},null,8,["x","y"]),a(z,{config:q.value},null,8,["config"]),a(z,{config:D.value},null,8,["config"])]),_:1})]),_:1},8,["config"])}}},Ce=0,Ca=1,Eo=60,Ro={__name:"VistaVentanaFijaAL42Armador",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"}},setup(A){const H={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},m={roble:new Image,nogal:new Image};m.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,m.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const O=o(()=>{var h;let C="";return typeof r.colorMarco=="object"&&((h=r.colorMarco)!=null&&h.nombre)?C=String(r.colorMarco.nombre).toLowerCase():typeof r.colorMarco=="string"&&(C=r.colorMarco.toLowerCase()),H[C]||"#ffffff"});function g(C){var n;let h="";return typeof r.colorMarco=="object"&&((n=r.colorMarco)!=null&&n.nombre)?h=String(r.colorMarco.nombre).toLowerCase():typeof r.colorMarco=="string"&&(h=r.colorMarco.toLowerCase()),["roble","nogal"].includes(h)&&m[h]?{points:C,closed:!0,fillPatternImage:m[h],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:C,closed:!0,fill:O.value,stroke:"black"}}const r=A,i=Eo*Ca,d=r.ancho*Ca,f=r.alto*Ca,e=o(()=>({width:r.ancho,height:r.alto})),w=o(()=>g([Ce,Ce,Ce+d,Ce,Ce+d-i,Ce+i,Ce+i,Ce+i])),R=o(()=>g([Ce+d,Ce,Ce+d,Ce+f,Ce+d-i,Ce+f-i,Ce+d-i,Ce+i])),F=o(()=>g([Ce,Ce+f,Ce+d,Ce+f,Ce+d-i,Ce+f-i,Ce+i,Ce+f-i])),Y=o(()=>g([Ce,Ce,Ce,Ce+f,Ce+i,Ce+f-i,Ce+i,Ce+i])),j=o(()=>({x:Ce+i,y:Ce+i,width:d-2*i,height:f-2*i,fill:"rgba(135, 206, 235, 0.3)",stroke:"rgba(0, 0, 0, 0.2)",strokeWidth:1}));return(C,h)=>{const n=B("v-line"),s=B("v-rect"),v=B("v-layer"),b=B("v-stage");return p(),E(b,{config:e.value},{default:u(()=>[a(v,null,{default:u(()=>[a(n,{config:w.value},null,8,["config"]),a(n,{config:R.value},null,8,["config"]),a(n,{config:F.value},null,8,["config"]),a(n,{config:Y.value},null,8,["config"]),a(s,{config:j.value},null,8,["config"])]),_:1})]),_:1},8,["config"])}}},ze=0,na=1,To=60,xa=0,Wo={__name:"VistaVentanaProyectanteAL42Armador",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"}},setup(A){const H=A,m={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},O={roble:new Image,nogal:new Image};O.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,O.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const g=o(()=>{var z,S,I;const k=typeof H.colorMarco=="object"?(S=(z=H.colorMarco)==null?void 0:z.nombre)==null?void 0:S.toLowerCase():(I=H.colorMarco)==null?void 0:I.toLowerCase();return m[k]||"#ffffff"});function r(k,z=!1){var I,T,P;const S=typeof H.colorMarco=="object"?(T=(I=H.colorMarco)==null?void 0:I.nombre)==null?void 0:T.toLowerCase():(P=H.colorMarco)==null?void 0:P.toLowerCase();return["roble","nogal"].includes(S)&&O[S]?{points:k,closed:!0,fillPatternImage:O[S],fillPatternRepeat:"repeat",fillPatternScale:{x:z?.15:.2,y:z?.15:.2},stroke:"black"}:{points:k,closed:!0,fill:g.value,stroke:"black"}}const i=To*na,d=H.ancho*na,f=H.alto*na,e=o(()=>({width:H.ancho,height:H.alto})),w=o(()=>r([ze,ze,ze+d,ze,ze+d-i,ze+i,ze+i,ze+i])),R=o(()=>r([ze+d,ze,ze+d,ze+f,ze+d-i,ze+f-i,ze+d-i,ze+i])),F=o(()=>r([ze+d,ze+f,ze,ze+f,ze+i,ze+f-i,ze+d-i,ze+f-i])),Y=o(()=>r([ze,ze+f,ze,ze,ze+i,ze+i,ze+i,ze+f-i])),j=o(()=>({x:ze+i,y:ze+i,width:d-i*2,height:f-i*2,fill:"rgba(135, 206, 235, 0.3)",stroke:"rgba(0, 0, 0, 0.2)",strokeWidth:1})),C=o(()=>j.value.x+xa*na),h=o(()=>j.value.y+xa*na),n=o(()=>j.value.width-xa*2*na),s=o(()=>j.value.height-xa*2*na),v=o(()=>i*.8),b=o(()=>r([C.value,h.value,C.value+n.value,h.value,C.value+n.value-v.value,h.value+v.value,C.value+v.value,h.value+v.value],!0)),L=o(()=>r([C.value+n.value,h.value,C.value+n.value,h.value+s.value,C.value+n.value-v.value,h.value+s.value-v.value,C.value+n.value-v.value,h.value+v.value],!0)),V=o(()=>r([C.value+n.value,h.value+s.value,C.value,h.value+s.value,C.value+v.value,h.value+s.value-v.value,C.value+n.value-v.value,h.value+s.value-v.value],!0)),q=o(()=>r([C.value,h.value+s.value,C.value,h.value,C.value+v.value,h.value+v.value,C.value+v.value,h.value+s.value-v.value],!0)),D=o(()=>({points:[C.value+5,h.value+5,C.value+n.value/2,h.value+s.value-5],stroke:"black",dash:[10,5],strokeWidth:2})),U=o(()=>({points:[C.value+n.value-5,h.value+5,C.value+n.value/2,h.value+s.value-5],stroke:"black",dash:[10,5],strokeWidth:2}));return(k,z)=>{const S=B("v-line"),I=B("v-rect"),T=B("v-layer"),P=B("v-stage");return p(),E(P,{config:e.value},{default:u(()=>[a(T,null,{default:u(()=>[a(S,{config:w.value},null,8,["config"]),a(S,{config:R.value},null,8,["config"]),a(S,{config:F.value},null,8,["config"]),a(S,{config:Y.value},null,8,["config"]),a(I,{config:j.value},null,8,["config"]),a(S,{config:b.value},null,8,["config"]),a(S,{config:L.value},null,8,["config"]),a(S,{config:V.value},null,8,["config"]),a(S,{config:q.value},null,8,["config"]),a(S,{config:D.value},null,8,["config"]),a(S,{config:U.value},null,8,["config"])]),_:1})]),_:1},8,["config"])}}},Ze=25,Fe=25,Je=120,oa=25,Fo={__name:"VistaVentanaCorrederaAL25Armador",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"}},setup(A){const H=A,m={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},O=ce(!0),g=ce(!0),r=ce(!0),i=()=>{console.log("ðŸ”„ Cambiando orden de hojas correderas"),O.value=!O.value},d=()=>{g.value=!g.value,console.log("ðŸªŸ Hoja 1:",g.value?"MÃ³vil":"Fija")},f=()=>{r.value=!r.value,console.log("ðŸªŸ Hoja 2:",r.value?"MÃ³vil":"Fija")},e=o(()=>({width:H.ancho,height:H.alto})),w=o(()=>m[H.colorMarco]||"#ffffff"),R=o(()=>({x:0,y:0,width:H.ancho,height:Ze,fill:w.value,stroke:"#333",strokeWidth:1})),F=o(()=>({x:H.ancho-Ze,y:0,width:Ze,height:H.alto,fill:w.value,stroke:"#333",strokeWidth:1})),Y=o(()=>({x:0,y:H.alto-Ze,width:H.ancho,height:Ze,fill:w.value,stroke:"#333",strokeWidth:1})),j=o(()=>({x:0,y:0,width:Ze,height:H.alto,fill:w.value,stroke:"#333",strokeWidth:1})),C=o(()=>H.ancho-2*Ze),h=o(()=>H.alto-2*Ze),n=Ze,s=Ze,v=o(()=>C.value/2),b=o(()=>h.value),L=o(()=>n),V=o(()=>s),q=o(()=>({x:L.value+Fe,y:V.value+Fe,width:v.value-2*Fe,height:b.value-2*Fe,fill:"rgba(173, 216, 230, 0.3)",stroke:"#aaa",strokeWidth:.5,cursor:"pointer"})),D=o(()=>({x:L.value,y:V.value,width:v.value,height:Fe,fill:w.value,stroke:"#666",strokeWidth:1})),U=o(()=>({x:L.value+v.value-Fe,y:V.value,width:Fe,height:b.value,fill:w.value,stroke:"#666",strokeWidth:1})),k=o(()=>({x:L.value,y:V.value+b.value-Fe,width:v.value,height:Fe,fill:w.value,stroke:"#666",strokeWidth:1})),z=o(()=>({x:L.value,y:V.value,width:Fe,height:b.value,fill:w.value,stroke:"#666",strokeWidth:1})),S=o(()=>n+v.value),I=o(()=>s),T=o(()=>({x:S.value+Fe,y:I.value+Fe,width:v.value-2*Fe,height:b.value-2*Fe,fill:"rgba(173, 216, 230, 0.3)",stroke:"#aaa",strokeWidth:.5,cursor:"pointer"})),P=o(()=>({x:S.value,y:I.value,width:v.value,height:Fe,fill:w.value,stroke:"#666",strokeWidth:1})),ve=o(()=>({x:S.value+v.value-Fe,y:I.value,width:Fe,height:b.value,fill:w.value,stroke:"#666",strokeWidth:1})),je=o(()=>({x:S.value,y:I.value+b.value-Fe,width:v.value,height:Fe,fill:w.value,stroke:"#666",strokeWidth:1})),Ae=o(()=>({x:S.value,y:I.value,width:Fe,height:b.value,fill:w.value,stroke:"#666",strokeWidth:1})),Me=o(()=>({points:[L.value+v.value/2-Je/2,V.value+b.value/2,L.value+v.value/2+Je/2,V.value+b.value/2],stroke:O.value?"#FF5722":"#9E9E9E",strokeWidth:5,lineCap:"round",hitStrokeWidth:20,cursor:"pointer"})),Ne=o(()=>({points:[L.value+v.value/2+Je/2,V.value+b.value/2,L.value+v.value/2+Je/2-oa,V.value+b.value/2-oa/2],stroke:O.value?"#FF5722":"#9E9E9E",strokeWidth:5,lineCap:"round",hitStrokeWidth:20,cursor:"pointer"})),qe=o(()=>({points:[L.value+v.value/2+Je/2,V.value+b.value/2,L.value+v.value/2+Je/2-oa,V.value+b.value/2+oa/2],stroke:O.value?"#FF5722":"#9E9E9E",strokeWidth:5,lineCap:"round",hitStrokeWidth:20,cursor:"pointer"})),ae=o(()=>({points:[S.value+v.value/2-Je/2,I.value+b.value/2,S.value+v.value/2+Je/2,I.value+b.value/2],stroke:O.value?"#9E9E9E":"#FF5722",strokeWidth:5,lineCap:"round",hitStrokeWidth:20,cursor:"pointer"})),ee=o(()=>({points:[S.value+v.value/2-Je/2,I.value+b.value/2,S.value+v.value/2-Je/2+oa,I.value+b.value/2-oa/2],stroke:O.value?"#9E9E9E":"#FF5722",strokeWidth:5,lineCap:"round",hitStrokeWidth:20,cursor:"pointer"})),X=o(()=>({points:[S.value+v.value/2-Je/2,I.value+b.value/2,S.value+v.value/2-Je/2+oa,I.value+b.value/2+oa/2],stroke:O.value?"#9E9E9E":"#FF5722",strokeWidth:5,lineCap:"round",hitStrokeWidth:20,cursor:"pointer"})),N=o(()=>({x:L.value+v.value/2,y:V.value+b.value/2,text:"FIJA",fontSize:30,fontStyle:"bold",fill:"#757575",align:"center",offsetX:30,offsetY:15})),G=o(()=>({x:S.value+v.value/2,y:I.value+b.value/2,text:"FIJA",fontSize:30,fontStyle:"bold",fill:"#757575",align:"center",offsetX:30,offsetY:15}));return(W,Q)=>{const M=B("v-rect"),c=B("v-line"),x=B("v-text"),y=B("v-layer"),l=B("v-stage");return p(),E(l,{config:e.value},{default:u(()=>[a(y,null,{default:u(()=>[a(M,oe(te(R.value)),null,16),a(M,oe(te(F.value)),null,16),a(M,oe(te(Y.value)),null,16),a(M,oe(te(j.value)),null,16),O.value?ie("",!0):(p(),J(de,{key:0},[a(M,Se(T.value,{onClick:f}),null,16),a(M,Se(P.value,{onClick:f}),null,16),a(M,Se(ve.value,{onClick:f}),null,16),a(M,Se(je.value,{onClick:f}),null,16),a(M,Se(Ae.value,{onClick:f}),null,16),r.value?(p(),J(de,{key:0},[a(c,{config:ae.value,onMousedown:i,onTouchstart:i},null,8,["config"]),a(c,{config:ee.value,onMousedown:i,onTouchstart:i},null,8,["config"]),a(c,{config:X.value,onMousedown:i,onTouchstart:i},null,8,["config"])],64)):(p(),E(x,{key:1,config:G.value},null,8,["config"]))],64)),a(M,Se(q.value,{onClick:d}),null,16),a(M,Se(D.value,{onClick:d}),null,16),a(M,Se(U.value,{onClick:d}),null,16),a(M,Se(k.value,{onClick:d}),null,16),a(M,Se(z.value,{onClick:d}),null,16),g.value?(p(),J(de,{key:1},[a(c,{config:Me.value,onMousedown:i,onTouchstart:i},null,8,["config"]),a(c,{config:Ne.value,onMousedown:i,onTouchstart:i},null,8,["config"]),a(c,{config:qe.value,onMousedown:i,onTouchstart:i},null,8,["config"])],64)):(p(),E(x,{key:2,config:N.value},null,8,["config"])),O.value?(p(),J(de,{key:3},[a(M,Se(T.value,{onClick:f}),null,16),a(M,Se(P.value,{onClick:f}),null,16),a(M,Se(ve.value,{onClick:f}),null,16),a(M,Se(je.value,{onClick:f}),null,16),a(M,Se(Ae.value,{onClick:f}),null,16),r.value?(p(),J(de,{key:0},[a(c,{config:ae.value,onMousedown:i,onTouchstart:i},null,8,["config"]),a(c,{config:ee.value,onMousedown:i,onTouchstart:i},null,8,["config"]),a(c,{config:X.value,onMousedown:i,onTouchstart:i},null,8,["config"])],64)):(p(),E(x,{key:1,config:G.value},null,8,["config"]))],64)):ie("",!0)]),_:1})]),_:1},8,["config"])}}},Oo={class:"armador-complejas"},Ho={class:"toolbar-top"},Xo={class:"toolbar-title"},Bo={class:"toolbar-actions"},Yo={class:"armador-content"},Go={class:"panel-tree"},Jo={key:0,class:"text-center py-8"},Ko={key:1},Qo={class:"panel-preview"},Zo={class:"d-flex align-center"},et={class:"d-flex align-center gap-2"},at={class:"text-caption"},lt={key:0,class:"empty-preview"},ot={key:0,class:"dimensiones-principales"},tt={class:"panel-properties"},nt={key:0,class:"text-center py-8 text-grey"},ut={key:1},rt={class:"d-flex flex-column gap-2"},it={class:"actions-bottom"},st={key:0,class:"text-caption text-grey mb-2"},vt={__name:"ArmadorVentanasComplejas",props:{tiposVentana:{type:Array,default:()=>[]},perfilesMarco:{type:Array,default:()=>[]},perfilesDivisores:{type:Array,default:()=>[]},colorMarco:{type:String,default:"blanco"}},emits:["actualizar","cancelar"],setup(A,{emit:H}){const m={2:No,45:Uo,3:Ll,49:Pl,50:Nl,1:Ro,55:Fo,56:Wo,57:ql},O=A,g=H;He(()=>O.tiposVentana,M=>{console.log("ðŸªŸ Tipos de ventana en ArmadorVentanasComplejas:",M)},{immediate:!0});const r=ce(null),i=ce(null),d=ce([]),f=ce(-1),e=ce(null),w=ce(!0),R=ce(!0),F=ce(0),Y=ce(!1),j=ce(!1),C=ce(!1),h=ce({ancho:2400,alto:1600,perfilId:null}),n=ce({orientacion:"horizontal",posicion:800,perfilId:null}),s=ce(null),v=o(()=>f.value>0),b=o(()=>f.value<d.value.length-1);He(()=>r.value,M=>{M&&g("actualizar",M)},{deep:!0});let L=1;function V(){return`nodo-${L++}`}function q(){r.value={id:V(),tipo:"marco",ancho:h.value.ancho,alto:h.value.alto,perfilId:h.value.perfilId,hijos:null,tipoVentanaId:null},Y.value=!1,ve(),Me()}function D(M){i.value=M}function U(M,c){n.value={...c},i.value=M,j.value=!0}function k(){if(!i.value)return;const M=n.value.orientacion,c=n.value.posicion,x=M==="horizontal"?i.value.alto:i.value.ancho;if(c<=0||c>=x){alert(`La posiciÃ³n debe estar entre 0 y ${x}`);return}const y=8;i.value.hijos={orientacion:M,divisor:{posicion:c,perfilId:n.value.perfilId},nodo1:{id:V(),tipo:"espacio",ancho:M==="vertical"?c:i.value.ancho,alto:M==="horizontal"?c:i.value.alto,hijos:null,tipoVentanaId:null},nodo2:{id:V(),tipo:"espacio",ancho:M==="vertical"?i.value.ancho-c-y:i.value.ancho,alto:M==="horizontal"?i.value.alto-c-y:i.value.alto,hijos:null,tipoVentanaId:null}},j.value=!1,ve(),Me()}function z(M){i.value=M,s.value=M.tipoVentanaId,C.value=!0}function S(){!i.value||!s.value||(i.value.tipoVentanaId=s.value,C.value=!1,ve(),Me())}function I(){i.value&&(i.value.tipoVentanaId=null,ve(),Me())}function T(M){console.log("Eliminar nodo:",M)}function P(){confirm("Â¿EstÃ¡s seguro de limpiar toda la estructura?")&&(r.value=null,i.value=null,ve())}function ve(){const M=JSON.parse(JSON.stringify(r.value));d.value=d.value.slice(0,f.value+1),d.value.push(M),f.value++}function je(){v.value&&(f.value--,r.value=JSON.parse(JSON.stringify(d.value[f.value])),Me())}function Ae(){b.value&&(f.value++,r.value=JSON.parse(JSON.stringify(d.value[f.value])),Me())}function Me(){g("actualizar",r.value)}function Ne({nodo:M,tipo:c,valor:x}){c==="ancho"?M.ancho=x:c==="alto"&&(M.alto=x),r.value&&qe(r.value,M,c,x),M.hijos&&ae(M),ve(),Me(),F.value++}function qe(M,c,x,y){const l=(t,_,$=null,re=!1)=>{if(t===_){if($&&$.hijos){const le=$.hijos.orientacion,ue=8;if($.hijos.divisor.posicion,x==="ancho"&&le==="vertical"){const ke=$.hijos.nodo1.ancho,_e=$.hijos.nodo2.ancho,Re=ke+_e+ue;$.ancho=Re,qe(M,$,x,Re)}else if(x==="alto"&&le==="horizontal"){const ke=$.hijos.nodo1.alto,_e=$.hijos.nodo2.alto,Re=ke+_e+ue;$.alto=Re,qe(M,$,x,Re)}else x==="ancho"&&le==="horizontal"?($.ancho=y,$.hijos.nodo1.ancho=y,$.hijos.nodo2.ancho=y,qe(M,$,x,y)):x==="alto"&&le==="vertical"&&($.alto=y,$.hijos.nodo1.alto=y,$.hijos.nodo2.alto=y,qe(M,$,x,y))}return!0}return!!(t.hijos&&(l(t.hijos.nodo1,_,t,!0)||l(t.hijos.nodo2,_,t,!1)))};l(M,c)}function ae(M){if(!M.hijos)return;const c=M.hijos.orientacion,x=M.hijos.divisor.posicion,y=8;c==="vertical"?(M.hijos.nodo1.ancho=x,M.hijos.nodo2.ancho=M.ancho-x-y,M.hijos.nodo1.alto=M.alto,M.hijos.nodo2.alto=M.alto):(M.hijos.nodo1.alto=x,M.hijos.nodo2.alto=M.alto-x-y,M.hijos.nodo1.ancho=M.ancho,M.hijos.nodo2.ancho=M.ancho),M.hijos.nodo1.hijos&&ae(M.hijos.nodo1),M.hijos.nodo2.hijos&&ae(M.hijos.nodo2)}function ee({nodo:M,nuevaPosicion:c}){if(!M.hijos)return;const x=M.hijos.orientacion,y=8;M.hijos.divisor.posicion=c,x==="vertical"?(M.hijos.nodo1.ancho=c,M.hijos.nodo2.ancho=M.ancho-c-y):(M.hijos.nodo1.alto=c,M.hijos.nodo2.alto=M.alto-c-y),M.hijos.nodo1.hijos&&ae(M.hijos.nodo1),M.hijos.nodo2.hijos&&ae(M.hijos.nodo2)}function X(){ve(),F.value++}function N(){if(!r.value)return{};const M=w.value?500:800,c=600,x=40,y=(M-x)/r.value.ancho,l=(c-x)/r.value.alto;return{transform:`scale(${Math.min(y,l)})`,transformOrigin:"top left",marginLeft:`${x/2}px`,marginTop:`${x/2}px`}}function G(){if(!r.value)return{};const M=w.value?500:800,c=600,x=40,y=(M-x)/r.value.ancho,l=(c-x)/r.value.alto,t=Math.min(y,l),_=r.value.ancho*t;return{top:"5px",left:`${x/2+_/2}px`,transform:"translateX(-50%)"}}function W(){if(!r.value)return{};const M=w.value?500:800,c=600,x=40,y=(M-x)/r.value.ancho,l=(c-x)/r.value.alto,t=Math.min(y,l),_=r.value.alto*t;return{left:"5px",top:`${x/2+_/2}px`,transform:"translateY(-50%) rotate(-90deg)"}}function Q(){if(!r.value)return 1;const M=w.value?500:800,c=600,x=40,y=(M-x)/r.value.ancho,l=(c-x)/r.value.alto;return Math.min(y,l)}return He(w,()=>{Sl(()=>{F.value++})}),(M,c)=>(p(),J("div",Oo,[ne("div",Ho,[ne("div",Xo,[a(De,null,{default:u(()=>c[20]||(c[20]=[K("mdi-view-dashboard")])),_:1}),c[21]||(c[21]=ne("span",{class:"ml-2"},"Armador de Ventanas Complejas",-1))]),ne("div",Bo,[a(Le,{size:"small",variant:"text",onClick:je,disabled:!v.value},{default:u(()=>[a(De,null,{default:u(()=>c[22]||(c[22]=[K("mdi-undo")])),_:1})]),_:1},8,["disabled"]),a(Le,{size:"small",variant:"text",onClick:Ae,disabled:!b.value},{default:u(()=>[a(De,null,{default:u(()=>c[23]||(c[23]=[K("mdi-redo")])),_:1})]),_:1},8,["disabled"]),a(Le,{size:"small",variant:"text",color:"error",onClick:P},{default:u(()=>[a(De,null,{default:u(()=>c[24]||(c[24]=[K("mdi-delete-sweep")])),_:1})]),_:1})])]),ne("div",Yo,[ne("div",Go,[a(Be,{elevation:"0",class:"fill-height"},{default:u(()=>[a(Qe,{class:"d-flex align-center pa-3 bg-primary"},{default:u(()=>[a(De,{class:"mr-2"},{default:u(()=>c[25]||(c[25]=[K("mdi-file-tree")])),_:1}),c[26]||(c[26]=K(" Estructura "))]),_:1}),a(ua,{class:"pa-3"},{default:u(()=>{var x;return[r.value?(p(),J("div",Ko,[a(wo,{nodo:r.value,nivel:0,seleccionado:((x=i.value)==null?void 0:x.id)===r.value.id,onSeleccionar:D,onDividir:U,onAsignarTipo:z,onEliminar:T},null,8,["nodo","seleccionado"])])):(p(),J("div",Jo,[a(De,{size:"64",color:"grey-lighten-1"},{default:u(()=>c[27]||(c[27]=[K("mdi-window-closed-variant")])),_:1}),c[30]||(c[30]=ne("div",{class:"text-body-2 text-grey mt-2"}," Define el marco principal ",-1)),a(Le,{color:"primary",variant:"flat",class:"mt-4",onClick:c[0]||(c[0]=y=>Y.value=!0)},{default:u(()=>[a(De,{left:""},{default:u(()=>c[28]||(c[28]=[K("mdi-plus")])),_:1}),c[29]||(c[29]=K(" Crear Marco "))]),_:1})]))]}),_:1})]),_:1})]),ne("div",Qo,[a(Be,{elevation:"0",class:"fill-height"},{default:u(()=>[a(Qe,{class:"d-flex align-center justify-space-between pa-3 bg-primary"},{default:u(()=>[ne("div",Zo,[a(De,{class:"mr-2"},{default:u(()=>c[31]||(c[31]=[K("mdi-eye")])),_:1}),c[32]||(c[32]=K(" Vista Previa "))]),ne("div",et,[ne("div",at,we(r.value?`${r.value.ancho}mm Ã— ${r.value.alto}mm`:""),1),a(Le,{icon:"",size:"small",variant:"tonal",color:"white",onClick:c[1]||(c[1]=x=>R.value=!R.value),title:R.value?"Ocultar etiquetas":"Mostrar etiquetas"},{default:u(()=>[a(De,null,{default:u(()=>[K(we(R.value?"mdi-label":"mdi-label-off"),1)]),_:1})]),_:1},8,["title"]),a(Le,{icon:"",size:"small",variant:"tonal",color:"white",onClick:c[2]||(c[2]=x=>w.value=!w.value),title:w.value?"Ocultar propiedades":"Mostrar propiedades"},{default:u(()=>[a(De,null,{default:u(()=>[K(we(w.value?"mdi-chevron-right":"mdi-chevron-left"),1)]),_:1})]),_:1},8,["title"])])]),_:1}),a(ua,{class:"pa-4 preview-content"},{default:u(()=>[r.value?(p(),J("div",{key:1,class:"preview-wrapper",ref_key:"previewContainer",ref:e},[r.value?fl((p(),J("div",ot,[ne("div",{class:"label-dimension label-ancho-principal",style:Ke(G())},we(r.value.ancho)+"mm ",5),ne("div",{class:"label-dimension label-alto-principal",style:Ke(W())},we(r.value.alto)+"mm ",5)],512)),[[pl,R.value]]):ie("",!0),(p(),J("div",{class:"preview-scaler",key:F.value,style:Ke(N())},[a(Po,{nodo:r.value,"color-marco":A.colorMarco,"componentes-vista":m,"escala-global":Q(),"mostrar-etiquetas":!1,"etiquetas-visibles":R.value,onClickNodo:D,onActualizarDimension:Ne,onMoverDivisor:ee,onFinalizarMovimientoDivisor:X},null,8,["nodo","color-marco","escala-global","etiquetas-visibles"])],4))],512)):(p(),J("div",lt,[a(De,{size:"80",color:"grey-lighten-2"},{default:u(()=>c[33]||(c[33]=[K("mdi-image-off")])),_:1}),c[34]||(c[34]=ne("div",{class:"text-body-2 text-grey mt-3"}," Crea un marco para ver la vista previa ",-1))]))]),_:1})]),_:1})]),fl(ne("div",tt,[a(Be,{elevation:"0",class:"fill-height"},{default:u(()=>[a(Qe,{class:"d-flex align-center pa-3 bg-primary"},{default:u(()=>[a(De,{class:"mr-2"},{default:u(()=>c[35]||(c[35]=[K("mdi-cog")])),_:1}),c[36]||(c[36]=K(" Propiedades "))]),_:1}),a(ua,{class:"pa-3"},{default:u(()=>[i.value?(p(),J("div",ut,[a(Dl,{density:"compact"},{default:u(()=>[a(ha,null,{default:u(()=>[a(ga,{class:"text-caption text-grey"},{default:u(()=>c[39]||(c[39]=[K("Tipo")])),_:1}),a(bl,{class:"text-body-2 font-weight-bold"},{default:u(()=>[K(we(i.value.tipo==="marco"?"Marco":i.value.tipoVentanaId?"Ventana":"Espacio"),1)]),_:1})]),_:1}),a(ha,null,{default:u(()=>[a(ga,{class:"text-caption text-grey"},{default:u(()=>c[40]||(c[40]=[K("Dimensiones")])),_:1}),a(bl,{class:"text-body-2"},{default:u(()=>[K(we(i.value.ancho)+"mm Ã— "+we(i.value.alto)+"mm ",1)]),_:1})]),_:1})]),_:1}),a(pa,{class:"my-3"}),ne("div",rt,[!i.value.tipoVentanaId&&!i.value.hijos?(p(),E(Le,{key:0,block:"",color:"primary",variant:"tonal",size:"small",onClick:c[3]||(c[3]=x=>j.value=!0)},{default:u(()=>[a(De,{left:""},{default:u(()=>c[41]||(c[41]=[K("mdi-page-layout-sidebar-left")])),_:1}),c[42]||(c[42]=K(" Dividir "))]),_:1})):ie("",!0),!i.value.tipoVentanaId&&!i.value.hijos?(p(),E(Le,{key:1,block:"",color:"success",variant:"tonal",size:"small",onClick:c[4]||(c[4]=x=>C.value=!0)},{default:u(()=>[a(De,{left:""},{default:u(()=>c[43]||(c[43]=[K("mdi-window-closed-variant")])),_:1}),c[44]||(c[44]=K(" Asignar Tipo "))]),_:1})):ie("",!0),i.value.tipoVentanaId?(p(),E(Le,{key:2,block:"",color:"warning",variant:"tonal",size:"small",onClick:I},{default:u(()=>[a(De,{left:""},{default:u(()=>c[45]||(c[45]=[K("mdi-eraser")])),_:1}),c[46]||(c[46]=K(" Quitar Tipo "))]),_:1})):ie("",!0),i.value.tipo!=="marco"?(p(),E(Le,{key:3,block:"",color:"error",variant:"outlined",size:"small",onClick:c[5]||(c[5]=x=>T(i.value))},{default:u(()=>[a(De,{left:""},{default:u(()=>c[47]||(c[47]=[K("mdi-delete")])),_:1}),c[48]||(c[48]=K(" Eliminar "))]),_:1})):ie("",!0)])])):(p(),J("div",nt,[a(De,{size:"48"},{default:u(()=>c[37]||(c[37]=[K("mdi-cursor-default-click")])),_:1}),c[38]||(c[38]=ne("div",{class:"text-body-2 mt-2"}," Selecciona un elemento ",-1))]))]),_:1})]),_:1})],512),[[pl,w.value]])]),ne("div",it,[a(Le,{onClick:c[6]||(c[6]=x=>M.$emit("cancelar")),variant:"text"},{default:u(()=>c[49]||(c[49]=[K(" Cancelar ")])),_:1}),a(Le,{onClick:Me,color:"primary",variant:"flat",disabled:!r.value},{default:u(()=>[a(De,{left:""},{default:u(()=>c[50]||(c[50]=[K("mdi-check")])),_:1}),c[51]||(c[51]=K(" Aplicar ConfiguraciÃ³n "))]),_:1},8,["disabled"])]),a(da,{modelValue:Y.value,"onUpdate:modelValue":c[11]||(c[11]=x=>Y.value=x),"max-width":"500"},{default:u(()=>[a(Be,null,{default:u(()=>[a(Qe,null,{default:u(()=>c[52]||(c[52]=[K("Crear Marco Principal")])),_:1}),a(ua,null,{default:u(()=>[a(Ue,{modelValue:h.value.ancho,"onUpdate:modelValue":c[7]||(c[7]=x=>h.value.ancho=x),modelModifiers:{number:!0},label:"Ancho (mm)",type:"number",variant:"outlined",density:"compact",class:"mb-3"},null,8,["modelValue"]),a(Ue,{modelValue:h.value.alto,"onUpdate:modelValue":c[8]||(c[8]=x=>h.value.alto=x),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",variant:"outlined",density:"compact",class:"mb-3"},null,8,["modelValue"]),a(Ma,{modelValue:h.value.perfilId,"onUpdate:modelValue":c[9]||(c[9]=x=>h.value.perfilId=x),items:A.perfilesMarco,"item-title":"nombre","item-value":"id",label:"Perfil del Marco",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),a(va,null,{default:u(()=>[a(ca),a(Le,{onClick:c[10]||(c[10]=x=>Y.value=!1)},{default:u(()=>c[53]||(c[53]=[K("Cancelar")])),_:1}),a(Le,{color:"primary",onClick:q},{default:u(()=>c[54]||(c[54]=[K("Crear")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(da,{modelValue:j.value,"onUpdate:modelValue":c[16]||(c[16]=x=>j.value=x),"max-width":"500"},{default:u(()=>[a(Be,null,{default:u(()=>[a(Qe,null,{default:u(()=>c[55]||(c[55]=[K("Dividir Espacio")])),_:1}),a(ua,null,{default:u(()=>[a($e,{modelValue:n.value.orientacion,"onUpdate:modelValue":c[12]||(c[12]=x=>n.value.orientacion=x)},{default:u(()=>[a(se,{label:"Horizontal",value:"horizontal"}),a(se,{label:"Vertical",value:"vertical"})]),_:1},8,["modelValue"]),a(Ue,{modelValue:n.value.posicion,"onUpdate:modelValue":c[13]||(c[13]=x=>n.value.posicion=x),modelModifiers:{number:!0},label:`PosiciÃ³n (mm) - Max: ${i.value?n.value.orientacion==="horizontal"?i.value.alto:i.value.ancho:0}`,type:"number",variant:"outlined",density:"compact",max:i.value?n.value.orientacion==="horizontal"?i.value.alto:i.value.ancho:0},null,8,["modelValue","label","max"]),a(Ma,{modelValue:n.value.perfilId,"onUpdate:modelValue":c[14]||(c[14]=x=>n.value.perfilId=x),items:A.perfilesDivisores,"item-title":"nombre","item-value":"id",label:"Perfil del Divisor",variant:"outlined",density:"compact"},null,8,["modelValue","items"])]),_:1}),a(va,null,{default:u(()=>[a(ca),a(Le,{onClick:c[15]||(c[15]=x=>j.value=!1)},{default:u(()=>c[56]||(c[56]=[K("Cancelar")])),_:1}),a(Le,{color:"primary",onClick:k},{default:u(()=>c[57]||(c[57]=[K("Dividir")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(da,{modelValue:C.value,"onUpdate:modelValue":c[19]||(c[19]=x=>C.value=x),"max-width":"500"},{default:u(()=>[a(Be,null,{default:u(()=>[a(Qe,null,{default:u(()=>c[58]||(c[58]=[K("Asignar Tipo de Ventana")])),_:1}),a(ua,null,{default:u(()=>[A.tiposVentana.length===0?(p(),J("div",st," âš ï¸ No hay tipos de ventana disponibles para este material ")):ie("",!0),a(Ma,{modelValue:s.value,"onUpdate:modelValue":c[17]||(c[17]=x=>s.value=x),items:A.tiposVentana,"item-title":"nombre","item-value":"id",label:"Tipo de Ventana",variant:"outlined",density:"compact","no-data-text":"No hay tipos de ventana disponibles"},null,8,["modelValue","items"])]),_:1}),a(va,null,{default:u(()=>[a(ca),a(Le,{onClick:c[18]||(c[18]=x=>C.value=!1)},{default:u(()=>c[59]||(c[59]=[K("Cancelar")])),_:1}),a(Le,{color:"primary",onClick:S},{default:u(()=>c[60]||(c[60]=[K("Asignar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},ct=ka(vt,[["__scopeId","data-v-41b38f81"]]),dt={class:"text-body-1"},mt={class:"mt-4"},ft={class:"d-flex align-center justify-space-between"},pt={class:"text-h6"},ht={class:"text-caption"},gt=.45,bt={__name:"AgregarVentanaModal2",props:{mostrar:Boolean,materiales:Array,colores:Array,tiposVidrio:Array,tiposVentana:Array,productosVidrio:Array,ventana:Object,materialDefault:[String,Number],colorDefault:[String,Number],tipoVidrioDefault:[String,Number],productoVidrioDefault:[String,Number]},emits:["update:mostrar","guardar"],setup(A,{emit:H}){const m=A,O=H,g=ce(m.mostrar);ce(!1),He(()=>m.mostrar,y=>{g.value=y}),He(g,y=>{O("update:mostrar",y)});const r=o(()=>!!m.ventana),i=()=>({tipo:2,sizePercent:null,ladoApertura:"izquierda",direccionApertura:"interior"});function d(){const y=Math.min(Math.max(Number(e.value.cantidadComp||2),2),8);if(e.value.cantidadComp=y,e.value.itemsComp||(e.value.itemsComp=[]),e.value.itemsComp.length<y){const l=y-e.value.itemsComp.length;for(let t=0;t<l;t++)e.value.itemsComp.push(i())}else e.value.itemsComp.length>y&&e.value.itemsComp.splice(y);e.value.itemsComp.forEach(l=>{l.tipo||(l.tipo=2)}),console.log("ajustarCantidadItems ejecutado, items finales:",e.value.itemsComp)}const f={tipo:null,ancho:null,alto:null,cantidad:1,material:m.materialDefault??null,color:m.colorDefault??null,tipoVidrio:m.tipoVidrioDefault??null,productoVidrioProveedor:m.productoVidrioDefault??null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:null,manillon:!1,filas:1,columnas:1,altosFilas:[],anchosColumnas:[],secciones:[[{tipo:1}]],materiales:[],costo_total:0,costo_total_unitario:0,costo:0,precio_unitario:0,precio:0,hoja1AlFrente:!0,ladoApertura:"izquierda",direccionApertura:"interior",pasoLibre:!1,hojaActiva:"derecha",tipoVentanaIzquierda:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaDerecha:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaCentro:{tipo:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:null,hoja1AlFrente:!0},ancho_izquierda:null,ancho_centro:null,ancho_derecha:null,orientacionComp:"horizontal",cantidadComp:2,itemsComp:[i(),i()],configuracionArmador:null},e=ce({...f,...m.ventana||{}}),w=[{id:2,nombre:"Fija"},{id:45,nombre:"Proyectante"},{id:3,nombre:"Corredera"},{id:49,nombre:"Abatible"},{id:50,nombre:"Puerta S60"}],R=o(()=>{const y=e.value.material??m.materialDefault,l=m.tiposVentana.filter(_=>_.material_id===y);console.log("ðŸ” Filtrando tipos ventana:",{materialId:y,tiposVentanaTotal:m.tiposVentana.length,tiposDisponibles:l.length,tiposDisponiblesIds:l.map(_=>({id:_.id,nombre:_.nombre})),tiposBase:w.length});const t=w.filter(_=>l.some($=>$.id===_.id));return console.log("âœ… Tipos ventana filtrados:",t),t.length===0&&l.length>0?(console.log("âš ï¸ No hay coincidencias con base, usando todos los disponibles"),l.map(_=>({id:_.id,nombre:_.nombre}))):t}),F=[{id:2,nombre:"Fija"},{id:3,nombre:"Corredera Sliding"},{id:45,nombre:"Proyectante S60"},{id:50,nombre:"Puerta S60"}],Y=ce([]),j=ce([]);za(async()=>{try{const l=(await hl.get("/api/productos")).data.data||[];Y.value=l.filter(t=>t.nombre&&(t.nombre.toLowerCase().includes("marco")||t.nombre.toLowerCase().includes("jamba"))),j.value=l.filter(t=>t.nombre&&(t.nombre.toLowerCase().includes("divisor")||t.nombre.toLowerCase().includes("travesaÃ±o")||t.nombre.toLowerCase().includes("parteluz"))),console.log("Perfiles cargados:",{marcos:Y.value.length,divisores:j.value.length})}catch(y){console.error("Error cargando perfiles:",y)}}),He(()=>m.mostrar,y=>{y&&!m.ventana&&(e.value={...f,material:m.materialDefault??null,color:m.colorDefault??null,tipoVidrio:m.tipoVidrioDefault??null,productoVidrioProveedor:m.productoVidrioDefault??null,tipoVentanaIzquierda:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaDerecha:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"}]}}),y&&m.ventana&&(console.log("ðŸ“¥ MODAL - Recibiendo ventana completa:",m.ventana),console.log("ðŸ“¥ MODAL - tipoVidrio recibido:",m.ventana.tipoVidrio),console.log("ðŸ“¥ MODAL - material recibido:",m.ventana.material),e.value={...f,...m.ventana},console.log("âœ… MODAL - Ventana asignada:",e.value))},{immediate:!0});const C=o(()=>{if(console.log("ðŸ” MODAL - Calculando productosVidrioFiltrados"),console.log("ðŸ” MODAL - ventana.value.tipoVidrio:",e.value.tipoVidrio),!e.value.tipoVidrio)return console.log("ðŸ” MODAL - No hay tipoVidrio, retornando []"),[];const y=parseInt(e.value.tipoVidrio),l=m.productosVidrio.filter(t=>parseInt(t.tipo_producto_id)===y).flatMap(t=>{if(console.log("ðŸ” MODAL - Procesando producto:",t.nombre,"tipo_producto_id:",t.tipo_producto_id),!t.colores_por_proveedor||!Array.isArray(t.colores_por_proveedor))return console.warn("âš ï¸ MODAL - Producto sin colores_por_proveedor:",t.nombre),[];const _=t.colores_por_proveedor.map($=>{var re;return{id:$.id,producto_id:t.id,proveedor_id:$.proveedor_id,nombre:`${t.nombre} (${((re=$.proveedor)==null?void 0:re.nombre)||"Proveedor desconocido"})`}});return console.log("   â†’ GenerÃ³",_.length,"items con IDs:",_.map($=>$.id)),_});return console.log("âœ… MODAL - productosVidrioFiltrados total:",l.length),console.log("âœ… MODAL - IDs disponibles:",l.map(t=>t.id)),console.log("âœ… MODAL - Â¿Incluye ID 64?:",l.some(t=>parseInt(t.id)===64)),l}),h=o(()=>{const y=e.value.material??m.materialDefault;return m.tiposVentana.filter(l=>l.material_id===y)}),n=ce(null),s=()=>{g.value=!1};async function v(){var l,t,_;const y=e.value.tipo===58?((l=e.value.configuracionArmador)==null?void 0:l.ancho)&&((t=e.value.configuracionArmador)==null?void 0:t.alto):e.value.ancho&&e.value.alto;if(e.value.tipo&&y&&e.value.cantidad&&e.value.color&&e.value.productoVidrioProveedor)try{const $=m.productosVidrio.flatMap(ue=>ue.colores_por_proveedor.map(ke=>({id:ke.id,producto_id:ue.id,proveedor_id:ke.proveedor_id}))).find(ue=>ue.id===e.value.productoVidrioProveedor);if(!$){console.error("âŒ No se encontrÃ³ la relaciÃ³n producto-proveedor para ID:",e.value.productoVidrioProveedor);return}const re={tipo_ventana_id:e.value.tipo,tipo:e.value.tipo,ancho:e.value.tipo===58&&e.value.configuracionArmador?e.value.configuracionArmador.ancho:e.value.ancho,alto:e.value.tipo===58&&e.value.configuracionArmador?e.value.configuracionArmador.alto:e.value.alto,cantidad:e.value.cantidad,color_id:e.value.color,color:e.value.color,producto_vidrio_proveedor_id:e.value.productoVidrioProveedor,producto_id:$.producto_id,proveedor_id:$.proveedor_id,productoVidrio:$.producto_id,proveedorVidrio:$.proveedor_id,tipoVidrio:e.value.tipoVidrio,manillon:e.value.tipo===55?e.value.manillon:void 0,hojas_totales:[3,46,52,55].includes(e.value.tipo)?e.value.hojas_totales:void 0,hojas_moviles:[3,46,52,55].includes(e.value.tipo)?e.value.hojas_moviles:void 0,hojaMovilSeleccionada:[3,46,52,55].includes(e.value.tipo)?e.value.hojaMovilSeleccionada:void 0,hoja1AlFrente:[3,46,52].includes(e.value.tipo)?e.value.hoja1AlFrente:void 0,direccionApertura:e.value.direccionApertura,ladoApertura:e.value.ladoApertura,pasoLibre:[50,51].includes(e.value.tipo)?e.value.pasoLibre:void 0,hojaActiva:e.value.tipo===51?e.value.hojaActiva:void 0,...e.value.tipo===57&&{filas:e.value.filas,columnas:e.value.columnas,altos_filas:e.value.altosFilas,anchos_columnas:e.value.anchosColumnas,secciones:e.value.secciones},...e.value.tipo===58&&e.value.configuracionArmador&&{configuracionArmador:e.value.configuracionArmador},...e.value.tipo===47&&{ancho_izquierda:e.value.ancho_izquierda,ancho_centro:e.value.ancho_centro,ancho_derecha:e.value.ancho_derecha,tipoVentanaIzquierda:e.value.tipoVentanaIzquierda,tipoVentanaCentro:e.value.tipoVentanaCentro,tipoVentanaDerecha:e.value.tipoVentanaDerecha}};console.log("ðŸ’° Payload a calcular-materiales:",re),console.log("ðŸ“¦ Tipo 58 - configuracionArmador:",e.value.configuracionArmador);const{data:le}=await hl.post("/api/cotizador/calcular-materiales",re);console.log("âœ… Respuesta del backend:",le),e.value.costo_total_unitario=le.costo_unitario,e.value.costo_total=le.costo_unitario*e.value.cantidad,e.value.precio=Math.ceil(e.value.costo_total/(1-gt)),e.value.materiales=le.materiales,console.log("ðŸ’µ Valores asignados:"),console.log("   - costo_total_unitario:",e.value.costo_total_unitario),console.log("   - costo_total:",e.value.costo_total),console.log("   - precio:",e.value.precio),console.log("   - materiales:",((_=e.value.materiales)==null?void 0:_.length)||0,"items")}catch($){console.error("âŒ Error en recalcularCostos:",$),e.value.costo_total_unitario=0,e.value.costo_total=0,e.value.precio=0,e.value.materiales=[]}else e.value.costo_total_unitario=0,e.value.costo_total=0,e.value.precio=0,e.value.materiales=[]}const b=()=>{var l;if(console.log("ðŸ’¾ MODAL - Guardando ventana"),console.log("ðŸ’¾ MODAL - ventana.value completo:",e.value),console.log("ðŸ’¾ MODAL - tipoVidrio antes de guardar:",e.value.tipoVidrio),console.log("ðŸ’¾ MODAL - productoVidrioProveedor antes de guardar:",e.value.productoVidrioProveedor),console.log("ðŸ’¾ MODAL - color antes de guardar:",e.value.color),!e.value.tipo||!e.value.ancho||!e.value.alto||!e.value.cantidad){alert("Completa todos los campos obligatorios");return}const y={...e.value,index:(l=m.ventana)==null?void 0:l.index};console.log("ðŸ’¾ MODAL - Enviando ventana al componente padre:",y),O("guardar",y),s()};He(()=>e.value.material,()=>{e.value.tipo=null}),He(()=>{var y,l,t,_,$,re,le,ue,ke,_e,Re,Xe,Ye,Ge,aa,ta,ma,fa,fe,wa,_a,Sa,Ia,$a,La,Da,qa,Pa,Na,Ua,Ea,Ra,Ta,Wa,Fa,Oa,Ha,Xa,Ba,Ya,Ga,Ja,Ka,Qa,Za,el,al,ll,ol,tl,nl,ul,rl,il,sl,vl,cl,dl,ml;return[e.value.tipo,e.value.ancho,e.value.alto,e.value.cantidad,e.value.material,e.value.color,e.value.tipoVidrio,e.value.productoVidrioProveedor,e.value.manillon,e.value.hojas_totales,e.value.hojas_moviles,e.value.hojaMovilSeleccionada,e.value.direccionApertura,e.value.ladoApertura,e.value.pasoLibre,e.value.ancho_izquierda,e.value.ancho_centro,e.value.ancho_derecha,(y=e.value.tipoVentanaIzquierda)==null?void 0:y.compuesta,(l=e.value.tipoVentanaIzquierda)==null?void 0:l.ladoApertura,(t=e.value.tipoVentanaIzquierda)==null?void 0:t.direccionApertura,(re=($=(_=e.value.tipoVentanaIzquierda)==null?void 0:_.partes)==null?void 0:$[0])==null?void 0:re.tipo,(ke=(ue=(le=e.value.tipoVentanaIzquierda)==null?void 0:le.partes)==null?void 0:ue[0])==null?void 0:ke.alto,(Xe=(Re=(_e=e.value.tipoVentanaIzquierda)==null?void 0:_e.partes)==null?void 0:Re[0])==null?void 0:Xe.ladoApertura,(aa=(Ge=(Ye=e.value.tipoVentanaIzquierda)==null?void 0:Ye.partes)==null?void 0:Ge[0])==null?void 0:aa.direccionApertura,(fa=(ma=(ta=e.value.tipoVentanaIzquierda)==null?void 0:ta.partes)==null?void 0:ma[1])==null?void 0:fa.tipo,(_a=(wa=(fe=e.value.tipoVentanaIzquierda)==null?void 0:fe.partes)==null?void 0:wa[1])==null?void 0:_a.alto,($a=(Ia=(Sa=e.value.tipoVentanaIzquierda)==null?void 0:Sa.partes)==null?void 0:Ia[1])==null?void 0:$a.ladoApertura,(qa=(Da=(La=e.value.tipoVentanaIzquierda)==null?void 0:La.partes)==null?void 0:Da[1])==null?void 0:qa.direccionApertura,(Pa=e.value.tipoVentanaCentro)==null?void 0:Pa.tipo,(Na=e.value.tipoVentanaCentro)==null?void 0:Na.hojas_totales,(Ua=e.value.tipoVentanaCentro)==null?void 0:Ua.hojas_moviles,(Ea=e.value.tipoVentanaCentro)==null?void 0:Ea.hojaMovilSeleccionada,(Ra=e.value.tipoVentanaCentro)==null?void 0:Ra.hoja1AlFrente,(Ta=e.value.tipoVentanaDerecha)==null?void 0:Ta.compuesta,(Wa=e.value.tipoVentanaDerecha)==null?void 0:Wa.ladoApertura,(Fa=e.value.tipoVentanaDerecha)==null?void 0:Fa.direccionApertura,(Xa=(Ha=(Oa=e.value.tipoVentanaDerecha)==null?void 0:Oa.partes)==null?void 0:Ha[0])==null?void 0:Xa.tipo,(Ga=(Ya=(Ba=e.value.tipoVentanaDerecha)==null?void 0:Ba.partes)==null?void 0:Ya[0])==null?void 0:Ga.alto,(Qa=(Ka=(Ja=e.value.tipoVentanaDerecha)==null?void 0:Ja.partes)==null?void 0:Ka[0])==null?void 0:Qa.ladoApertura,(al=(el=(Za=e.value.tipoVentanaDerecha)==null?void 0:Za.partes)==null?void 0:el[0])==null?void 0:al.direccionApertura,(tl=(ol=(ll=e.value.tipoVentanaDerecha)==null?void 0:ll.partes)==null?void 0:ol[1])==null?void 0:tl.tipo,(rl=(ul=(nl=e.value.tipoVentanaDerecha)==null?void 0:nl.partes)==null?void 0:ul[1])==null?void 0:rl.alto,(vl=(sl=(il=e.value.tipoVentanaDerecha)==null?void 0:il.partes)==null?void 0:sl[1])==null?void 0:vl.ladoApertura,(ml=(dl=(cl=e.value.tipoVentanaDerecha)==null?void 0:cl.partes)==null?void 0:dl[1])==null?void 0:ml.direccionApertura,e.value.filas,e.value.columnas,JSON.stringify(e.value.altosFilas),JSON.stringify(e.value.anchosColumnas),JSON.stringify(e.value.secciones),JSON.stringify(e.value.configuracionArmador)]},v,{immediate:!0}),He(()=>e.value.productoVidrioProveedor,y=>{const l=m.productosVidrio.flatMap(t=>t.colores_por_proveedor.map(_=>({...t,cpp:_}))).find(t=>t.cpp.id===y);e.value.productoVidrio=l?l.id:null});const L=y=>{if(y==null)return!1;const l=Number(y);return!Number.isNaN(l)&&l===49||String(y).toLowerCase().includes("abat")},V=()=>{var ke;if(!e.value.materiales||e.value.materiales.length===0){alert("No hay materiales para descargar");return}const y=["Material","Proveedor","Cantidad","Unidad","Costo Unitario","Costo Total"],l=e.value.materiales.map(_e=>[_e.nombre||"",_e.proveedor||"",_e.cantidad||0,_e.unidad||"",_e.costo_unitario||0,_e.costo_total||0]);let t=y.join(",")+`
`;l.forEach(_e=>{t+=_e.map(Re=>{const Xe=String(Re).replace(/"/g,'""');return Xe.includes(",")?`"${Xe}"`:Xe}).join(",")+`
`});const _=new Blob(["\uFEFF"+t],{type:"text/csv;charset=utf-8;"}),$=document.createElement("a"),re=URL.createObjectURL(_),ue=`materiales_${((ke=m.tiposVentana.find(_e=>_e.id===e.value.tipo))==null?void 0:ke.nombre)||"ventana"}_${new Date().toISOString().split("T")[0]}.csv`;$.setAttribute("href",re),$.setAttribute("download",ue),$.style.visibility="hidden",document.body.appendChild($),$.click(),document.body.removeChild($)},q=ce([]);He(()=>{var y,l;return(l=(y=e.value)==null?void 0:y.itemsComp)==null?void 0:l.length},()=>{q.value=[]}),He(()=>e.value.tipo,y=>{var l,t,_,$,re;Number(y)===54&&((l=e.value).orientacionComp??(l.orientacionComp="horizontal"),(t=e.value).cantidadComp??(t.cantidadComp=2),(_=e.value).itemsComp??(_.itemsComp=[i(),i()])),Number(y)===57&&(($=e.value).filas??($.filas=1),(re=e.value).columnas??(re.columnas=1),D())}),He(()=>[e.value.filas,e.value.columnas],()=>{e.value.tipo===57&&D()}),He(()=>[e.value.alto,e.value.ancho],([y,l],[t,_])=>{var $,re;if(e.value.tipo===57&&y&&l){const le=e.value.filas||1,ue=e.value.columnas||1,ke=($=e.value.altosFilas)==null?void 0:$.every((Re,Xe,Ye)=>Math.abs(Re-Ye[0])<1),_e=(re=e.value.anchosColumnas)==null?void 0:re.every((Re,Xe,Ye)=>Math.abs(Re-Ye[0])<1);y!==t&&ke&&e.value.altosFilas&&(e.value.altosFilas=Array(le).fill(y/le)),l!==_&&_e&&e.value.anchosColumnas&&(e.value.anchosColumnas=Array(ue).fill(l/ue))}});function D(){var re,le;const y=e.value.filas||1,l=e.value.columnas||1,t=[];for(let ue=0;ue<y;ue++){const ke=[];for(let _e=0;_e<l;_e++){const Re=(le=(re=e.value.secciones)==null?void 0:re[ue])==null?void 0:le[_e];ke.push(Re||{tipo:1})}t.push(ke)}e.value.secciones=t;const _=e.value.alto||1e3,$=e.value.ancho||1e3;e.value.altosFilas=Array(y).fill(_/y),e.value.anchosColumnas=Array(l).fill($/l)}const U=ce(!1),k=ce(null);function z(y){k.value=y,U.value=!0}function S(y){console.log("=== AGREGAR BORDE ==="),console.log("PosiciÃ³n:",y),console.log("OrientaciÃ³n actual:",e.value.orientacionComp),console.log("Items ANTES:",JSON.stringify(e.value.itemsComp,null,2));const l=["arriba","abajo"].includes(y)?"vertical":"horizontal";if(console.log("Nueva orientaciÃ³n necesaria:",l),e.value.orientacionComp!==l){console.log("OrientaciÃ³n cambiÃ³, envolviendo items existentes...");const t=[...e.value.itemsComp],_={tipo:"compuesta",orientacion:e.value.orientacionComp,items:t};e.value.itemsComp=[_],e.value.orientacionComp=l,console.log("Items despuÃ©s de envolver:",JSON.stringify(e.value.itemsComp,null,2))}else console.log("OrientaciÃ³n NO cambiÃ³, no envolviendo");switch(y){case"arriba":case"izquierda":k.value=0;break;case"abajo":case"derecha":k.value=e.value.itemsComp.length;break}console.log("Ãndice para insertar:",k.value),console.log("OrientaciÃ³n final:",e.value.orientacionComp),console.log("=== FIN DEBUG ==="),U.value=!0}function I(y){const l=i();l.tipo=y||2,e.value.itemsComp.splice(k.value,0,l),e.value.itemsComp=[...e.value.itemsComp],W.value++,console.log("Items despuÃ©s de agregar:",e.value.itemsComp),U.value=!1}function T(){const y={tipo:"compuesta",orientacion:"horizontal",items:[{tipo:2,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:2,ladoApertura:"izquierda",direccionApertura:"interior"}]};e.value.itemsComp.splice(k.value,0,y),W.value++,U.value=!1}const P=ce(null),ve=ce(!1),je=ce("");function Ae(y){console.log("=== EDITAR VENTANA INDIVIDUAL ==="),console.log("Path:",y),je.value=y;const l=N(y);if(l){const t=Me(y);P.value={tipo:l.tipo||2,ancho:t.ancho,alto:t.alto,sizePercent:l.sizePercent||null,ladoApertura:l.ladoApertura||"izquierda",direccionApertura:l.direccionApertura||"interior",...l},console.log("Dimensiones reales calculadas:",t),console.log("Datos de ventana a editar:",P.value),ve.value=!0}else console.error("No se encontrÃ³ ventana en path:",y)}function Me(y){const l=y.split(".").map(Number);let t=e.value.ancho||2e3,_=e.value.alto||2e3,$=e.value.orientacionComp||"horizontal",re=e.value.itemsComp;console.log("ðŸ” Calculando dimensiones para path:",y),console.log("Dimensiones iniciales:",{ancho:t,alto:_,orientacion:$});for(let ue=0;ue<l.length;ue++){const ke=l[ue],_e=re[ke];if(!_e){console.error("Item no encontrado en nivel",ue,"Ã­ndice",ke);break}console.log(`Nivel ${ue}, Ã­ndice ${ke}:`,_e);const Re=re.length,Xe=re.map(aa=>Number(aa.sizePercent)||0),Ye=Xe.reduce((aa,ta)=>aa+ta,0);let Ge;if(Ye>0?Ge=Xe[ke]/Ye:Ge=1/Re,console.log(`Porcentaje del item en este nivel: ${Ge} (${(Ge*100).toFixed(1)}%)`),$==="horizontal"?t=t*Ge:_=_*Ge,console.log(`Nuevas dimensiones: ${t} x ${_}`),ue===l.length-1)break;if(_e.tipo==="compuesta")$=_e.orientacion||"horizontal",re=_e.items||[],console.log(`Navegando a compuesta con orientaciÃ³n: ${$}`);else{console.error("Item no es compuesta pero no es el Ãºltimo nivel");break}}const le={ancho:Math.round(t),alto:Math.round(_)};return console.log("âœ… Dimensiones finales calculadas:",le),le}const Ne=o(()=>{const y=Number(P.value.ancho)||0,l=Number(P.value.alto)||0;return y*l/1e6}),qe=o(()=>{const y=Ne.value,l=P.value.tipo;return y*({2:15e4,3:2e5,45:22e4,49:25e4,50:28e4}[l]||15e4)});function ae(y){const l=R.value.find(t=>t.id===y);return l?l.nombre:`Tipo ${y}`}function ee(){var l;function y(t,_,$){var re;if(t.tipo==="compuesta")return((re=t.items)==null?void 0:re.reduce((le,ue)=>le+y(ue,_,$),0))||0;{const le=t.ancho||_,ue=t.alto||$;return le*ue/1e6*({2:15e4,3:2e5,45:22e4,49:25e4,50:28e4}[t.tipo]||15e4)}}return((l=e.value.itemsComp)==null?void 0:l.reduce((t,_)=>t+y(_,e.value.ancho,e.value.alto),0))||0}const X=o(()=>ee());function N(y){var $;const l=y.split(".").map(Number);let t=e.value.itemsComp;console.log("Navegando path:",y,"indices:",l),console.log("Items iniciales:",t);for(let re=0;re<l.length-1;re++){const le=l[re];if(console.log(`Navegando Ã­ndice ${re}: ${le}`),(($=t[le])==null?void 0:$.tipo)==="compuesta")t=t[le].items,console.log("Items en nivel",re+1,":",t);else return console.error("No es compuesta en Ã­ndice",le),null}const _=l[l.length-1];return console.log("Ãndice final:",_,"Item encontrado:",t[_]),t[_]}function G(y,l){var re;const t=y.split(".").map(Number);let _=e.value.itemsComp;for(let le=0;le<t.length-1;le++){const ue=t[le];if(((re=_[ue])==null?void 0:re.tipo)==="compuesta")_=_[ue].items;else return console.error("Error: no es compuesta en Ã­ndice",ue),!1}const $=t[t.length-1];if(_[$]){const le={..._[$],tipo:l.tipo,ancho:l.ancho,alto:l.alto,sizePercent:l.sizePercent,ladoApertura:l.ladoApertura,direccionApertura:l.direccionApertura};return _[$]=le,console.log("Ventana actualizada:",_[$]),e.value.itemsComp=JSON.parse(JSON.stringify(e.value.itemsComp)),e.value={...e.value},Sl(()=>{console.log("âœ… Forzando re-render despuÃ©s de actualizar ventana")}),!0}return!1}const W=ce(0);function Q(){console.log("=== GUARDANDO CAMBIOS ==="),console.log("Datos a guardar:",P.value),console.log("Path:",je.value),G(je.value,{tipo:P.value.tipo,ancho:P.value.ancho,alto:P.value.alto,sizePercent:P.value.sizePercent,ladoApertura:P.value.ladoApertura,direccionApertura:P.value.direccionApertura})?(console.log("âœ… Ventana actualizada correctamente"),M(),W.value++,console.log("ðŸ”„ Forzando re-render con key:",W.value),ve.value=!1):(console.error("âŒ Error al actualizar ventana"),alert("Error al actualizar la ventana"))}function M(){console.log("=== DEBUG ITEMS COMPUESTA ==="),console.log("Items actuales:",JSON.stringify(e.value.itemsComp,null,2)),console.log("OrientaciÃ³n:",e.value.orientacionComp),console.log("Dimensiones contenedor:",{ancho:e.value.ancho,alto:e.value.alto}),console.log("=== FIN DEBUG ===")}function c(y){console.log("=== ELIMINAR VENTANA ==="),console.log("Path:",y),confirm("Â¿EstÃ¡s seguro de eliminar esta ventana?")&&(x(y)?(console.log("âœ… Ventana eliminada correctamente"),W.value++):(console.error("âŒ Error al eliminar ventana"),alert("Error al eliminar la ventana")))}function x(y){var le;const l=y.split(".").map(Number);let t=e.value.itemsComp,_=null,$=null;for(let ue=0;ue<l.length-1;ue++){const ke=l[ue];if(_=t,$=ke,((le=t[ke])==null?void 0:le.tipo)==="compuesta")t=t[ke].items;else return console.error("Error: no es compuesta en Ã­ndice",ke),!1}const re=l[l.length-1];if(_===null&&(_={items:e.value.itemsComp},t=e.value.itemsComp),t[re]){if(t.splice(re,1),console.log("Ventana eliminada. Items restantes:",t.length),t.length===1&&_!==null&&$!==null){const ue=t[0];_.items?_.items[$]=ue:_[$]=ue,console.log("Compuesta simplificada porque quedÃ³ solo 1 item")}return e.value.itemsComp.length===0&&(e.value.itemsComp=[i(),i()],console.log("Sin items restantes, reiniciando con defaults")),e.value.itemsComp=[...e.value.itemsComp],!0}return!1}return(y,l)=>(p(),J(de,null,[a(da,{modelValue:g.value,"onUpdate:modelValue":l[60]||(l[60]=t=>g.value=t),"max-width":"1200px",persistent:""},{default:u(()=>[a(Be,{class:"pa-4"},{default:u(()=>[a(Qe,{class:"text-h5"},{default:u(()=>[K(we(r.value?"Editar ventana":"Agregar ventana"),1)]),_:1}),a(pa,{class:"mb-4"}),a(Hl,{ref_key:"formRef",ref:n,onSubmit:la(b,["prevent"])},{default:u(()=>[a(Ie,{dense:""},{default:u(()=>[a(Z,{cols:"12",md:"4"},{default:u(()=>[a(Pe,{modelValue:e.value.tipo,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.tipo=t),items:h.value,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",rules:[t=>!!t||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","items","rules"])]),_:1}),e.value.tipo!==58?(p(),E(Z,{key:0,cols:"6",md:"2"},{default:u(()=>[a(Ue,{modelValue:e.value.ancho,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.ancho=t),modelModifiers:{number:!0},label:"Ancho (mm)",type:"number",min:"1",rules:[t=>!!t||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1})):ie("",!0),e.value.tipo!==58?(p(),E(Z,{key:1,cols:"6",md:"2"},{default:u(()=>[a(Ue,{modelValue:e.value.alto,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.alto=t),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",min:"1",rules:[t=>!!t||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1})):ie("",!0),a(Z,{cols:"6",md:"2"},{default:u(()=>[a(Ue,{modelValue:e.value.cantidad,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.cantidad=t),modelModifiers:{number:!0},label:"Cantidad",type:"number",min:"1",rules:[t=>!!t||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(Ie,{dense:""},{default:u(()=>[a(Z,{cols:"6",md:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.material,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.material=t),items:A.materiales,"item-title":"nombre","item-value":"id",label:"Material",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(Z,{cols:"6",md:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.color,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.color=t),items:A.colores,"item-title":"nombre","item-value":"id",label:"Color",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(Z,{cols:"6",md:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.tipoVidrio,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.tipoVidrio=t),items:A.tiposVidrio,"item-title":"nombre","item-value":"id",label:"Tipo de vidrio",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),e.value.tipoVidrio?(p(),E(Z,{cols:"6",md:"3",key:`col-vidrio-${e.value.tipoVidrio}`},{default:u(()=>[a(Pe,{modelValue:e.value.productoVidrioProveedor,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.productoVidrioProveedor=t),items:C.value,"item-title":"nombre","item-value":"id",label:"Producto de vidrio",outlined:"",color:"primary",clearable:""},{"no-data":u(()=>[a(ha,null,{default:u(()=>[a(ga,null,{default:u(()=>l[71]||(l[71]=[K(" No hay productos disponibles ")])),_:1})]),_:1})]),_:1},8,["modelValue","items"])]),_:1})):(p(),E(Z,{key:1,cols:"6",md:"3"},{default:u(()=>[a(Pe,{disabled:"",label:"Producto de vidrio",outlined:"",color:"primary",hint:"Selecciona un tipo de vidrio primero","persistent-hint":""})]),_:1}))]),_:1}),e.value.tipo===55?(p(),E(Ie,{key:0,dense:"",class:"mt-2"},{default:u(()=>[a(Z,{cols:"12",md:"6"},{default:u(()=>[a(ra,{modelValue:e.value.manillon,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.manillon=t),color:"primary",label:"ManillÃ³n","hide-details":"",inset:""},{label:u(()=>[ne("span",dt,[l[72]||(l[72]=ne("strong",null,"Herraje:",-1)),K(" "+we(e.value.manillon?"ManillÃ³n":"Pestillo"),1)])]),_:1},8,["modelValue"]),l[73]||(l[73]=ne("div",{class:"text-caption text-medium-emphasis ml-2"}," Seleccione el tipo de herraje para la ventana corredera ",-1))]),_:1})]),_:1})):ie("",!0),e.value.tipo===55?(p(),E(Ie,{key:1,dense:"",class:"mt-2"},{default:u(()=>[a(Z,{cols:"6",md:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.hojas_totales,"onUpdate:modelValue":l[9]||(l[9]=t=>e.value.hojas_totales=t),items:[2],label:"Hojas totales",outlined:"",color:"primary",disabled:"",hint:"AL25 siempre tiene 2 hojas","persistent-hint":""},null,8,["modelValue"])]),_:1}),a(Z,{cols:"6",md:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.hojas_moviles,"onUpdate:modelValue":l[10]||(l[10]=t=>e.value.hojas_moviles=t),items:[1,2],label:"Hojas mÃ³viles",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),e.value.hojas_moviles===1?(p(),E(Z,{key:0,cols:"12",md:"6"},{default:u(()=>[a(Pe,{modelValue:e.value.hojaMovilSeleccionada,"onUpdate:modelValue":l[11]||(l[11]=t=>e.value.hojaMovilSeleccionada=t),items:[{value:1,title:"Hoja 1 (Izquierda)"},{value:2,title:"Hoja 2 (Derecha)"}],"item-title":"title","item-value":"value",label:"Â¿CuÃ¡l hoja se mueve?",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1})):ie("",!0)]),_:1})):ie("",!0),e.value.tipo===57?(p(),E(Ie,{key:2,dense:"",class:"mt-2"},{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>[a(Be,{variant:"outlined",class:"pa-3"},{default:u(()=>[a(Qe,{class:"text-subtitle-1 pa-0 mb-2"},{default:u(()=>l[74]||(l[74]=[K(" ðŸªŸ ConfiguraciÃ³n de Ventana Compuesta ")])),_:1}),a(Ie,{dense:""},{default:u(()=>[a(Z,{cols:"6"},{default:u(()=>[a(Ue,{modelValue:e.value.filas,"onUpdate:modelValue":l[12]||(l[12]=t=>e.value.filas=t),modelModifiers:{number:!0},label:"NÃºmero de filas",type:"number",min:"1",outlined:"",color:"primary",hint:"Divisiones horizontales","persistent-hint":""},null,8,["modelValue"])]),_:1}),a(Z,{cols:"6"},{default:u(()=>[a(Ue,{modelValue:e.value.columnas,"onUpdate:modelValue":l[13]||(l[13]=t=>e.value.columnas=t),modelModifiers:{number:!0},label:"NÃºmero de columnas",type:"number",min:"1",outlined:"",color:"primary",hint:"Divisiones verticales","persistent-hint":""},null,8,["modelValue"])]),_:1})]),_:1}),a(Ie,{dense:"",class:"mt-3"},{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>l[75]||(l[75]=[ne("div",{class:"text-caption mb-2"},"ðŸ“ Dimensiones personalizadas:",-1)])),_:1}),a(Z,{cols:"6"},{default:u(()=>[l[76]||(l[76]=ne("div",{class:"text-caption mb-1"},"Altos de filas (mm):",-1)),(p(!0),J(de,null,Ee(e.value.altosFilas,(t,_)=>(p(),E(Ue,{key:"alto-"+_,modelValue:e.value.altosFilas[_],"onUpdate:modelValue":$=>e.value.altosFilas[_]=$,modelModifiers:{number:!0},label:`Fila ${_+1}`,type:"number",min:"1",outlined:"",dense:"",color:"primary","hide-details":"",class:"mb-2"},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]),_:1}),a(Z,{cols:"6"},{default:u(()=>[l[77]||(l[77]=ne("div",{class:"text-caption mb-1"},"Anchos de columnas (mm):",-1)),(p(!0),J(de,null,Ee(e.value.anchosColumnas,(t,_)=>(p(),E(Ue,{key:"ancho-"+_,modelValue:e.value.anchosColumnas[_],"onUpdate:modelValue":$=>e.value.anchosColumnas[_]=$,modelModifiers:{number:!0},label:`Columna ${_+1}`,type:"number",min:"1",outlined:"",dense:"",color:"primary","hide-details":"",class:"mb-2"},null,8,["modelValue","onUpdate:modelValue","label"]))),128))]),_:1})]),_:1}),ne("div",mt,[l[78]||(l[78]=ne("div",{class:"text-caption mb-2"},"Configurar cada secciÃ³n:",-1)),(p(!0),J(de,null,Ee(e.value.secciones,(t,_)=>(p(),J("div",{key:"fila-"+_,class:"mb-2"},[a(Ie,{dense:""},{default:u(()=>[(p(!0),J(de,null,Ee(t,($,re)=>(p(),E(Z,{key:"sec-"+_+"-"+re,cols:12/e.value.columnas},{default:u(()=>[a(Pe,{modelValue:$.tipo,"onUpdate:modelValue":le=>$.tipo=le,items:[{value:1,title:"Fija"},{value:56,title:"Proyectante"}],"item-title":"title","item-value":"value",label:`F${_+1}C${re+1}`,outlined:"",dense:"",color:"primary","hide-details":""},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["cols"]))),128))]),_:2},1024)]))),128))])]),_:1})]),_:1})]),_:1})):ie("",!0),e.value.tipo===47?(p(),E(Ie,{key:3,dense:""},{default:u(()=>[a(Z,{cols:"4"},{default:u(()=>[a(Ue,{modelValue:e.value.ancho_izquierda,"onUpdate:modelValue":l[14]||(l[14]=t=>e.value.ancho_izquierda=t),modelModifiers:{number:!0},label:"Ancho izquierda (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"4"},{default:u(()=>[a(Ue,{modelValue:e.value.ancho_centro,"onUpdate:modelValue":l[15]||(l[15]=t=>e.value.ancho_centro=t),modelModifiers:{number:!0},label:"Ancho centro (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"4"},{default:u(()=>[a(Ue,{modelValue:e.value.ancho_derecha,"onUpdate:modelValue":l[16]||(l[16]=t=>e.value.ancho_derecha=t),modelModifiers:{number:!0},label:"Ancho derecha (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})):ie("",!0),e.value.tipo===47?(p(),E(Ie,{key:4,dense:""},{default:u(()=>[a(Z,{cols:"6"},{default:u(()=>[a(ra,{modelValue:e.value.tipoVentanaIzquierda.compuesta,"onUpdate:modelValue":l[17]||(l[17]=t=>e.value.tipoVentanaIzquierda.compuesta=t),label:"Â¿Ventana izquierda compuesta?",color:"primary"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"6"},{default:u(()=>[a(ra,{modelValue:e.value.tipoVentanaDerecha.compuesta,"onUpdate:modelValue":l[18]||(l[18]=t=>e.value.tipoVentanaDerecha.compuesta=t),label:"Â¿Ventana derecha compuesta?",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})):ie("",!0),e.value.tipo===47?(p(),J(de,{key:5},[a(Ie,{dense:""},{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>l[79]||(l[79]=[ne("h4",null,"Ventana Izquierda",-1)])),_:1}),e.value.tipoVentanaIzquierda.compuesta?(p(),J(de,{key:0},[a(Z,{cols:"6"},{default:u(()=>[l[80]||(l[80]=ne("h5",null,"Parte superior",-1)),a(Pe,{modelValue:e.value.tipoVentanaIzquierda.partes[0].tipo,"onUpdate:modelValue":l[19]||(l[19]=t=>e.value.tipoVentanaIzquierda.partes[0].tipo=t),items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue","items"]),a(Ue,{modelValue:e.value.tipoVentanaIzquierda.partes[0].alto,"onUpdate:modelValue":l[20]||(l[20]=t=>e.value.tipoVentanaIzquierda.partes[0].alto=t),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),L(e.value.tipoVentanaIzquierda.partes[0].tipo)?(p(),J(de,{key:0},[a($e,{modelValue:e.value.tipoVentanaIzquierda.partes[0].ladoApertura,"onUpdate:modelValue":l[21]||(l[21]=t=>e.value.tipoVentanaIzquierda.partes[0].ladoApertura=t),row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a($e,{modelValue:e.value.tipoVentanaIzquierda.partes[0].direccionApertura,"onUpdate:modelValue":l[22]||(l[22]=t=>e.value.tipoVentanaIzquierda.partes[0].direccionApertura=t),row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ie("",!0)]),_:1}),a(Z,{cols:"6"},{default:u(()=>[l[81]||(l[81]=ne("h5",null,"Parte inferior",-1)),a(Pe,{modelValue:e.value.tipoVentanaIzquierda.partes[1].tipo,"onUpdate:modelValue":l[23]||(l[23]=t=>e.value.tipoVentanaIzquierda.partes[1].tipo=t),items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue","items"]),a(Ue,{modelValue:e.value.tipoVentanaIzquierda.partes[1].alto,"onUpdate:modelValue":l[24]||(l[24]=t=>e.value.tipoVentanaIzquierda.partes[1].alto=t),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),L(e.value.tipoVentanaIzquierda.partes[1].tipo)?(p(),J(de,{key:0},[a($e,{modelValue:e.value.tipoVentanaIzquierda.partes[1].ladoApertura,"onUpdate:modelValue":l[25]||(l[25]=t=>e.value.tipoVentanaIzquierda.partes[1].ladoApertura=t),row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a($e,{modelValue:e.value.tipoVentanaIzquierda.partes[1].direccionApertura,"onUpdate:modelValue":l[26]||(l[26]=t=>e.value.tipoVentanaIzquierda.partes[1].direccionApertura=t),row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ie("",!0)]),_:1})],64)):(p(),J(de,{key:1},[a(Z,{cols:"4"},{default:u(()=>[a(Pe,{modelValue:e.value.tipoVentanaIzquierda.partes[0].tipo,"onUpdate:modelValue":l[27]||(l[27]=t=>e.value.tipoVentanaIzquierda.partes[0].tipo=t),items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo de ventana izquierda",outlined:""},null,8,["modelValue","items"])]),_:1}),L(e.value.tipoVentanaIzquierda.partes[0].tipo)?(p(),E(Z,{key:0,cols:"4"},{default:u(()=>[a($e,{modelValue:e.value.tipoVentanaIzquierda.ladoApertura,"onUpdate:modelValue":l[28]||(l[28]=t=>e.value.tipoVentanaIzquierda.ladoApertura=t),row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1})):ie("",!0),L(e.value.tipoVentanaIzquierda.partes[0].tipo)?(p(),E(Z,{key:1,cols:"4"},{default:u(()=>[a($e,{modelValue:e.value.tipoVentanaIzquierda.direccionApertura,"onUpdate:modelValue":l[29]||(l[29]=t=>e.value.tipoVentanaIzquierda.direccionApertura=t),row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})):ie("",!0)],64))]),_:1}),a(Ie,{dense:""},{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>l[82]||(l[82]=[ne("h4",null,"Ventana Centro",-1)])),_:1}),a(Z,{cols:"4"},{default:u(()=>[a(Pe,{modelValue:e.value.tipoVentanaCentro.tipo,"onUpdate:modelValue":l[30]||(l[30]=t=>e.value.tipoVentanaCentro.tipo=t),items:F,"item-title":"nombre","item-value":"id",label:"Tipo de ventana centro",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),e.value.tipoVentanaCentro&&[3,46].includes(e.value.tipoVentanaCentro.tipo)?(p(),J(de,{key:0},[a(Z,{cols:"4"},{default:u(()=>[a(Pe,{modelValue:e.value.tipoVentanaCentro.hojas_totales,"onUpdate:modelValue":l[31]||(l[31]=t=>e.value.tipoVentanaCentro.hojas_totales=t),items:[1,2,3,4],label:"Hojas totales",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"4"},{default:u(()=>[a(Pe,{modelValue:e.value.tipoVentanaCentro.hojas_moviles,"onUpdate:modelValue":l[32]||(l[32]=t=>e.value.tipoVentanaCentro.hojas_moviles=t),items:[1,2,3,4],label:"Hojas mÃ³viles",disabled:!e.value.tipoVentanaCentro.hojas_totales,outlined:"",color:"primary"},null,8,["modelValue","disabled"])]),_:1}),e.value.tipoVentanaCentro.hojas_moviles===1?(p(),E(Z,{key:0,cols:"12"},{default:u(()=>[a($e,{modelValue:e.value.tipoVentanaCentro.hojaMovilSeleccionada,"onUpdate:modelValue":l[33]||(l[33]=t=>e.value.tipoVentanaCentro.hojaMovilSeleccionada=t),row:"",label:"Selecciona la hoja que se mueve"},{default:u(()=>[a(se,{label:"Mover hoja izquierda (1)",value:1}),a(se,{label:"Mover hoja derecha (2)",value:2})]),_:1},8,["modelValue"])]),_:1})):ie("",!0)],64)):ie("",!0)]),_:1}),a(Ie,{dense:""},{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>l[83]||(l[83]=[ne("h4",null,"Ventana Derecha",-1)])),_:1}),e.value.tipoVentanaDerecha.compuesta?(p(),J(de,{key:0},[a(Z,{cols:"6"},{default:u(()=>[l[84]||(l[84]=ne("h5",null,"Parte superior",-1)),a(Pe,{modelValue:e.value.tipoVentanaDerecha.partes[0].tipo,"onUpdate:modelValue":l[34]||(l[34]=t=>e.value.tipoVentanaDerecha.partes[0].tipo=t),items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue","items"]),a(Ue,{modelValue:e.value.tipoVentanaDerecha.partes[0].alto,"onUpdate:modelValue":l[35]||(l[35]=t=>e.value.tipoVentanaDerecha.partes[0].alto=t),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),L(e.value.tipoVentanaDerecha.partes[0].tipo)?(p(),J(de,{key:0},[a($e,{modelValue:e.value.tipoVentanaDerecha.partes[0].ladoApertura,"onUpdate:modelValue":l[36]||(l[36]=t=>e.value.tipoVentanaDerecha.partes[0].ladoApertura=t),row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a($e,{modelValue:e.value.tipoVentanaDerecha.partes[0].direccionApertura,"onUpdate:modelValue":l[37]||(l[37]=t=>e.value.tipoVentanaDerecha.partes[0].direccionApertura=t),row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ie("",!0)]),_:1}),a(Z,{cols:"6"},{default:u(()=>[l[85]||(l[85]=ne("h5",null,"Parte inferior",-1)),a(Pe,{modelValue:e.value.tipoVentanaDerecha.partes[1].tipo,"onUpdate:modelValue":l[38]||(l[38]=t=>e.value.tipoVentanaDerecha.partes[1].tipo=t),items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue","items"]),a(Ue,{modelValue:e.value.tipoVentanaDerecha.partes[1].alto,"onUpdate:modelValue":l[39]||(l[39]=t=>e.value.tipoVentanaDerecha.partes[1].alto=t),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),L(e.value.tipoVentanaDerecha.partes[1].tipo)?(p(),J(de,{key:0},[a($e,{modelValue:e.value.tipoVentanaDerecha.partes[1].ladoApertura,"onUpdate:modelValue":l[40]||(l[40]=t=>e.value.tipoVentanaDerecha.partes[1].ladoApertura=t),row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a($e,{modelValue:e.value.tipoVentanaDerecha.partes[1].direccionApertura,"onUpdate:modelValue":l[41]||(l[41]=t=>e.value.tipoVentanaDerecha.partes[1].direccionApertura=t),row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ie("",!0)]),_:1})],64)):(p(),J(de,{key:1},[a(Z,{cols:"4"},{default:u(()=>[a(Pe,{modelValue:e.value.tipoVentanaDerecha.partes[0].tipo,"onUpdate:modelValue":l[42]||(l[42]=t=>e.value.tipoVentanaDerecha.partes[0].tipo=t),items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo de ventana derecha",outlined:""},null,8,["modelValue","items"])]),_:1}),L(e.value.tipoVentanaDerecha.partes[0].tipo)?(p(),E(Z,{key:0,cols:"4"},{default:u(()=>[a($e,{modelValue:e.value.tipoVentanaDerecha.ladoApertura,"onUpdate:modelValue":l[43]||(l[43]=t=>e.value.tipoVentanaDerecha.ladoApertura=t),row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1})):ie("",!0),L(e.value.tipoVentanaDerecha.partes[0].tipo)?(p(),E(Z,{key:1,cols:"4"},{default:u(()=>[a($e,{modelValue:e.value.tipoVentanaDerecha.direccionApertura,"onUpdate:modelValue":l[44]||(l[44]=t=>e.value.tipoVentanaDerecha.direccionApertura=t),row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})):ie("",!0)],64))]),_:1})],64)):ie("",!0),[3,46,52].includes(e.value.tipo)?(p(),E(Ie,{key:6},{default:u(()=>[a(Z,{cols:"6",md:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.hojas_totales,"onUpdate:modelValue":l[45]||(l[45]=t=>e.value.hojas_totales=t),items:[2,3,4,6],label:"Hojas totales",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"6",md:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.hojas_moviles,"onUpdate:modelValue":l[46]||(l[46]=t=>e.value.hojas_moviles=t),items:[1,2,3,4],label:"Hojas mÃ³viles",disabled:!e.value.hojas_totales,rules:[t=>!t||t<=e.value.hojas_totales||"No puede exceder total"],outlined:"",color:"primary"},null,8,["modelValue","disabled","rules"])]),_:1}),e.value.hojas_moviles===1?(p(),E(Z,{key:0,cols:"12",md:"6"},{default:u(()=>[a($e,{modelValue:e.value.hojaMovilSeleccionada,"onUpdate:modelValue":l[47]||(l[47]=t=>e.value.hojaMovilSeleccionada=t),row:"",label:"Selecciona la hoja que se mueve"},{default:u(()=>[a(se,{label:"Mover hoja izquierda (1)",value:1}),a(se,{label:"Mover hoja derecha (2)",value:2})]),_:1},8,["modelValue"])]),_:1})):ie("",!0)]),_:1})):ie("",!0),e.value.tipo===50?(p(),E(Ie,{key:7,dense:""},{default:u(()=>[a(Z,{cols:"12",md:"4"},{default:u(()=>[a($e,{modelValue:e.value.ladoApertura,"onUpdate:modelValue":l[48]||(l[48]=t=>e.value.ladoApertura=t),label:"Lado apertura",row:""},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(Z,{cols:"12",md:"4"},{default:u(()=>[a($e,{modelValue:e.value.direccionApertura,"onUpdate:modelValue":l[49]||(l[49]=t=>e.value.direccionApertura=t),label:"Apertura",row:""},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1}),a(Z,{cols:"12",md:"4"},{default:u(()=>[a(ra,{modelValue:e.value.pasoLibre,"onUpdate:modelValue":l[50]||(l[50]=t=>e.value.pasoLibre=t),inset:"",color:"primary",label:e.value.pasoLibre?"Paso libre (sin perfil inferior)":"Paso cerrado"},null,8,["modelValue","label"])]),_:1})]),_:1})):ie("",!0),e.value.tipo===51?(p(),E(Ie,{key:8,dense:""},{default:u(()=>[a(Z,{cols:"12",md:"4"},{default:u(()=>[a($e,{modelValue:e.value.hojaActiva,"onUpdate:modelValue":l[51]||(l[51]=t=>e.value.hojaActiva=t),label:"Hoja activa",row:""},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(Z,{cols:"12",md:"4"},{default:u(()=>[a($e,{modelValue:e.value.direccionApertura,"onUpdate:modelValue":l[52]||(l[52]=t=>e.value.direccionApertura=t),label:"Apertura",row:""},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1}),a(Z,{cols:"12",md:"4"},{default:u(()=>[a(ra,{modelValue:e.value.pasoLibre,"onUpdate:modelValue":l[53]||(l[53]=t=>e.value.pasoLibre=t),inset:"",color:"primary",label:e.value.pasoLibre?"Paso libre (sin perfil inferior)":"Paso cerrado"},null,8,["modelValue","label"])]),_:1})]),_:1})):ie("",!0),e.value.tipo===53?(p(),E(Ie,{key:9,dense:""},{default:u(()=>[a(Z,{cols:"12",md:"6"},{default:u(()=>[a($e,{modelValue:e.value.ladoApertura,"onUpdate:modelValue":l[54]||(l[54]=t=>e.value.ladoApertura=t),label:"Lado de apertura (movimiento)",row:""},{default:u(()=>[a(se,{label:"Hacia la derecha",value:"derecha"}),a(se,{label:"Hacia la izquierda",value:"izquierda"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):ie("",!0),e.value.tipo===54?(p(),E(Be,{key:10,class:"pa-3",variant:"tonal"},{default:u(()=>[a(Ie,{dense:""},{default:u(()=>[a(Z,{cols:"12",sm:"3"},{default:u(()=>[a(Pe,{modelValue:e.value.orientacionComp,"onUpdate:modelValue":l[55]||(l[55]=t=>e.value.orientacionComp=t),items:[{title:"Horizontal",value:"horizontal"},{title:"Vertical",value:"vertical"}],label:"OrientaciÃ³n",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"12",sm:"3"},{default:u(()=>[a(Ue,{modelValue:e.value.cantidadComp,"onUpdate:modelValue":l[56]||(l[56]=t=>e.value.cantidadComp=t),modelModifiers:{number:!0},type:"number",min:"2",max:"8",label:"Cantidad de ventanas",density:"comfortable",onBlur:l[57]||(l[57]=t=>d())},null,8,["modelValue"])]),_:1})]),_:1}),a(pa,{class:"my-2"}),a(Ie,{dense:""},{default:u(()=>[(p(!0),J(de,null,Ee(e.value.itemsComp,(t,_)=>(p(),E(Z,{key:"comp-item-"+_,cols:"12",md:"6"},{default:u(()=>[a(Be,{class:"pa-3"},{default:u(()=>[ne("div",ft,[ne("strong",null,"SecciÃ³n "+we(_+1),1),a(Ue,{modelValue:t.sizePercent,"onUpdate:modelValue":$=>t.sizePercent=$,modelModifiers:{number:!0},type:"number",min:"0",max:"100",suffix:"%",label:"TamaÃ±o",density:"compact",style:{"max-width":"140px"}},null,8,["modelValue","onUpdate:modelValue"])]),a(Pe,{modelValue:t.tipo,"onUpdate:modelValue":$=>t.tipo=$,items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue","items"]),L(t.tipo)?(p(),J(de,{key:0},[a($e,{modelValue:t.ladoApertura,"onUpdate:modelValue":$=>t.ladoApertura=$,row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),a($e,{modelValue:t.direccionApertura,"onUpdate:modelValue":$=>t.direccionApertura=$,row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):ie("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(ia,{type:"info",variant:"text",density:"compact",class:"mt-2"},{default:u(()=>l[86]||(l[86]=[K(" Si no defines porcentajes, las secciones se reparten por igual. ")])),_:1})]),_:1})):ie("",!0),a(Ie,null,{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>{var t,_,$,re,le,ue,ke,_e,Re,Xe,Ye,Ge,aa,ta,ma,fa;return[e.value.tipo===1?(p(),E(Gl,{key:0,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((t=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:t.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===2?(p(),E(Rl,{key:1,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((_=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:_.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===45?(p(),E(Wl,{key:2,ancho:e.value.ancho,alto:e.value.alto,"color-marco":(($=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:$.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===56?(p(),E(Kl,{key:3,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((re=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:re.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===55?(p(),E(ao,{key:4,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((le=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:le.nombre)||"blanco",hoja1AlFrente:e.value.hoja1AlFrente,"hojas-moviles":e.value.hojas_moviles||2,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada||1},null,8,["ancho","alto","color-marco","hoja1AlFrente","hojas-moviles","hoja-movil-seleccionada"])):e.value.tipo===57?(p(),E(ql,{key:`compuesta-${e.value.ancho}-${e.value.alto}-${e.value.filas}-${e.value.columnas}`,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((ue=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:ue.nombre)||"blanco",filas:e.value.filas,columnas:e.value.columnas,"altos-filas":e.value.altosFilas,"anchos-columnas":e.value.anchosColumnas,secciones:e.value.secciones},null,8,["ancho","alto","color-marco","filas","columnas","altos-filas","anchos-columnas","secciones"])):e.value.tipo===3?(p(),E(Ll,{key:6,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((ke=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:ke.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===52?(p(),E(po,{key:7,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((_e=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:_e.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===46?(p(),E(Fl,{key:8,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((Re=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:Re.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===53?(p(),E(bo,{key:9,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((Xe=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:Xe.nombre)||"blanco","lado-apertura":e.value.ladoApertura},null,8,["ancho","alto","color-marco","lado-apertura"])):e.value.tipo===47?(p(),E(Ol,{key:10,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((Ye=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:Ye.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"ancho-izquierda":e.value.ancho_izquierda,"ancho-centro":e.value.ancho_centro,"ancho-derecha":e.value.ancho_derecha,"tipo-ventana-izquierda":e.value.tipoVentanaIzquierda,"tipo-ventana-centro":e.value.tipoVentanaCentro,"tipo-ventana-derecha":e.value.tipoVentanaDerecha},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","ancho-izquierda","ancho-centro","ancho-derecha","tipo-ventana-izquierda","tipo-ventana-centro","tipo-ventana-derecha"])):e.value.tipo===49?(p(),E(Pl,{key:11,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((Ge=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:Ge.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"lado-inicial":e.value.ladoApertura||"izquierda",direccionApertura:e.value.direccionApertura,"onUpdate:direccionApertura":l[58]||(l[58]=fe=>e.value.direccionApertura=fe)},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-inicial","direccionApertura"])):e.value.tipo===50?(p(),E(Nl,{key:12,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((aa=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:aa.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"lado-apertura":e.value.ladoApertura,"direccion-apertura":e.value.direccionApertura,"paso-libre":e.value.pasoLibre},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-apertura","direccion-apertura","paso-libre"])):e.value.tipo===51?(p(),E(vo,{key:13,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((ta=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:ta.nombre)||"blanco","hoja-activa":e.value.hojaActiva,"direccion-apertura":e.value.direccionApertura,"paso-libre":e.value.pasoLibre},null,8,["ancho","alto","color-marco","hoja-activa","direccion-apertura","paso-libre"])):e.value.tipo===54?(p(),E(xo,{key:`compuesta-${W.value}`,ancho:e.value.ancho||2e3,alto:e.value.alto||2e3,"color-marco":((ma=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:ma.nombre)||"blanco",orientacion:e.value.orientacionComp||"horizontal",items:e.value.itemsComp||[],forceReRender:W.value,onAgregar:z,onAgregarBorde:S,onEditarVentana:Ae,onEliminarVentana:c},null,8,["ancho","alto","color-marco","orientacion","items","forceReRender"])):e.value.tipo===58?(p(),E(ct,{key:15,"tipos-ventana":R.value,"perfiles-marco":Y.value,"perfiles-divisores":j.value,"color-marco":(((fa=A.colores.find(fe=>fe.id===e.value.color))==null?void 0:fa.nombre)||"blanco").toLowerCase(),onActualizar:l[59]||(l[59]=fe=>{console.log("ðŸ“¦ ConfiguraciÃ³n armador actualizada:",fe),e.value.configuracionArmador=fe,v()}),onCancelar:()=>{}},null,8,["tipos-ventana","perfiles-marco","perfiles-divisores","color-marco"])):ie("",!0)]}),_:1})]),_:1}),a(pa,{class:"my-4"}),a(Ie,null,{default:u(()=>[a(Z,{cols:"12",md:"4"},{default:u(()=>[e.value.costo_total_unitario?(p(),E(ia,{key:0,type:"info",variant:"outlined"},{default:u(()=>[l[87]||(l[87]=ne("strong",null,"Costo unitario:",-1)),K(" $"+we(e.value.costo_total_unitario),1)]),_:1})):ie("",!0)]),_:1}),a(Z,{cols:"12",md:"4"},{default:u(()=>[e.value.costo_total?(p(),E(ia,{key:0,type:"info",variant:"tonal"},{default:u(()=>[l[88]||(l[88]=ne("strong",null,"Costo total:",-1)),K(" $"+we(e.value.costo_total),1)]),_:1})):ie("",!0)]),_:1}),a(Z,{cols:"12",md:"4"},{default:u(()=>[e.value.precio?(p(),E(ia,{key:0,type:"success",variant:"tonal"},{default:u(()=>[l[89]||(l[89]=ne("strong",null,"Precio de venta:",-1)),K(" $"+we(e.value.precio),1)]),_:1})):ie("",!0)]),_:1})]),_:1}),e.value.materiales&&e.value.materiales.length?(p(),E(Ie,{key:11},{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>[a(Be,{variant:"outlined"},{default:u(()=>[a(Qe,{class:"d-flex align-center"},{default:u(()=>[l[92]||(l[92]=ne("span",null,"Detalle de materiales",-1)),a(ca),a(Le,{color:"success",variant:"tonal",size:"small",onClick:V},{default:u(()=>[a(De,{left:""},{default:u(()=>l[90]||(l[90]=[K("mdi-download")])),_:1}),l[91]||(l[91]=K(" Descargar Excel "))]),_:1})]),_:1}),a(Xl,{headers:[{title:"Material",key:"nombre"},{title:"Proveedor",key:"proveedor"},{title:"Cantidad",key:"cantidad"},{title:"Unidad",key:"unidad"},{title:"Costo unitario",key:"costo_unitario"},{title:"Costo total",key:"costo_total"}],items:e.value.materiales,class:"mt-2",dense:"","items-per-page":10,"items-per-page-options":[5,10,25,50,{value:-1,title:"Todos"}]},{"item.costo_unitario":u(({item:t})=>[K(" $"+we(t.costo_unitario),1)]),"item.costo_total":u(({item:t})=>[K(" $"+we(t.costo_total),1)]),_:1},8,["items"])]),_:1})]),_:1})]),_:1})):ie("",!0),e.value.tipo===54?(p(),E(Ie,{key:12},{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>[a(ia,{color:"success",variant:"tonal"},{default:u(()=>[l[93]||(l[93]=ne("strong",null,"Costo total compuesta:",-1)),K(" $"+we(X.value.toLocaleString())+" ",1),l[94]||(l[94]=ne("div",{class:"text-caption"}," Suma de todas las ventanas individuales con sus medidas especÃ­ficas ",-1))]),_:1})]),_:1})]),_:1})):ie("",!0),a(va,{class:"justify-end"},{default:u(()=>[a(Le,{color:"secondary",variant:"text",onClick:s},{default:u(()=>l[95]||(l[95]=[K(" Cancelar ")])),_:1}),a(Le,{color:"primary",type:"submit"},{default:u(()=>[K(we(r.value?"Guardar cambios":"Agregar ventana"),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),a(da,{modelValue:U.value,"onUpdate:modelValue":l[62]||(l[62]=t=>U.value=t),"max-width":"400"},{default:u(()=>[a(Be,null,{default:u(()=>[a(Qe,null,{default:u(()=>l[96]||(l[96]=[K("Agregar ventana")])),_:1}),a(pa),a(Dl,null,{default:u(()=>[(p(!0),J(de,null,Ee(R.value,t=>(p(),E(ha,{key:t.id,onClick:_=>I(t.id)},{default:u(()=>[a(ga,null,{default:u(()=>[K(we(t.nombre),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128)),a(ha,{onClick:T},{default:u(()=>[a(ga,null,{default:u(()=>l[97]||(l[97]=[K("Compuesta (anidada)")])),_:1})]),_:1})]),_:1}),a(va,null,{default:u(()=>[a(ca),a(Le,{text:"",onClick:l[61]||(l[61]=t=>U.value=!1)},{default:u(()=>l[98]||(l[98]=[K("Cancelar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(da,{modelValue:ve.value,"onUpdate:modelValue":l[70]||(l[70]=t=>ve.value=t),"max-width":"600px"},{default:u(()=>[a(Be,null,{default:u(()=>[a(Qe,null,{default:u(()=>l[99]||(l[99]=[ne("span",{class:"text-h5"},"Editar Ventana Individual",-1)])),_:1}),a(ua,null,{default:u(()=>[a(Bl,null,{default:u(()=>[a(Ie,null,{default:u(()=>[a(Z,{cols:"12",sm:"6"},{default:u(()=>[a(Ue,{modelValue:P.value.ancho,"onUpdate:modelValue":l[63]||(l[63]=t=>P.value.ancho=t),modelModifiers:{number:!0},label:"Ancho (mm)",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"12",sm:"6"},{default:u(()=>[a(Ue,{modelValue:P.value.alto,"onUpdate:modelValue":l[64]||(l[64]=t=>P.value.alto=t),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),a(Ie,null,{default:u(()=>[a(Z,{cols:"12",sm:"6"},{default:u(()=>[a(Ue,{modelValue:P.value.sizePercent,"onUpdate:modelValue":l[65]||(l[65]=t=>P.value.sizePercent=t),modelModifiers:{number:!0},label:"Porcentaje del espacio (%)",type:"number",min:"10",max:"80",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(Z,{cols:"12",sm:"6"},{default:u(()=>[a(Pe,{modelValue:P.value.tipo,"onUpdate:modelValue":l[66]||(l[66]=t=>P.value.tipo=t),items:R.value,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),L(P.value.tipo)?(p(),E(Ie,{key:0},{default:u(()=>[a(Z,{cols:"12",sm:"6"},{default:u(()=>[a($e,{modelValue:P.value.ladoApertura,"onUpdate:modelValue":l[67]||(l[67]=t=>P.value.ladoApertura=t),row:"",density:"compact",label:"Lado apertura"},{default:u(()=>[a(se,{label:"Izquierda",value:"izquierda"}),a(se,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(Z,{cols:"12",sm:"6"},{default:u(()=>[a($e,{modelValue:P.value.direccionApertura,"onUpdate:modelValue":l[68]||(l[68]=t=>P.value.direccionApertura=t),row:"",density:"compact",label:"DirecciÃ³n apertura"},{default:u(()=>[a(se,{label:"Interior",value:"interior"}),a(se,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):ie("",!0),a(Ie,null,{default:u(()=>[a(Z,{cols:"12"},{default:u(()=>[a(ia,{color:"info",variant:"tonal"},{default:u(()=>[ne("div",pt,"Costo estimado: $"+we(qe.value.toLocaleString()),1),ne("div",ht," ID Tipo: "+we(P.value.tipo)+" | Ãrea: "+we(Ne.value.toFixed(2))+" mÂ² | Tipo: "+we(ae(P.value.tipo)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(va,null,{default:u(()=>[a(ca),a(Le,{color:"blue-darken-1",variant:"text",onClick:l[69]||(l[69]=t=>ve.value=!1)},{default:u(()=>l[100]||(l[100]=[K(" Cancelar ")])),_:1}),a(Le,{color:"blue-darken-1",variant:"text",onClick:Q},{default:u(()=>l[101]||(l[101]=[K(" Guardar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},Tt=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"}));export{Tt as A,bt as _,Gl as a,Kl as b,ao as c,ql as d,po as e,bo as f,Pl as g,Nl as h,vo as i};
