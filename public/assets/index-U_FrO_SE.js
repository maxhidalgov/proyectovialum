import{d as ro}from"./debounce-GGYi-AII.js";import{r as p,X,av as lo,E as No,au as A,w as Z,f as h,e as d,k as Po,o as f,b as l,c as U,m as J,t as m,d as N,F as io,i as to,v as P,Z as k,a3 as L,aw as $o}from"./index-BkN66Jee.js";/* empty css                                                                */import{_ as Io}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Shapes-DW6qcN1k.js";import{_ as To,a as So,b as jo,c as Do}from"./VistaBayWindow-BYf8gQa4.js";import{_ as zo,a as Oo,b as ko,c as Lo,d as Ro,e as wo,f as Mo}from"./AgregarVentanaModal2-YIbZFTCa.js";import{_ as Uo}from"./VistaVentanaCorredera-Cvivq42t.js";import{V as xo}from"./VContainer-DHMbZyNg.js";import{V as x,b as W,d as q}from"./VCard-BIq9KtZy.js";import{V as R}from"./VDivider-izuRbe5V.js";import{V as T,a as C}from"./VRow-zuKfOnXG.js";import{V as qo}from"./VTextField-CvSPcfDi.js";import{V as Bo,a as Fo,b as Go,d as Ko}from"./VList-CGw_ag0t.js";import{V as Qo}from"./VTextarea-w5hHsEzw.js";import{V as B}from"./VSelect-qe3QKkar.js";import{V as Yo}from"./VDataTable-DrR-NKoO.js";import{V as Ho}from"./VCardText-yvZq5wFx.js";import"./VSwitch-CKg5f6_W.js";import"./VInput-CN2X7-5r.js";import"./transition-ClaezFJr.js";import"./VSelectionControl-Fr9-jP0N.js";import"./VRadioGroup-BuD3u4GL.js";import"./VDialog-Vz5WCGXr.js";import"./VOverlay-CN7rzLfz.js";import"./forwardRefs-DWGaNmQL.js";import"./VForm-D1--ze3Q.js";import"./VAlert-B_cBy9LO.js";import"./VAvatar-CUG03JWJ.js";import"./VImg-B-BAd-J6.js";import"./VSpacer-DstO-xmX.js";/* empty css              */import"./VMenu-BRJgvGXh.js";import"./VCheckboxBtn-sD-GE5AJ.js";import"./VChip-B3ZmS2Q6.js";const Xo={style:{position:"relative"}},Zo={key:0,class:"mt-6"},Jo=.45,Wo={__name:"index",setup(oe){const b=p([]),S=p([]),so=Po(),oo=X(()=>{const r={};for(const e of S.value)r[Number(e.id)]=e.nombre;return r}),c=lo({cliente_id:null,observaciones:"",material:"",color:"",tipoVidrio:"",productoVidrioProveedor:"",ventanas:[]});p({});const w=p(!1),y=lo({cliente:null}),F=p([]),g=p([]),G=p([]),j=p([]),K=p([]),n=p([]),D=p(!1),Q=p(null),I=p(""),E=p(!1);p("");const co=p(!1);p(0),p({firstName:"",lastName:"",company:"",code:"",email:"",phone:"",city:"",municipality:"",address:"",activity:""}),X(()=>j.value.flatMap(r=>r.colores_por_proveedor.map(e=>{var o;return{id:`${r.id}-${e.proveedor_id}`,producto_id:r.id,proveedor_id:e.proveedor_id,nombre:`${r.nombre} (${((o=e.proveedor)==null?void 0:o.nombre)||"Proveedor desconocido"})`}})));const no=X(()=>{const r=c.tipoVidrio;return j.value.filter(e=>e.tipo_producto_id===r).flatMap(e=>e.colores_por_proveedor.map(o=>{var a;return{id:o.id,producto_id:e.id,proveedor_id:o.proveedor_id,nombre:`${e.nombre} (${((a=o.proveedor)==null?void 0:a.nombre)||"Proveedor desconocido"})`}}))});No(async()=>{console.log("üîÑ Iniciando carga de datos...");try{const[r,e,o,a,t]=await Promise.all([A.get("/api/tipos_material"),A.get("/api/colores"),A.get("/api/tipos_producto"),A.get("/api/productos"),A.get("/api/tipos_ventana")]);console.log("‚úÖ Datos b√°sicos cargados"),F.value=r.data,g.value=e.data,G.value=o.data.filter(s=>[1,2].includes(s.id)),j.value=a.data.filter(s=>[1,2].includes(s.tipo_producto_id)),S.value=t.data,console.log("TIPOS VENTANA CARGADOS:",S.value),console.log("üîÑ Cargando primeros clientes..."),Eo(),document.addEventListener("click",s=>{const u=s.target;!u.closest(".v-text-field")&&!u.closest(".v-card")&&(E.value=!1)})}catch(r){console.error("‚ùå Error cargando datos:",r),alert("Error cargando datos: "+r.message)}});const eo=r=>(r=parseInt(r),j.value.flatMap(e=>e.colores_por_proveedor.map(o=>({id:o.id,producto_id:e.id,proveedor_id:o.proveedor_id}))).find(e=>e.id===r)),z=p(!1),Y=p(null),uo=[{title:"Tipo",key:"tipo"},{title:"Ancho",key:"ancho"},{title:"Alto",key:"alto"},{title:"Cantidad",key:"cantidad"},{title:"Precio",key:"precio",align:"end"},{title:"Acciones",key:"acciones",sortable:!1}],mo=()=>{Y.value=null,z.value=!0},po=r=>{Y.value={...c.ventanas[r],index:r},z.value=!0},fo=r=>{console.log("VENTANA RECIBIDA:",r),r.index!==void 0?c.ventanas[r.index]={...r}:c.ventanas.push({...r}),z.value=!1},Vo=r=>{c.ventanas.splice(r,1)},go=ro(async(r,e)=>{if(!r.productoVidrio||!r.proveedorVidrio){console.warn("‚ö†Ô∏è Faltan datos en el payload para calcular materiales:",r);return}try{const o=await A.post("/api/cotizador/calcular-materiales",r);e.costo_total_unitario=o.data.costo_unitario;const a=e.cantidad>0?e.cantidad:1;e.costo_total=o.data.costo_unitario*e.cantidad,e.precio=Math.ceil(e.costo_total/(1-Jo)),e.materiales=o.data.materiales}catch(o){console.error("‚ùå Error al calcular materiales",o),e.costo_total=0,e.materiales=[]}},1e3);Z(()=>c.ventanas,r=>{r.forEach(e=>{Z(()=>[e.tipo,e.ancho,e.alto,e.cantidad,e.material,e.color,e.tipoVidrio,e.productoVidrioProveedor,e.hojas_totales,e.hojas_moviles],()=>{const o=[];e.tipo||o.push("tipo_ventana_id faltante"),e.ancho||o.push("ancho faltante"),e.alto||o.push("alto faltante"),(!e.cantidad||e.cantidad<=0)&&o.push("cantidad inv√°lida"),e.productoVidrioProveedor||o.push("productoVidrioProveedor faltante");const a=eo(e.productoVidrioProveedor);if(a||o.push(`relaci√≥n producto-proveedor no encontrada (ID: ${e.productoVidrioProveedor})`),o.length>0){console.warn(`‚ùå No se puede recalcular la ventana (tipo ${e.tipo}):`,o.join(", "));return}const t={...e,productoVidrio:a.producto_id,proveedorVidrio:a.proveedor_id,hojas_moviles:e.tipo===3||e.tipo===46?e.hojas_moviles:void 0};console.log("‚úÖ Recalculando ventana:",t),go(t,e)},{deep:!0,immediate:!1})})},{deep:!0}),Z(()=>y.cliente,r=>{console.log("‚úÖ Cliente seleccionado:",r),r&&(console.log("‚úÖ Nombre:",r.razon_social),console.log("‚úÖ RUT:",r.identification))});const ho=()=>{co.value=!0},_o=async()=>{var e,o;if(y.cliente)return;const r=(e=I.value)==null?void 0:e.trim();if(console.log("üîç B√öSQUEDA LOCAL:",r),!r||r.length<2){n.value=[],E.value=!1;return}D.value=!0,E.value=!0;try{const a=await A.get(`/api/clientes/buscar?q=${encodeURIComponent(r)}`);console.log("‚úÖ RESPUESTA LOCAL:",a.data),((o=a.data)==null?void 0:o.length)>0?(n.value=a.data.map(t=>({id:t.id,razon_social:t.razon_social||`${t.first_name||""} ${t.last_name||""}`.trim()||"Sin nombre",identification:t.identification||"",email:t.email||"",phone:t.phone||""})),console.log("‚úÖ CLIENTES PROCESADOS:",n.value),E.value=!0):(n.value=[],E.value=!1,console.log("‚ùå NO HAY CLIENTES"))}catch(a){console.error("‚ùå ERROR:",a),n.value=[],E.value=!1}finally{D.value=!1}},vo=r=>{console.log("‚úÖ CLIENTE SELECCIONADO:",r),y.cliente=r,I.value=r.razon_social,E.value=!1,n.value=[]},bo=()=>{n.value.length>0&&!y.cliente&&(E.value=!0)},yo=()=>{I.value="",n.value=[],E.value=!1,y.cliente=null};ro(async r=>{var e;if(r||(r=I.value),console.log("üîç Buscando clientes con query:",r),!r||r.length<2){n.value=K.value.slice(0,20),console.log("üìã Mostrando clientes iniciales:",n.value.length);return}D.value=!0;try{console.log("üåê Buscando en API de Bsale...");const o=await A.get(`/api/bsale-clientes/buscar?q=${encodeURIComponent(r)}`);console.log("‚úÖ Respuesta de API:",o.data),o.data&&o.data.items&&o.data.items.length>0?(n.value=o.data.items.map(a=>{console.log("üîç Procesando cliente:",a);let t="";a.company&&a.company.trim()?t=a.company.trim():a.firstName||a.lastName?t=`${a.firstName||""} ${a.lastName||""}`.trim():a.razon_social?t=a.razon_social:a.displayName?t=a.displayName:t="Cliente sin nombre",(!t||t.trim()==="")&&(t=`Cliente ID: ${a.id}`);const s={id:a.id,razon_social:t,identification:a.identification||"",email:a.email||"",phone:a.phone||"",address:a.address||"",city:a.city||"",municipality:a.municipality||"",first_name:a.firstName||"",last_name:a.lastName||"",company:a.company||"",tipo_cliente:a.companyOrPerson==1?"empresa":"persona"};return console.log("‚úÖ Cliente procesado:",s),s}),console.log("‚úÖ Total clientes procesados:",n.value.length),console.log("‚úÖ Lista final:",n.value),n.value.length>0&&(console.log("üîç Primer cliente para autocomplete:",{id:n.value[0].id,razon_social:n.value[0].razon_social,hasId:!!n.value[0].id,hasTitle:!!n.value[0].razon_social}),setTimeout(()=>{Q.value&&Q.value.menu&&(console.log("üéØ Forzando apertura del men√∫..."),Q.value.menu=!0)},100))):(console.log("‚ùå No se encontraron clientes en la respuesta"),n.value=[])}catch(o){console.error("‚ùå Error en b√∫squeda:",o),console.error("‚ùå Detalles del error:",(e=o.response)==null?void 0:e.data),n.value=[]}finally{D.value=!1}},300);const Eo=async()=>{var r;try{const e=await A.get("/api/bsale-clientes?limit=50&offset=0");console.log("‚úÖ Primeros clientes cargados:",e.data);const o=((r=e.data.items)==null?void 0:r.map(a=>({id:a.id,razon_social:a.razon_social||a.displayName||"Sin nombre",identification:a.identification,email:a.email,phone:a.phone,address:a.address,city:a.city,municipality:a.municipality,first_name:a.firstName,last_name:a.lastName,company:a.company,tipo_cliente:a.companyOrPerson==1?"empresa":"persona"})))||[];K.value=o,n.value=o.slice(0,20),console.log("‚úÖ Clientes iniciales listos:",K.value.length)}catch(e){console.error("‚ùå Error cargando clientes iniciales:",e),n.value=[]}},Ao=async()=>{var e,o;await new Promise(a=>setTimeout(a,2e3));const r=[];console.log("üîç INICIANDO CAPTURA DE IM√ÅGENES"),console.log("üîç VENTANA REFS:",b.value),console.log("üîç TOTAL VENTANAS:",c.ventanas.length);for(let a=0;a<c.ventanas.length;a++){const t=c.ventanas[a];console.log(`üîç VENTANA ${a} - TIPO:`,t.tipo);try{const s=b.value[a];if(console.log(`üîç COMPONENTE ${a}:`,s),console.log(`üîç TIPO DE COMPONENTE ${a}:`,typeof s),console.log(`üîç $el DE COMPONENTE ${a}:`,s==null?void 0:s.$el),console.log(`üîç TIPO DE $el ${a}:`,typeof(s==null?void 0:s.$el)),s!=null&&s.exportarImagen&&typeof s.exportarImagen=="function"){console.log(`üîß Usando exportarImagen() del componente ${a}`);try{const u=await s.exportarImagen();if(u&&u!==null){console.log(`‚úÖ IMAGEN ${a} CAPTURADA VIA exportarImagen:`,u.substring(0,50)),r.push(u);continue}else console.warn(`‚ö†Ô∏è exportarImagen() devolvi√≥ null para componente ${a}`)}catch(u){console.error(`‚ùå Error en exportarImagen del componente ${a}:`,u)}}if(s!=null&&s.$el&&s.$el.nodeType===Node.ELEMENT_NODE&&typeof s.$el.querySelectorAll=="function"){console.log(`üîç ELEMENTO DOM ${a} V√ÅLIDO:`,s.$el.tagName);const u=s.$el.querySelectorAll("canvas");console.log(`üîç CANVAS ENCONTRADOS EN COMPONENTE ${a}:`,u.length);let _=null;for(let V=0;V<u.length;V++){const v=u[V];console.log(`üîç CANVAS ${a}.${V} - DIMENSIONES:`,v.width,"x",v.height);try{const O=v.getContext("2d").getImageData(0,0,v.width,v.height).data.some(M=>M!==0);if(console.log(`üîç CANVAS ${a}.${V} - TIENE CONTENIDO:`,O),O){_=v;break}}catch($){console.error(`‚ùå Error verificando canvas ${a}.${V}:`,$)}}if(_){try{const v=(e=_.getStage)==null?void 0:e.call(_);v&&(console.log(`üîÑ Forzando redibujado de Konva en ventana ${a}`),v.draw(),await new Promise($=>setTimeout($,500)))}catch{console.log(`‚ÑπÔ∏è Ventana ${a} no es Konva`)}const V=_.toDataURL("image/png");console.log(`‚úÖ IMAGEN ${a} CAPTURADA VIA CANVAS:`,V.substring(0,50)),r.push(V)}else if(u.length>0){console.log("üîß Usando primer canvas aunque est√© vac√≠o...");try{const V=u[0].toDataURL("image/png");r.push(V)}catch(V){console.error("‚ùå Error en toDataURL:",V),r.push(null)}}else console.warn(`‚ö†Ô∏è No se encontraron canvas en componente ${a}`),r.push(null)}else{console.warn(`‚ö†Ô∏è Componente ${a} no tiene $el v√°lido o querySelectorAll`),console.log("üîç ¬ø$el existe?:",!!(s!=null&&s.$el)),console.log("üîç ¬øEs Element?:",(s==null?void 0:s.$el)instanceof Element),console.log("üîç ¬øTiene querySelectorAll?:",typeof((o=s==null?void 0:s.$el)==null?void 0:o.querySelectorAll)),console.log("üîß √öltimo recurso: buscando canvas globalmente...");const u=document.querySelectorAll("canvas");if(console.log("üîç Canvas globales encontrados:",u.length),u.length>a)try{const _=u[a].toDataURL("image/png");console.log(`‚úÖ IMAGEN ${a} CAPTURADA VIA B√öSQUEDA GLOBAL`),r.push(_)}catch(_){console.error("‚ùå Error en canvas global:",_),r.push(null)}else r.push(null)}}catch(s){console.error(`‚ùå ERROR GENERAL capturando imagen ${a}:`,s),r.push(null)}}return console.log("üñºÔ∏è RESULTADO FINAL:",r.map((a,t)=>`${t}: ${a?"OK":"NULL"}`)),r},Co=async()=>{var r;w.value=!0;try{const e=await Ao();console.log("üñºÔ∏è IM√ÅGENES CAPTURADAS:",e),console.log("üñºÔ∏è N√öMERO DE IM√ÅGENES:",e.length),console.log("üñºÔ∏è PRIMERA IMAGEN (primeros 100 chars):",(r=e[0])==null?void 0:r.substring(0,100));const o=y.cliente;if(!o||c.ventanas.length===0){alert("Debes seleccionar un cliente y agregar al menos una ventana");return}const a={cliente_id:o.id,vendedor_id:1,fecha:new Date().toISOString().split("T")[0],estado_cotizacion_id:c.estado_cotizacion_id??1,observaciones:c.observaciones,imagenes_ventanas:e,ventanas:c.ventanas.map(t=>{const s=eo(t.productoVidrioProveedor);return{tipo_ventana_id:t.tipo,ancho:t.ancho,alto:t.alto,cantidad:t.cantidad,color_id:t.color,producto_vidrio_proveedor_id:t.productoVidrioProveedor,producto_id:s==null?void 0:s.producto_id,proveedor_id:s==null?void 0:s.proveedor_id,costo:t.costo_total||t.costo||0,costo_unitario:t.costo_unitario||0,precio:t.precio||0,precio_unitario:t.precio_unitario||0,tipo_ventana_izquierda:t.tipoVentanaIzquierda??null,tipo_ventana_centro:t.tipoVentanaCentro??null,tipo_ventana_derecha:t.tipoVentanaDerecha??null,ancho_izquierda:t.ancho_izquierda??null,ancho_centro:t.ancho_centro??null,ancho_derecha:t.ancho_derecha??null}})};console.log("üì§ PAYLOAD A ENVIAR:",a),console.log("üì§ VENTANAS ESPEC√çFICAS:",a.ventanas),await A.post("api/cotizaciones",a),alert("Cotizaci√≥n guardada correctamente"),so.push({name:"cotizaciones"})}catch(e){console.error("Error al guardar cotizaci√≥n:",e),alert("Error al guardar la cotizaci√≥n")}finally{w.value=!1}};return(r,e)=>(f(),h(xo,{fluid:""},{default:d(()=>[l(x,{class:"pa-6",elevation:"2"},{default:d(()=>[l(W,{class:"text-h5 mb-4"},{default:d(()=>e[7]||(e[7]=[m("Nueva Cotizaci√≥n")])),_:1}),l(q,{class:"text-h5"},{default:d(()=>e[8]||(e[8]=[m("Datos generales")])),_:1}),l(R,{class:"mb-4"}),l(T,{dense:""},{default:d(()=>[l(C,{cols:"6",md:"4"},{default:d(()=>[l(T,{"no-gutters":"",align:"center"},{default:d(()=>[l(C,null,{default:d(()=>[N("div",Xo,[l(qo,{modelValue:I.value,"onUpdate:modelValue":e[0]||(e[0]=o=>I.value=o),onInput:_o,onFocus:bo,label:"Cliente",placeholder:"Buscar por RUT o nombre...",outlined:"",clearable:"",loading:D.value,color:"primary",onClear:yo,"append-inner-icon":y.cliente?"mdi-check-circle":"mdi-magnify",hint:y.cliente?`Seleccionado: ${y.cliente.razon_social}`:"","persistent-hint":"","readonly-when-selected":""},null,8,["modelValue","loading","append-inner-icon","hint"]),E.value&&n.value.length>0&&!y.cliente?(f(),h(x,{key:0,style:{position:"absolute",top:"100%",left:"0",right:"0","z-index":"1000","max-height":"300px","overflow-y":"auto"},class:"mt-1",elevation:"8"},{default:d(()=>[l(Bo,{density:"compact"},{default:d(()=>[(f(!0),U(io,null,to(n.value,o=>(f(),h(Fo,{key:o.id,onClick:a=>vo(o),class:"cursor-pointer",hover:""},{prepend:d(()=>[l(k,null,{default:d(()=>e[9]||(e[9]=[m("mdi-account")])),_:1})]),default:d(()=>[l(Go,null,{default:d(()=>[m(P(o.razon_social),1)]),_:2},1024),l(Ko,null,{default:d(()=>[m(P(o.identification),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})):J("",!0)])]),_:1}),l(C,{cols:"auto"},{default:d(()=>[l(L,{icon:"",color:"primary",onClick:ho,class:"ml-2"},{default:d(()=>[l(k,null,{default:d(()=>e[10]||(e[10]=[m("mdi-plus")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),l(T,{dense:""},{default:d(()=>[l(C,{cols:"6"},{default:d(()=>[l(Qo,{modelValue:c.observaciones,"onUpdate:modelValue":e[1]||(e[1]=o=>c.observaciones=o),label:"Observaciones",outlined:"",color:"primary","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1}),l(T,{dense:"",class:"mb-4"},{default:d(()=>[l(C,{cols:"12",md:"6"},{default:d(()=>[l(B,{modelValue:c.material,"onUpdate:modelValue":e[2]||(e[2]=o=>c.material=o),items:F.value,"item-title":"nombre","item-value":"id",label:"Material",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),l(C,{cols:"12",md:"6"},{default:d(()=>[l(B,{modelValue:c.color,"onUpdate:modelValue":e[3]||(e[3]=o=>c.color=o),items:g.value,"item-title":"nombre","item-value":"id",label:"Color",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1})]),_:1}),l(q,{class:"text-h5"},{default:d(()=>e[11]||(e[11]=[m("Vidrio por defecto")])),_:1}),l(R,{class:"mb-4"}),l(T,{dense:"",class:"mb-4"},{default:d(()=>[l(C,{cols:"12",sm:"6"},{default:d(()=>[l(B,{modelValue:c.tipoVidrio,"onUpdate:modelValue":e[4]||(e[4]=o=>c.tipoVidrio=o),items:G.value,"item-title":"nombre","item-value":"id",label:"Tipo de vidrio",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),l(C,{cols:"12",sm:"6"},{default:d(()=>[l(B,{modelValue:c.productoVidrioProveedor,"onUpdate:modelValue":e[5]||(e[5]=o=>c.productoVidrioProveedor=o),items:no.value,"item-title":"nombre","item-value":"id",label:"Producto de vidrio",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1})]),_:1}),l(q,{class:"text-h5"},{default:d(()=>e[12]||(e[12]=[m("Ventanas")])),_:1}),l(R,{class:"mb-4"}),l(L,{color:"primary",onClick:mo,disabled:!S.value.length},{default:d(()=>[l(k,{left:""},{default:d(()=>e[13]||(e[13]=[m("mdi-plus")])),_:1}),e[14]||(e[14]=m(" Agregar ventana "))]),_:1},8,["disabled"]),l(Yo,{headers:uo,items:c.ventanas,class:"mt-4","items-per-page":5},{"item.tipo":d(({item:o})=>[m(P(oo.value[Number(o.tipo)]||o.tipo),1)]),"item.acciones":d(({item:o,index:a})=>[l(L,{icon:"",onClick:t=>po(a)},{default:d(()=>[l(k,null,{default:d(()=>e[15]||(e[15]=[m("mdi-pencil")])),_:1})]),_:2},1032,["onClick"]),l(L,{icon:"",color:"error",onClick:t=>Vo(a)},{default:d(()=>[l(k,null,{default:d(()=>e[16]||(e[16]=[m("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]),_:1},8,["items"]),l(zo,{mostrar:z.value,"onUpdate:mostrar":e[6]||(e[6]=o=>z.value=o),materiales:F.value,colores:g.value,tiposVidrio:G.value,productosVidrio:j.value,tiposVentana:S.value,ventana:Y.value,"material-default":c.material,"color-default":c.color,"tipo-vidrio-default":c.tipoVidrio,"producto-vidrio-default":c.productoVidrioProveedor,onGuardar:fo},null,8,["mostrar","materiales","colores","tiposVidrio","productosVidrio","tiposVentana","ventana","material-default","color-default","tipo-vidrio-default","producto-vidrio-default"]),l(R,{class:"my-4"}),l(L,{color:"primary",loading:w.value,disabled:w.value,onClick:Co},{loader:d(()=>[l($o,{indeterminate:"",color:"white",size:"20"})]),default:d(()=>[e[17]||(e[17]=m(" Guardar Cotizaci√≥n "))]),_:1},8,["loading","disabled"]),c.ventanas.length>0?(f(),U("div",Zo,[l(q,{class:"text-h5"},{default:d(()=>e[18]||(e[18]=[m("Vista previa de ventanas")])),_:1}),l(R,{class:"mb-4"}),(f(!0),U(io,null,to(c.ventanas,(o,a)=>(f(),U("div",{key:a,class:"mb-4"},[l(x,{class:"pa-4",outlined:""},{default:d(()=>[l(W,null,{default:d(()=>[m(P(oo.value[o.tipo]||`Ventana ${a+1}`),1)]),_:2},1024),l(T,null,{default:d(()=>[l(C,{cols:"6"},{default:d(()=>{var t,s,u,_,V,v,$,H,O,M,ao;return[o.tipo===2?(f(),h(To,{key:0,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((t=g.value.find(i=>i.id===o.color))==null?void 0:t.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):o.tipo===45?(f(),h(So,{key:1,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((s=g.value.find(i=>i.id===o.color))==null?void 0:s.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):o.tipo===3?(f(),h(Uo,{key:2,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((u=g.value.find(i=>i.id===o.color))==null?void 0:u.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor,"hojas-totales":o.hojas_totales,"hojas-moviles":o.hojas_moviles,"hoja-movil-seleccionada":o.hojaMovilSeleccionada,"orden-hoja1-al-frente":o.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):o.tipo===52?(f(),h(Oo,{key:3,ancho:o.ancho,alto:o.alto,"color-marco":((_=g.value.find(i=>i.id===o.color))==null?void 0:_.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor,"hojas-totales":o.hojas_totales,"hojas-moviles":o.hojas_moviles,"hoja-movil-seleccionada":o.hojaMovilSeleccionada,"orden-hoja1-al-frente":o.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):o.tipo===47?(f(),h(jo,{key:4,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((V=g.value.find(i=>i.id===o.color))==null?void 0:V.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor,"ancho-izquierda":o.ancho_izquierda,"ancho-centro":o.ancho_centro,"ancho-derecha":o.ancho_derecha,"tipo-ventana-izquierda":o.tipoVentanaIzquierda,"tipo-ventana-centro":o.tipoVentanaCentro,"tipo-ventana-derecha":o.tipoVentanaDerecha},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","ancho-izquierda","ancho-centro","ancho-derecha","tipo-ventana-izquierda","tipo-ventana-centro","tipo-ventana-derecha"])):o.tipo===46?(f(),h(Do,{key:5,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((v=g.value.find(i=>i.id===o.color))==null?void 0:v.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor,"hojas-totales":o.hojas_totales,"hojas-moviles":o.hojas_moviles,"hoja-movil-seleccionada":o.hojaMovilSeleccionada,"orden-hoja1-al-frente":o.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):o.tipo===53?(f(),h(ko,{key:6,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":(($=g.value.find(i=>i.id===o.color))==null?void 0:$.nombre)||"blanco","lado-apertura":o.ladoApertura},null,8,["ancho","alto","color-marco","lado-apertura"])):o.tipo===49?(f(),h(Lo,{key:7,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((H=g.value.find(i=>i.id===o.color))==null?void 0:H.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor,"lado-inicial":o.ladoApertura||"izquierda"},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-inicial"])):o.tipo===50?(f(),h(Ro,{key:8,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((O=g.value.find(i=>i.id===o.color))==null?void 0:O.nombre)||"blanco",material:o.material,tipoVidrio:o.tipoVidrio,productoVidrioProveedor:o.productoVidrioProveedor,"lado-apertura":o.ladoApertura,"direccion-apertura":o.direccionApertura,"paso-libre":o.pasoLibre},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-apertura","direccion-apertura","paso-libre"])):o.tipo===51?(f(),h(wo,{key:9,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((M=g.value.find(i=>i.id===o.color))==null?void 0:M.nombre)||"blanco","hoja-activa":o.hojaActiva,"direccion-apertura":o.direccionApertura,"paso-libre":o.pasoLibre},null,8,["ancho","alto","color-marco","hoja-activa","direccion-apertura","paso-libre"])):o.tipo===58?(f(),h(Mo,{key:10,ref_for:!0,ref:i=>{i&&(b.value[a]=i)},ancho:o.ancho,alto:o.alto,"color-marco":((ao=g.value.find(i=>i.id===o.color))==null?void 0:ao.nombre)||"blanco",orientacion:o.orientacionComp,items:o.itemsComp},null,8,["ancho","alto","color-marco","orientacion","items"])):J("",!0)]}),_:2},1024),l(C,{cols:"6"},{default:d(()=>[l(x,{variant:"outlined"},{default:d(()=>[l(W,null,{default:d(()=>e[19]||(e[19]=[m("Detalles")])),_:1}),l(Ho,null,{default:d(()=>[N("p",null,[e[20]||(e[20]=N("strong",null,"Ancho:",-1)),m(" "+P(o.ancho)+"mm",1)]),N("p",null,[e[21]||(e[21]=N("strong",null,"Alto:",-1)),m(" "+P(o.alto)+"mm",1)]),N("p",null,[e[22]||(e[22]=N("strong",null,"Cantidad:",-1)),m(" "+P(o.cantidad),1)]),N("p",null,[e[23]||(e[23]=N("strong",null,"Precio:",-1)),m(" $"+P(o.precio),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))])):J("",!0)]),_:1})]),_:1}))}},Re=Io(Wo,[["__scopeId","data-v-89f17461"]]);export{Re as default};
