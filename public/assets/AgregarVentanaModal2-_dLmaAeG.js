import{X as t,a as Y,f as U,o as h,e as r,b as a,r as pe,w as Se,c as te,d as be,m as ne,F as ie,i as _e,E as Fa,aQ as fe,aR as he,q as Pe,n as Oe,aS as Ja,t as Me,v as je,a2 as Ka,a3 as Ue,aI as Qa,ar as Za}from"./index-DVH5_zAC.js";import{d as el,_ as al,a as ll,c as ol,b as tl}from"./VistaBayWindow-Dh24kOBs.js";import{a as De,r as Ya,n as Ga,_ as ul}from"./VistaVentanaCorredera-CuxUu8Jh.js";import{a as T,V as ce}from"./VRadioGroup-Wqevq_U0.js";import{V as Re}from"./VSwitch-BVE41btl.js";import{_ as rl}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as He}from"./VDialog-BnFs-wUc.js";import{V as $e,b as Be,c as Xe}from"./VCard-COrdRJy_.js";import{V as Ee}from"./VDivider-DRFFLgzE.js";import{V as nl}from"./VForm-39R0lN7h.js";import{V as de,a as S}from"./VRow-B11LxY42.js";import{V as ge}from"./VSelect-1AUmKITv.js";import{V as ke}from"./VTextField-CPMs-WRD.js";import{V as Le}from"./VAlert-C8Os17kO.js";import{V as il}from"./VDataTable-I1JlzO2v.js";import{V as vl,a as $a,b as Ra}from"./VList-DlqD1lUI.js";import{V as Na}from"./VSpacer-Doa9SyIl.js";import{V as cl}from"./VCardText-CjaUBipx.js";import{V as sl}from"./VContainer-BQTr2538.js";const J=50,dl=60,Ea=300,pl={__name:"VistaVentanaFijaAL42",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"#000000"}},setup(R){const xe={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},s={roble:new Image,nogal:new Image};s.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,s.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const W=t(()=>{var i;let c="";return typeof d.colorMarco=="object"&&((i=d.colorMarco)!=null&&i.nombre)?c=String(d.colorMarco.nombre).toLowerCase():typeof d.colorMarco=="string"&&(c=d.colorMarco.toLowerCase()),xe[c]||"#ffffff"});function B(c,i=!1){var x;let b="";return typeof d.colorMarco=="object"&&((x=d.colorMarco)!=null&&x.nombre)?b=String(d.colorMarco.nombre).toLowerCase():typeof d.colorMarco=="string"&&(b=d.colorMarco.toLowerCase()),["roble","nogal"].includes(b)&&s[b]?{points:c,closed:!0,fillPatternImage:s[b],fillPatternRepeat:"repeat",fillPatternScale:{x:i?.15:.2,y:i?.15:.2},stroke:"black"}:{points:c,closed:!0,fill:W.value,stroke:"black"}}const d=R,k=t(()=>{const c=Ea/d.ancho,i=Ea/d.alto;return Math.min(c,i,1)*.9}),y=t(()=>dl*k.value),p=t(()=>d.ancho*k.value),e=t(()=>d.alto*k.value),m=t(()=>B([J,J,J+p.value,J,J+p.value-y.value,J+y.value,J+y.value,J+y.value])),ue=t(()=>B([J+p.value,J,J+p.value,J+e.value,J+p.value-y.value,J+e.value-y.value,J+p.value-y.value,J+y.value])),$=t(()=>B([J+p.value,J+e.value,J,J+e.value,J+y.value,J+e.value-y.value,J+p.value-y.value,J+e.value-y.value])),oe=t(()=>B([J,J+e.value,J,J,J+y.value,J+y.value,J+y.value,J+e.value-y.value])),w=t(()=>({x:J+y.value,y:J+y.value,width:p.value-y.value*2,height:e.value-y.value*2,fill:"#b3e5fc",stroke:"black"})),O=t(()=>{const c=Math.max(d.ancho,d.alto);return Math.min(Math.max(c/100,20),40)}),z=t(()=>({x:J+p.value/2-30,y:J+e.value+10,text:`${d.ancho}mm`,fontSize:O.value,fill:"black"})),u=t(()=>({x:J-25,y:J+e.value/2,text:`${d.alto}mm`,fontSize:O.value,fill:"black",rotation:-90,offsetX:O.value/2}));return(c,i)=>{const b=Y("v-line"),x=Y("v-rect"),g=Y("v-text"),H=Y("v-layer"),q=Y("v-stage");return h(),U(q,{config:{width:400,height:400}},{default:r(()=>[a(H,null,{default:r(()=>[a(b,{config:m.value},null,8,["config"]),a(b,{config:ue.value},null,8,["config"]),a(b,{config:$.value},null,8,["config"]),a(b,{config:oe.value},null,8,["config"]),a(x,{config:w.value},null,8,["config"]),a(g,{config:z.value},null,8,["config"]),a(g,{config:u.value},null,8,["config"])]),_:1})]),_:1})}}},ml={style:{"margin-bottom":"10px"}},K=50,fl=60,Te=0,Ta=300,hl={__name:"VistaVentanaAbatirS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],material:[String,Number],tipoVidrio:[String,Number],productoVidrioProveedor:[String,Number],ladoInicial:{type:String,default:"izquierda",validator:R=>["izquierda","derecha"].includes(R)},direccionApertura:{type:String,default:"interior",validator:R=>["interior","exterior"].includes(R)}},emits:["update:ladoApertura","update:direccionApertura"],setup(R,{expose:xe,emit:s}){const W=R,B=s,d=pe(W.ladoInicial),k=pe(W.direccionApertura);Se(d,_=>{console.log("üîÑ Lado apertura cambi√≥ a:",_),B("update:ladoApertura",_)}),Se(k,_=>{console.log("üîÑ Direcci√≥n apertura cambi√≥ a:",_),B("update:direccionApertura",_)});const y={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},p={roble:new Image,nogal:new Image};p.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,p.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const e=t(()=>{var M,F,n;const _=typeof W.colorMarco=="object"?(F=(M=W.colorMarco)==null?void 0:M.nombre)==null?void 0:F.toLowerCase():(n=W.colorMarco)==null?void 0:n.toLowerCase();return y[_]||"#ffffff"});function m(_,M=!1){var n,l;const F=typeof W.colorMarco=="object"?(l=(n=W.colorMarco)==null?void 0:n.nombre)==null?void 0:l.toLowerCase():W.colorMarco.toLowerCase();return["roble","nogal"].includes(F)&&p[F]?{points:_,closed:!0,fillPatternImage:p[F],fillPatternRepeat:"repeat",fillPatternScale:{x:M?.15:.2,y:M?.15:.2},stroke:"black"}:{points:_,closed:!0,fill:e.value,stroke:"black"}}const ue=t(()=>{const _=Ta/W.ancho,M=Ta/W.alto;return Math.min(_,M,1)*.9}),$=t(()=>fl*ue.value),oe=t(()=>W.ancho*ue.value),w=t(()=>W.alto*ue.value),O={width:400,height:400},z=t(()=>m([K,K,K+oe.value,K,K+oe.value-$.value,K+$.value,K+$.value,K+$.value])),u=t(()=>m([K+oe.value,K,K+oe.value,K+w.value,K+oe.value-$.value,K+w.value-$.value,K+oe.value-$.value,K+$.value])),c=t(()=>m([K+oe.value,K+w.value,K,K+w.value,K+$.value,K+w.value-$.value,K+oe.value-$.value,K+w.value-$.value])),i=t(()=>m([K,K+w.value,K,K,K+$.value,K+$.value,K+$.value,K+w.value-$.value])),b=t(()=>({x:K+$.value,y:K+$.value,width:oe.value-$.value*2,height:w.value-$.value*2,fill:"#b3e5fc",stroke:"black"})),x=t(()=>b.value.x+Te*ue.value),g=t(()=>b.value.y+Te*ue.value),H=t(()=>b.value.width-Te*2*ue.value),q=t(()=>b.value.height-Te*2*ue.value),ae=t(()=>$.value*.8),v=t(()=>m([x.value,g.value,x.value+H.value,g.value,x.value+H.value-ae.value,g.value+ae.value,x.value+ae.value,g.value+ae.value],!0)),V=t(()=>m([x.value+H.value,g.value,x.value+H.value,g.value+q.value,x.value+H.value-ae.value,g.value+q.value-ae.value,x.value+H.value-ae.value,g.value+ae.value],!0)),L=t(()=>m([x.value+H.value,g.value+q.value,x.value,g.value+q.value,x.value+ae.value,g.value+q.value-ae.value,x.value+H.value-ae.value,g.value+q.value-ae.value],!0)),I=t(()=>m([x.value,g.value+q.value,x.value,g.value,x.value+ae.value,g.value+ae.value,x.value+ae.value,g.value+q.value-ae.value],!0)),D=t(()=>d.value==="izquierda"?x.value+H.value-15:x.value+15),E=t(()=>g.value+q.value/2),Ie=t(()=>d.value==="izquierda"?{points:[x.value+5,g.value+5,x.value+H.value-5,g.value+q.value/2],stroke:"black",dash:[10,5],strokeWidth:2}:{points:[x.value+H.value-5,g.value+5,x.value+5,g.value+q.value/2],stroke:"black",dash:[10,5],strokeWidth:2}),ze=t(()=>d.value==="izquierda"?{points:[x.value+5,g.value+q.value-5,x.value+H.value-5,g.value+q.value/2],stroke:"black",dash:[10,5],strokeWidth:2}:{points:[x.value+H.value-5,g.value+q.value-5,x.value+5,g.value+q.value/2],stroke:"black",dash:[10,5],strokeWidth:2}),Ve=t(()=>Math.min(Math.max(W.ancho/100,20),40)),ye=t(()=>({x:K+oe.value/2-30,y:K+w.value+10,text:`${W.ancho}mm`,fontSize:Ve.value,fill:"black"})),we=t(()=>({x:K-25,y:K+w.value/2,text:`${W.alto}mm`,fontSize:Ve.value,fill:"black",rotation:-90,offsetX:Ve.value/2})),qe=t(()=>({x:ye.value.x,y:ye.value.y+Ve.value+5,text:`Apertura ${k.value.charAt(0).toUpperCase()}${k.value.slice(1)}`,fontSize:Math.min(18,Ve.value*.8),fill:"black"})),N=pe(null);return xe({exportarImagen:()=>N.value?N.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null}),(_,M)=>{const F=Y("v-line"),n=Y("v-rect"),l=Y("v-text"),o=Y("v-layer"),A=Y("v-stage");return h(),te("div",null,[be("div",ml,[a(ce,{modelValue:d.value,"onUpdate:modelValue":M[0]||(M[0]=f=>d.value=f),row:"",density:"compact",label:"Lado de apertura:"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(ce,{modelValue:k.value,"onUpdate:modelValue":M[1]||(M[1]=f=>k.value=f),row:"",density:"compact",label:"Direcci√≥n de apertura:"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),a(A,{ref_key:"stageRef",ref:N,config:O},{default:r(()=>[a(o,null,{default:r(()=>[a(F,{config:z.value},null,8,["config"]),a(F,{config:u.value},null,8,["config"]),a(F,{config:c.value},null,8,["config"]),a(F,{config:i.value},null,8,["config"]),a(n,{config:b.value},null,8,["config"]),a(F,{config:v.value},null,8,["config"]),a(F,{config:V.value},null,8,["config"]),a(F,{config:L.value},null,8,["config"]),a(F,{config:I.value},null,8,["config"]),a(De,{x:D.value,y:E.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),a(F,{config:Ie.value},null,8,["config"]),a(F,{config:ze.value},null,8,["config"]),a(l,{config:ye.value},null,8,["config"]),a(l,{config:we.value},null,8,["config"]),a(l,{config:qe.value},null,8,["config"])]),_:1})]),_:1},512)])}}},Q=50,gl=60,bl=80,Oa=300,Vl={__name:"VistaPuertaS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],ladoApertura:{type:String,default:"izquierda",validator:R=>["izquierda","derecha"].includes(R)},direccionApertura:{type:String,default:"interior",validator:R=>["interior","exterior"].includes(R)},pasoLibre:{type:Boolean,default:!1}},setup(R,{expose:xe}){const s=R;pe(s.ladoApertura);const W={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},B={roble:new Image,nogal:new Image};B.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,B.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const d=t(()=>{var _,M,F;const j=typeof s.colorMarco=="object"?(M=(_=s.colorMarco)==null?void 0:_.nombre)==null?void 0:M.toLowerCase():(F=s.colorMarco)==null?void 0:F.toLowerCase();return W[j]||"#ffffff"});function k(j,_=!1){var F,n;const M=typeof s.colorMarco=="object"?(n=(F=s.colorMarco)==null?void 0:F.nombre)==null?void 0:n.toLowerCase():s.colorMarco.toLowerCase();return["roble","nogal"].includes(M)&&B[M]?{points:j,closed:!0,fillPatternImage:B[M],fillPatternRepeat:"repeat",fillPatternScale:{x:_?.15:.2,y:_?.15:.2},stroke:"black"}:{points:j,closed:!0,fill:d.value,stroke:"black"}}const y=t(()=>{const j=Oa/s.ancho,_=Oa/s.alto;return Math.min(j,_,1)*.9}),p=t(()=>gl*y.value),e=t(()=>s.ancho*y.value),m=t(()=>s.alto*y.value),ue=t(()=>k([Q,Q,Q+e.value,Q,Q+e.value-p.value,Q+p.value,Q+p.value,Q+p.value])),$=t(()=>k([Q+e.value,Q,Q+e.value,Q+m.value,Q+e.value-p.value,Q+m.value-(s.pasoLibre?0:p.value),Q+e.value-p.value,Q+p.value])),oe=t(()=>k([Q,Q+m.value,Q,Q,Q+p.value,Q+p.value,Q+p.value,Q+m.value-(s.pasoLibre?0:p.value)])),w=t(()=>s.pasoLibre?null:k([Q+e.value,Q+m.value,Q,Q+m.value,Q+p.value,Q+m.value-p.value,Q+e.value-p.value,Q+m.value-p.value])),O=t(()=>{const j=m.value-p.value-(s.pasoLibre?0:p.value),_=Math.max(j,5),M=Math.max(e.value-p.value*2,5);return{x:Q+p.value,y:Q+p.value,width:M,height:_,fill:"#b3e5fc",stroke:"black"}}),z=t(()=>O.value.x),u=t(()=>O.value.y),c=t(()=>O.value.width),i=t(()=>O.value.height),b=t(()=>{const j=bl*y.value,_=p.value*1.15,M=c.value*.45;return Math.min(Math.max(j,_),M)}),x=t(()=>k([z.value,u.value,z.value+c.value,u.value,z.value+c.value-b.value,u.value+b.value,z.value+b.value,u.value+b.value],!0)),g=t(()=>k([z.value+c.value,u.value,z.value+c.value,u.value+i.value,z.value+c.value-b.value,u.value+i.value-b.value,z.value+c.value-b.value,u.value+b.value],!0)),H=t(()=>k([z.value+c.value,u.value+i.value,z.value,u.value+i.value,z.value+b.value,u.value+i.value-b.value,z.value+c.value-b.value,u.value+i.value-b.value],!0)),q=t(()=>k([z.value,u.value+i.value,z.value,u.value,z.value+b.value,u.value+b.value,z.value+b.value,u.value+i.value-b.value],!0)),ae=t(()=>s.ladoApertura==="izquierda"?z.value+c.value-15:z.value+15),v=t(()=>u.value+i.value/2),V=t(()=>s.direccionApertura==="interior"?0:Math.min(Math.max(c.value*.1,8*y.value),25*y.value)),L=t(()=>{const j=s.ladoApertura==="izquierda",_=V.value*(j?-1:1),M=j?z.value:z.value+c.value,F=u.value+8,n=u.value+i.value-8,l=u.value+i.value/2,o=j?z.value+c.value-8:z.value+8,A=M+_;return[{points:[A,F,o,l],stroke:"black",dash:[10,5],strokeWidth:2},{points:[A,n,o,l],stroke:"black",dash:[10,5],strokeWidth:2}]}),I=t(()=>Math.min(Math.max(s.ancho/100,20),40)),D=t(()=>({x:Q+e.value/2-30,y:Q+m.value+10,text:`${s.ancho}mm`,fontSize:I.value,fill:"black"})),E=t(()=>({x:Q-25,y:Q+m.value/2,text:`${s.alto}mm`,fontSize:I.value,fill:"black",rotation:-90,offsetX:I.value/2})),Ie=t(()=>({x:D.value.x,y:D.value.y+I.value+5,text:`Apertura ${s.direccionApertura.charAt(0).toUpperCase()}${s.direccionApertura.slice(1)}`,fontSize:Math.min(18,I.value*.8),fill:"black"})),ze=pe(null);xe({exportarImagen:()=>ze.value?ze.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null});const ye=t(()=>Math.max(28*y.value,p.value*.45)),we=t(()=>Math.min(Math.max(140*y.value,30*y.value),i.value*.4));t(()=>2*y.value);const qe=t(()=>s.direccionApertura==="interior"),N=t(()=>{if(!qe.value)return[];let j=i.value>2200?4:3;const _=Math.max(i.value-16*y.value,20);let M=we.value;M*j>_*.85&&(M=_*.85/j);const F=(_-M*j)/(j+1),n=[];for(let l=0;l<j;l++){const o=u.value+8*y.value+F*(l+1)+M*l,A=s.ladoApertura==="izquierda"?z.value-ye.value/2+2*y.value:z.value+c.value-ye.value/2-2*y.value;n.push({x:A,y:o,width:ye.value,height:M,fill:"#888",stroke:"black",cornerRadius:2})}return n});return(j,_)=>{const M=Y("v-line"),F=Y("v-rect"),n=Y("v-text"),l=Y("v-layer"),o=Y("v-stage");return h(),te("div",null,[a(o,{ref_key:"stageRef",ref:ze,config:{width:400,height:400}},{default:r(()=>[a(l,null,{default:r(()=>[a(M,{config:ue.value},null,8,["config"]),a(M,{config:$.value},null,8,["config"]),a(M,{config:oe.value},null,8,["config"]),w.value?(h(),U(M,{key:0,config:w.value},null,8,["config"])):ne("",!0),a(F,{config:O.value},null,8,["config"]),a(M,{config:x.value},null,8,["config"]),a(M,{config:g.value},null,8,["config"]),a(M,{config:H.value},null,8,["config"]),a(M,{config:q.value},null,8,["config"]),a(De,{x:ae.value,y:v.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),(h(!0),te(ie,null,_e(L.value,(A,f)=>(h(),U(M,{key:"apertura-"+f,config:A},null,8,["config"]))),128)),(h(!0),te(ie,null,_e(N.value,(A,f)=>(h(),U(F,{key:"hinge-"+f,config:A},null,8,["config"]))),128)),a(n,{config:D.value},null,8,["config"]),a(n,{config:E.value},null,8,["config"]),a(n,{config:Ie.value},null,8,["config"])]),_:1})]),_:1},512)])}}},Z=50,yl=60,xl=80,Ha=320,Al={__name:"VistaMamparaS60",props:{ancho:Number,alto:Number,colorMarco:[String,Object],hojaActiva:{type:String,default:"derecha",validator:R=>["izquierda","derecha"].includes(R)},direccionApertura:{type:String,default:"interior",validator:R=>["interior","exterior"].includes(R)},pasoLibre:{type:Boolean,default:!1}},setup(R,{expose:xe}){const s=R,W={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},B={roble:new Image,nogal:new Image};B.roble.src=new URL("/assets/roble-DlssfbLU.png",import.meta.url).href,B.nogal.src=new URL("/assets/nogal-Lbu-T-XE.png",import.meta.url).href;const d=t(()=>{var X,C,P;const f=typeof s.colorMarco=="object"?(C=(X=s.colorMarco)==null?void 0:X.nombre)==null?void 0:C.toLowerCase():(P=s.colorMarco)==null?void 0:P.toLowerCase();return W[f]||"#ffffff"});function k(f,X=!1){var P,le,ve;const C=typeof s.colorMarco=="object"?(le=(P=s.colorMarco)==null?void 0:P.nombre)==null?void 0:le.toLowerCase():(ve=s.colorMarco)==null?void 0:ve.toLowerCase();return["roble","nogal"].includes(C)&&B[C]?{points:f,closed:!0,fillPatternImage:B[C],fillPatternRepeat:"repeat",fillPatternScale:{x:X?.15:.2,y:X?.15:.2},stroke:"black"}:{points:f,closed:!0,fill:d.value,stroke:"black"}}const y=t(()=>Math.min(Ha/s.ancho,Ha/s.alto,1)*.9),p=t(()=>yl*y.value),e=t(()=>s.ancho*y.value),m=t(()=>s.alto*y.value),ue=t(()=>k([Z,Z,Z+e.value,Z,Z+e.value-p.value,Z+p.value,Z+p.value,Z+p.value])),$=t(()=>k([Z+e.value,Z,Z+e.value,Z+m.value,Z+e.value-p.value,Z+m.value-(s.pasoLibre?0:p.value),Z+e.value-p.value,Z+p.value])),oe=t(()=>k([Z,Z+m.value,Z,Z,Z+p.value,Z+p.value,Z+p.value,Z+m.value-(s.pasoLibre?0:p.value)])),w=t(()=>s.pasoLibre?null:k([Z+e.value,Z+m.value,Z,Z+m.value,Z+p.value,Z+m.value-p.value,Z+e.value-p.value,Z+m.value-p.value])),O=t(()=>{const f=Math.max(e.value-2*p.value,5),X=Math.max(m.value-p.value-(s.pasoLibre?0:p.value),5);return{x:Z+p.value,y:Z+p.value,width:f,height:X,fill:"#b3e5fc",stroke:"black"}}),z=t(()=>Math.max(6*y.value,p.value*.15)),u=t(()=>{const f=(O.value.width-z.value)/2;return{x:O.value.x,y:O.value.y,w:f,h:O.value.height}}),c=t(()=>{const f=(O.value.width-z.value)/2;return{x:O.value.x+f+z.value,y:O.value.y,w:f,h:O.value.height}}),i=t(()=>{const f=xl*y.value,X=p.value*1.15,C=Math.min(u.value.w,c.value.w)*.45;return Math.min(Math.max(f,X),C)}),b=t(()=>k([u.value.x,u.value.y,u.value.x+u.value.w,u.value.y,u.value.x+u.value.w-i.value,u.value.y+i.value,u.value.x+i.value,u.value.y+i.value],!0)),x=t(()=>k([u.value.x+u.value.w,u.value.y,u.value.x+u.value.w,u.value.y+u.value.h,u.value.x+u.value.w-i.value,u.value.y+u.value.h-i.value,u.value.x+u.value.w-i.value,u.value.y+i.value],!0)),g=t(()=>k([u.value.x+u.value.w,u.value.y+u.value.h,u.value.x,u.value.y+u.value.h,u.value.x+i.value,u.value.y+u.value.h-i.value,u.value.x+u.value.w-i.value,u.value.y+u.value.h-i.value],!0)),H=t(()=>k([u.value.x,u.value.y+u.value.h,u.value.x,u.value.y,u.value.x+i.value,u.value.y+i.value,u.value.x+i.value,u.value.y+u.value.h-i.value],!0)),q=t(()=>k([c.value.x,c.value.y,c.value.x+c.value.w,c.value.y,c.value.x+c.value.w-i.value,c.value.y+i.value,c.value.x+i.value,c.value.y+i.value],!0)),ae=t(()=>k([c.value.x+c.value.w,c.value.y,c.value.x+c.value.w,c.value.y+c.value.h,c.value.x+c.value.w-i.value,c.value.y+c.value.h-i.value,c.value.x+c.value.w-i.value,c.value.y+i.value],!0)),v=t(()=>k([c.value.x+c.value.w,c.value.y+c.value.h,c.value.x,c.value.y+c.value.h,c.value.x+i.value,c.value.y+c.value.h-i.value,c.value.x+c.value.w-i.value,c.value.y+c.value.h-i.value],!0)),V=t(()=>k([c.value.x,c.value.y+c.value.h,c.value.x,c.value.y,c.value.x+i.value,c.value.y+i.value,c.value.x+i.value,c.value.y+c.value.h-i.value],!0)),L=t(()=>s.hojaActiva==="izquierda"?u.value.x+u.value.w-12:c.value.x+12),I=t(()=>O.value.y+O.value.height/2);function D(f){return s.direccionApertura==="interior"?0:Math.min(Math.max(f.w*.1,8*y.value),25*y.value)}function E(f,X){const C=X==="left",P=D(f)*(C?-1:1),ve=(C?f.x:f.x+f.w)+P,Ce=f.y+f.h/2,se=f.y+8,me=f.y+f.h-8,Ae=C?f.x+f.w-8:f.x+8;return[{points:[ve,se,Ae,Ce],stroke:"black",dash:[10,5],strokeWidth:2},{points:[ve,me,Ae,Ce],stroke:"black",dash:[10,5],strokeWidth:2}]}const Ie=t(()=>E(u.value,"left")),ze=t(()=>E(c.value,"right")),Ve=t(()=>s.direccionApertura==="interior"),ye=t(()=>Math.max(28*y.value,p.value*.45)),we=t(()=>Math.min(Math.max(140*y.value,30*y.value),Math.min(u.value.h,c.value.h)*.4)),qe=t(()=>2*y.value);function N(f,X){const C=[];let P=f.h>2200*y.value?4:3;const le=Math.max(f.h-16*y.value,20);let ve=we.value;ve*P>le*.85&&(ve=le*.85/P);const Ce=(le-ve*P)/(P+1);for(let se=0;se<P;se++){const me=f.y+8*y.value+Ce*(se+1)+ve*se,Ae=X==="left"?f.x-ye.value/2+qe.value:f.x+f.w-ye.value/2-qe.value;C.push({x:Ae,y:me,width:ye.value,height:ve,fill:"#888",stroke:"black",cornerRadius:2})}return C}const j=t(()=>Ve.value?N(u.value,"left"):[]),_=t(()=>Ve.value?N(c.value,"right"):[]),M=t(()=>Math.min(Math.max(s.ancho/100,20),40)),F=t(()=>({x:Z+e.value/2-30,y:Z+m.value+10,text:`${s.ancho}mm`,fontSize:M.value,fill:"black"})),n=t(()=>({x:Z-25,y:Z+m.value/2,text:`${s.alto}mm`,fontSize:M.value,fill:"black",rotation:-90,offsetX:M.value/2})),l=t(()=>({x:F.value.x,y:F.value.y+M.value+5,text:`Apertura ${s.direccionApertura.charAt(0).toUpperCase()}${s.direccionApertura.slice(1)}`,fontSize:Math.min(18,M.value*.8),fill:"black"})),o=pe(null);return xe({exportarImagen:()=>o.value?o.value.getStage().toDataURL({pixelRatio:1,quality:.9}):null}),(f,X)=>{const C=Y("v-line"),P=Y("v-rect"),le=Y("v-text"),ve=Y("v-layer"),Ce=Y("v-stage");return h(),te("div",null,[a(Ce,{ref_key:"stageRef",ref:o,config:{width:420,height:420}},{default:r(()=>[a(ve,null,{default:r(()=>[a(C,{config:ue.value},null,8,["config"]),a(C,{config:$.value},null,8,["config"]),a(C,{config:oe.value},null,8,["config"]),w.value?(h(),U(C,{key:0,config:w.value},null,8,["config"])):ne("",!0),a(P,{config:O.value},null,8,["config"]),a(C,{config:b.value},null,8,["config"]),a(C,{config:x.value},null,8,["config"]),a(C,{config:g.value},null,8,["config"]),a(C,{config:H.value},null,8,["config"]),a(C,{config:q.value},null,8,["config"]),a(C,{config:ae.value},null,8,["config"]),a(C,{config:v.value},null,8,["config"]),a(C,{config:V.value},null,8,["config"]),a(De,{x:L.value,y:I.value,width:6,height:20,rotation:0,offsetX:3,offsetY:10},null,8,["x","y"]),(h(!0),te(ie,null,_e(Ie.value,(se,me)=>(h(),U(C,{key:"apertura-left-"+me,config:se},null,8,["config"]))),128)),(h(!0),te(ie,null,_e(ze.value,(se,me)=>(h(),U(C,{key:"apertura-right-"+me,config:se},null,8,["config"]))),128)),(h(!0),te(ie,null,_e(j.value,(se,me)=>(h(),U(P,{key:"hl-"+me,config:se},null,8,["config"]))),128)),(h(!0),te(ie,null,_e(_.value,(se,me)=>(h(),U(P,{key:"hr-"+me,config:se},null,8,["config"]))),128)),a(le,{config:F.value},null,8,["config"]),a(le,{config:n.value},null,8,["config"]),a(le,{config:l.value},null,8,["config"])]),_:1})]),_:1},512)])}}},Ml={style:{"margin-bottom":"10px"}},G=40,kl=54,_l=98,Ba=20,Xa=300,zl={__name:"VistaVentanaCorredera98",props:{ancho:Number,alto:Number,colorMarco:{type:String,default:"blanco"},hojasMoviles:{type:Number,default:"2"},hojaMovilSeleccionada:{type:Number,default:1},ordenHoja1AlFrente:{type:Boolean,default:!0},color:Object},setup(R,{expose:xe}){const s=pe(null);xe({exportarImagen:()=>{if(console.log("üñºÔ∏è exportarImagen llamado en VentanaCorredera"),console.log("üñºÔ∏è stageRef.value:",s.value),s.value)try{const n=s.value.getStage();console.log("üñºÔ∏è stage obtenido:",n),n.draw();const l=n.toDataURL({pixelRatio:1,quality:.9});return console.log("üñºÔ∏è dataURL generado:",l.substring(0,50)),l}catch(n){return console.error("‚ùå Error en exportarImagen:",n),null}return console.warn("‚ö†Ô∏è stageRef no disponible"),null}});const B={roble:null,nogal:null};Fa(()=>{const n=(l,o)=>{const A=new Image;A.src=l,A.onload=()=>{B[o]=A}};n(Ya,"roble"),n(Ga,"nogal")});const d=R,k=t(()=>d.colorMarco.toLowerCase());function y(n){const l=k.value.toLowerCase();return["roble","nogal"].includes(l)&&B[l]?{points:n,closed:!0,fillPatternImage:B[l],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:n,closed:!0,fill:w.value,stroke:"black"}}const p=pe(d.ordenHoja1AlFrente),e=t(()=>ue.value),m=t(()=>$.value);Se(()=>d.ordenHoja1AlFrente,n=>{p.value=n});const ue=t(()=>d.hojasMoviles===2||d.hojaMovilSeleccionada===1),$=t(()=>d.hojasMoviles===2||d.hojaMovilSeleccionada===2),oe={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b"},w=t(()=>{var l,o;const n=(o=(l=d.colorMarco)==null?void 0:l.toLowerCase)==null?void 0:o.call(l);return oe[n]||"#ffffff"}),O=t(()=>{const n=Xa/d.ancho,l=Xa/d.alto;return Math.min(n,l,1)*.9}),z=t(()=>kl*O.value),u=t(()=>_l*O.value),c=t(()=>d.ancho*O.value),i=t(()=>d.alto*O.value),b=t(()=>Ba*O.value);function x(n){const l=d.colorMarco.toLowerCase();return["roble","nogal"].includes(l)&&B[l]?{points:n,closed:!0,fillPatternImage:B[l],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:n,closed:!0,fill:w.value,stroke:"black"}}const g=t(()=>x([G,G,G+c.value,G,G+c.value-z.value,G+z.value,G+z.value,G+z.value])),H=t(()=>x([G+c.value,G,G+c.value,G+i.value,G+c.value-z.value,G+i.value-z.value,G+c.value-z.value,G+z.value])),q=t(()=>x([G+c.value,G+i.value,G,G+i.value,G+z.value,G+i.value-z.value,G+c.value-z.value,G+i.value-z.value])),ae=t(()=>x([G,G+i.value,G,G,G+z.value,G+z.value,G+z.value,G+i.value-z.value])),v=t(()=>(c.value-z.value*2+Ba)/2),V=t(()=>i.value-z.value*2),L=t(()=>G+z.value),I=t(()=>G+z.value),D=t(()=>G+c.value-z.value-v.value+b.value-u.value*.22),E=I,Ie=t(()=>p.value?[{points:[L.value,I.value,L.value+v.value,I.value,L.value+v.value-u.value,I.value+u.value,L.value+u.value,I.value+u.value],closed:!0,fill:w.value,stroke:"black"},{points:[L.value+v.value,I.value,L.value+v.value,I.value+V.value,L.value+v.value-u.value,I.value+V.value-u.value,L.value+v.value-u.value,I.value+u.value],closed:!0,fill:w.value,stroke:"black"},{points:[L.value+v.value,I.value+V.value,L.value,I.value+V.value,L.value+u.value,I.value+V.value-u.value,L.value+v.value-u.value,I.value+V.value-u.value],closed:!0,fill:w.value,stroke:"black"},{points:[L.value,I.value+V.value,L.value,I.value,L.value+u.value,I.value+u.value,L.value+u.value,I.value+V.value-u.value],closed:!0,fill:w.value,stroke:"black"}]:[{points:[L.value,I.value+V.value,L.value+u.value,I.value+V.value-u.value,L.value+v.value-u.value,I.value+V.value-u.value,L.value+v.value,I.value+V.value],closed:!0,fill:w.value,stroke:"black"},{points:[L.value,I.value+V.value,L.value,I.value,L.value+u.value,I.value+u.value,L.value+u.value,I.value+V.value-u.value],closed:!0,fill:w.value,stroke:"black"},{points:[L.value,I.value,L.value+v.value,I.value,L.value+v.value-u.value,I.value+u.value,L.value+u.value,I.value+u.value],closed:!0,fill:w.value,stroke:"black"},{points:[L.value+v.value,I.value,L.value+v.value,I.value+V.value,L.value+v.value-u.value,I.value+V.value-u.value,L.value+v.value-u.value,I.value+u.value],closed:!0,fill:w.value,stroke:"black"}]),ze=t(()=>p.value?[{points:[D.value,E.value,D.value+v.value,E.value,D.value+v.value-u.value,E.value+u.value,D.value+u.value,E.value+u.value],closed:!0,fill:w.value,stroke:"black"},{points:[D.value+v.value,E.value,D.value+v.value,E.value+V.value,D.value+v.value-u.value,E.value+V.value-u.value,D.value+v.value-u.value,E.value+u.value],closed:!0,fill:w.value,stroke:"black"},{points:[D.value+v.value,E.value+V.value,D.value,E.value+V.value,D.value+u.value,E.value+V.value-u.value,D.value+v.value-u.value,E.value+V.value-u.value],closed:!0,fill:w.value,stroke:"black"},{points:[D.value,E.value+V.value,D.value,E.value,D.value+u.value,E.value+u.value,D.value+u.value,E.value+V.value-u.value],closed:!0,fill:w.value,stroke:"black"}]:[{points:[D.value,E.value,D.value+v.value,E.value,D.value+v.value-u.value,E.value+u.value,D.value+u.value,E.value+u.value],closed:!0,fill:w.value,stroke:"black"},{points:[D.value+v.value,E.value,D.value+v.value,E.value+V.value,D.value+v.value-u.value,E.value+V.value-u.value,D.value+v.value-u.value,E.value+u.value],closed:!0,fill:w.value,stroke:"black"},{points:[D.value+v.value,E.value+V.value,D.value,E.value+V.value,D.value+u.value,E.value+V.value-u.value,D.value+v.value-u.value,E.value+V.value-u.value],closed:!0,fill:w.value,stroke:"black"},{points:[D.value,E.value+V.value,D.value,E.value,D.value+u.value,E.value+u.value,D.value+u.value,E.value+V.value-u.value],closed:!0,fill:w.value,stroke:"black"}]),Ve=t(()=>{if(p.value)return{x:L.value+u.value,y:I.value+u.value,width:v.value-u.value*2,height:V.value-u.value*2,fill:"lightblue",stroke:"black"};const n=u.value*.35+O.value*50,l=u.value*1.3+O.value*1;return{x:L.value+n,y:I.value+u.value,width:v.value-l-15,height:V.value-u.value*2,fill:"lightblue",stroke:"black"}}),ye=t(()=>{if(p.value){const n=u.value*.4+O.value*10,l=u.value*1.4+O.value*10;return{x:D.value+n+10,y:E.value+u.value,width:v.value-l-10,height:V.value-u.value*2,fill:"lightblue",stroke:"black"}}return{x:D.value+u.value,y:E.value+u.value,width:v.value-u.value*2,height:V.value-u.value*2,fill:"lightblue",stroke:"black"}}),we=t(()=>d.hojasMoviles===2||d.hojasMoviles===1&&d.hojaMovilSeleccionada===1?"‚Üí":"+"),qe=t(()=>d.hojasMoviles===2||d.hojasMoviles===1&&d.hojaMovilSeleccionada===2?"‚Üê":"+"),N=t(()=>({x:L.value+v.value/2-10,y:I.value+V.value/2+10,text:we.value,fontSize:30,fill:"black"})),j=t(()=>({x:D.value+v.value/2-10,y:E.value+V.value/2+10,text:qe.value,fontSize:30,fill:"black"})),_=t(()=>{const n=Math.max(d.ancho,d.alto);return Math.min(Math.max(n/100,20),40)}),M=t(()=>({x:G+c.value/2-30,y:G+i.value+10,text:`${d.ancho}mm`,fontSize:_.value,fill:"black"})),F=t(()=>({x:G-25,y:G+i.value/2,text:`${d.alto}mm`,fontSize:_.value,fill:"black",rotation:-90,offsetX:_.value/2}));return(n,l)=>{const o=Y("v-line"),A=Y("v-rect"),f=Y("v-text"),X=Y("v-layer"),C=Y("v-stage");return h(),te("div",null,[be("div",Ml,[a(Re,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=P=>p.value=P),label:"Hoja 1 adelante",density:"compact"},null,8,["modelValue"])]),a(C,{ref_key:"stageRef",ref:s,config:{width:400,height:400}},{default:r(()=>[a(X,null,{default:r(()=>[a(o,fe(he(g.value)),null,16),a(o,fe(he(H.value)),null,16),a(o,fe(he(q.value)),null,16),a(o,fe(he(ae.value)),null,16),p.value?(h(),te(ie,{key:0},[a(A,fe(he(ye.value)),null,16),(h(!0),te(ie,null,_e(ze.value,(P,le)=>(h(),U(o,Pe({key:"mitra-h2-"+le,ref_for:!0},y(P.points)),null,16))),128)),a(f,{x:D.value+v.value/2-10,y:Oe(E)+V.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(A,fe(he(Ve.value)),null,16),(h(!0),te(ie,null,_e(Ie.value,(P,le)=>(h(),U(o,Pe({key:"mitra-h1-"+le,ref_for:!0},y(P.points)),null,16))),128)),a(f,{x:L.value+v.value/2-10,y:I.value+V.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)):(h(),te(ie,{key:1},[a(A,fe(he(Ve.value)),null,16),(h(!0),te(ie,null,_e(Ie.value,(P,le)=>(h(),U(o,Pe({key:"mitra-h1-"+le,ref_for:!0},y(P.points)),null,16))),128)),a(f,{x:L.value+v.value/2-10,y:I.value+V.value/2-20,text:"2",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"]),a(A,fe(he(ye.value)),null,16),(h(!0),te(ie,null,_e(ze.value,(P,le)=>(h(),U(o,Pe({key:"mitra-h2-"+le,ref_for:!0},y(P.points)),null,16))),128)),a(f,{x:D.value+v.value/2-10,y:Oe(E)+V.value/2-20,text:"1",fontSize:"30",fontStyle:"bold",fill:"black"},null,8,["x","y"])],64)),a(f,fe(he(M.value)),null,16),a(f,fe(he(F.value)),null,16),a(f,fe(he(N.value)),null,16),a(f,fe(he(j.value)),null,16),e.value?(h(),U(De,{key:2,x:L.value+u.value-O.value*35,y:I.value+V.value/2,escalaManilla:O.value*4},null,8,["x","y","escalaManilla"])):ne("",!0),m.value?(h(),U(De,{key:3,x:D.value+v.value-u.value+O.value*35,y:Oe(E)+V.value/2,escalaManilla:O.value*4},null,8,["x","y","escalaManilla"])):ne("",!0)]),_:1})]),_:1},512)])}}},ee=40,Wa=300,Cl=54,jl=80,Il={__name:"VistaVentanaMonorriel",props:{ancho:{type:Number,required:!0},alto:{type:Number,required:!0},colorMarco:{type:String,default:"blanco"},ladoApertura:{type:String,default:"derecha",validator:R=>["izquierda","derecha"].includes(R)}},setup(R,{expose:xe}){const s=R,W={roble:null,nogal:null};Fa(()=>{const N=(j,_)=>{const M=new Image;M.src=j,M.onload=()=>W[_]=M};N(Ya,"roble"),N(Ga,"nogal")});const B={blanco:"#ffffff",negro:"#0a0a0a",gris:"#808080",grafito:"#2f2f2f",nogal:"#8b5a2b",roble:"#c9a36b"},d=t(()=>{var N,j;return B[(j=(N=s.colorMarco)==null?void 0:N.toLowerCase)==null?void 0:j.call(N)]||"#ffffff"});function k(N){var _,M;const j=(M=(_=s.colorMarco)==null?void 0:_.toLowerCase)==null?void 0:M.call(_);return["roble","nogal"].includes(j)&&W[j]?{points:N,closed:!0,fillPatternImage:W[j],fillPatternRepeat:"repeat",fillPatternScale:{x:.2,y:.2},stroke:"black"}:{points:N,closed:!0,fill:d.value,stroke:"black"}}const y=pe(null),p=t(()=>Math.min(Wa/s.ancho,Wa/s.alto,1)*.9),e=t(()=>Cl*p.value),m=t(()=>jl*p.value),ue=t(()=>s.ancho*p.value),$=t(()=>s.alto*p.value),oe=t(()=>s.ladoApertura==="derecha"),w=t(()=>k([ee,ee,ee+ue.value,ee,ee+ue.value-e.value,ee+e.value,ee+e.value,ee+e.value])),O=t(()=>k([ee+ue.value,ee,ee+ue.value,ee+$.value,ee+ue.value-e.value,ee+$.value-e.value,ee+ue.value-e.value,ee+e.value])),z=t(()=>k([ee+ue.value,ee+$.value,ee,ee+$.value,ee+e.value,ee+$.value-e.value,ee+ue.value-e.value,ee+$.value-e.value])),u=t(()=>k([ee,ee+$.value,ee,ee,ee+e.value,ee+e.value,ee+e.value,ee+$.value-e.value])),c=t(()=>ee+e.value),i=t(()=>ee+e.value),b=t(()=>Math.max(ue.value-2*e.value,5)),x=t(()=>Math.max($.value-2*e.value,5)),g=t(()=>Math.max(b.value/2,10)),H=t(()=>oe.value?{x:c.value+g.value,y:i.value,w:g.value,h:x.value}:{x:c.value,y:i.value,w:g.value,h:x.value}),q=t(()=>oe.value?{x:c.value,y:i.value,w:g.value,h:x.value}:{x:c.value+g.value,y:i.value,w:g.value,h:x.value}),ae=t(()=>({x:H.value.x,y:H.value.y,width:H.value.w,height:H.value.h,fill:"lightblue",stroke:"black"}));function v(N,j,_,M){return[k([N,j,N+_,j,N+_-m.value,j+m.value,N+m.value,j+m.value]),k([N+_,j,N+_,j+M,N+_-m.value,j+M-m.value,N+_-m.value,j+m.value]),k([N+_,j+M,N,j+M,N+m.value,j+M-m.value,N+_-m.value,j+M-m.value]),k([N,j+M,N,j,N+m.value,j+m.value,N+m.value,j+M-m.value])]}const V=t(()=>v(q.value.x,q.value.y,q.value.w,q.value.h)),L=t(()=>({x:q.value.x+m.value,y:q.value.y+m.value,width:Math.max(q.value.w-2*m.value,5),height:Math.max(q.value.h-2*m.value,5),fill:"lightblue",stroke:"black"})),I=t(()=>{const N=q.value.x+m.value/2,j=q.value.x+q.value.w-m.value/2;return oe.value?N:j}),D=t(()=>q.value.y+q.value.h/2),E=t(()=>oe.value?"‚Üí":"‚Üê"),Ie=t(()=>q.value.x+q.value.w/2-10),ze=t(()=>q.value.y+q.value.h/2-15),Ve=t(()=>Math.min(Math.max(Math.max(s.ancho,s.alto)/100,20),40)),ye=t(()=>({x:ee+ue.value/2-30,y:ee+$.value+10,text:`${s.ancho}mm`,fontSize:Ve.value,fill:"black"})),we=t(()=>({x:ee-25,y:ee+$.value/2,text:`${s.alto}mm`,fontSize:Ve.value,fill:"black",rotation:-90,offsetX:Ve.value/2}));return xe({exportarImagen:()=>{if(y.value){const N=y.value.getStage();return N.draw(),N.toDataURL({pixelRatio:1,quality:.9})}return null}}),(N,j)=>{const _=Y("v-line"),M=Y("v-rect"),F=Y("v-text"),n=Y("v-layer"),l=Y("v-stage");return h(),te("div",null,[a(l,{ref_key:"stageRef",ref:y,config:{width:400,height:400}},{default:r(()=>[a(n,null,{default:r(()=>[a(_,fe(he(w.value)),null,16),a(_,fe(he(O.value)),null,16),a(_,fe(he(z.value)),null,16),a(_,fe(he(u.value)),null,16),a(M,fe(he(ae.value)),null,16),a(M,fe(he(L.value)),null,16),(h(!0),te(ie,null,_e(V.value,(o,A)=>(h(),U(_,Pe({key:"hm-"+A,ref_for:!0},o),null,16))),128)),a(De,{x:I.value,y:D.value,escalaManilla:p.value*4},null,8,["x","y","escalaManilla"]),a(F,{x:Ie.value,y:ze.value,text:E.value,fontSize:30,fontStyle:"bold",fill:"black"},null,8,["x","y","text"]),a(F,fe(he(ye.value)),null,16),a(F,fe(he(we.value)),null,16)]),_:1})]),_:1},512)])}}},Sl=Object.assign({name:"VistaVentanaCompuestaInterna"},{__name:"VistaVentanaCompuestaInterna",props:{ancho:{type:[Number,String],required:!0},alto:{type:[Number,String],required:!0},colorMarco:{type:[String,Object],default:"blanco"},orientacion:{type:String,default:"horizontal"},items:{type:Array,default:()=>[]},escala:{type:Number,default:1},x:{type:Number,default:0},y:{type:Number,default:0},pathPrefix:{type:String,default:""}},emits:["agregar","agregar-borde","editar-ventana","eliminar-ventana"],setup(R,{emit:xe}){const s=xe,W=pe(new Map),B=pe(new Map),d=R;function k(i){s("agregar",i)}function y(i){console.log("üîß Editando ventana por path:",i),s("editar-ventana",i)}function p(i){s("eliminar-ventana",i)}function e(i,b){console.log("üîß Click en bot√≥n editar:",b),i&&i.evt&&i.evt.stopPropagation&&i.evt.stopPropagation(),y(b)}function m(i,b){console.log("üóëÔ∏è Click en bot√≥n eliminar:",b),i&&i.evt&&i.evt.stopPropagation&&i.evt.stopPropagation(),p(b)}function ue(i){const b=Date.now(),x=B.value.get(i)||0,g=b-x;if(console.log(`üëÜ Click en ventana ${i}, tiempo desde √∫ltimo: ${g}ms`),g<400&&g>50){console.log("üéØ ¬°DOBLE CLICK detectado! Editando ventana:",i),W.value.has(i)&&(clearTimeout(W.value.get(i)),W.value.delete(i)),B.value.delete(i),y(i);return}B.value.set(i,b),W.value.has(i)&&clearTimeout(W.value.get(i));const H=setTimeout(()=>{console.log("‚è±Ô∏è Timer expirado para ventana:",i),B.value.delete(i),W.value.delete(i)},400);W.value.set(i,H)}Ja(()=>{W.value.forEach(i=>clearTimeout(i)),W.value.clear(),B.value.clear()});const $=t(()=>Number(d.ancho)||1),oe=t(()=>Number(d.alto)||1),w=t(()=>d.items.filter(i=>i&&(typeof i.tipo=="number"||i.tipo==="compuesta")&&i.tipo!==null&&i.tipo!==void 0)),O=t(()=>{const i=w.value.length;if(!i)return[];const b=w.value.reduce((x,g)=>{const H=Number(g==null?void 0:g.sizePercent)||0;return x+H},0);return b>0?w.value.map(x=>{const g=Number(x==null?void 0:x.sizePercent)||0;return Math.max(0,Math.min(1,g/b))}):Array(i).fill(1/i)});Se(()=>d.items,()=>{console.log("üîÑ Items cambiaron, forzando rec√°lculo de segmentos")},{deep:!0});const z=t(()=>{console.log("üéØ INTERNA - RECALCULANDO SEGMENTOS"),console.log("Props colorMarco:",d.colorMarco);const i=[];let b=0,x=0;return w.value.forEach((g,H)=>{let q,ae;if(g.ancho&&g.alto)q=Number(g.ancho),ae=Number(g.alto),console.log(`üìê Ventana ${H} - Usando dimensiones espec√≠ficas:`,{ancho:q,alto:ae});else{const D=O.value[H]||0;d.orientacion==="horizontal"?(q=$.value*D,ae=oe.value):(q=$.value,ae=oe.value*D),console.log(`üìê Ventana ${H} - Calculado por porcentaje:`,{ancho:q,alto:ae,porcentaje:D})}const v=d.x+(d.orientacion==="horizontal"?b*d.escala:0),V=d.y+(d.orientacion==="vertical"?x*d.escala:0),L=d.pathPrefix?`${d.pathPrefix}.${H}`:`${H}`,I={x:v,y:V,ancho:q,alto:ae,escala:d.escala,colorMarco:d.colorMarco};(g==null?void 0:g.tipo)==="compuesta"?i.push({key:"comp-"+H,path:L,isCompuesta:!0,props:{...I,orientacion:g.orientacion||"horizontal",items:g.items||[],pathPrefix:L}}):i.push({key:"simple-"+H,path:L,isCompuesta:!1,props:{...I,tipo:g.tipo,ladoApertura:g.ladoApertura||"izquierda",direccionApertura:g.direccionApertura||"interior"}}),d.orientacion==="horizontal"?b+=q:x+=ae}),i}),u=i=>{if(d.orientacion==="horizontal"){let b=d.x;for(let x=0;x<i;x++){const g=w.value[x];if(g!=null&&g.ancho)b+=Number(g.ancho)*d.escala;else{const H=O.value[x]||0;b+=$.value*H*d.escala}}return b}return d.x+$.value*d.escala/2},c=i=>{if(d.orientacion==="vertical"){let b=d.y;for(let x=0;x<i;x++){const g=w.value[x];if(g!=null&&g.alto)b+=Number(g.alto)*d.escala;else{const H=O.value[x]||0;b+=oe.value*H*d.escala}}return b}return d.y+oe.value*d.escala/2};return(i,b)=>{const x=Y("v-rect"),g=Y("v-circle"),H=Y("v-text"),q=Y("v-group"),ae=Y("VistaVentanaCompuestaInterna",!0);return h(),U(q,null,{default:r(()=>[(h(!0),te(ie,null,_e(z.value,v=>(h(),te(ie,{key:v.key},[v.isCompuesta?(h(),U(ae,Pe({key:1,ref_for:!0},v.props,{"path-prefix":v.path,onAgregar:b[0]||(b[0]=V=>s("agregar",V)),onAgregarBorde:b[1]||(b[1]=V=>s("agregar-borde",V)),onEditarVentana:b[2]||(b[2]=V=>s("editar-ventana",V)),onEliminarVentana:b[3]||(b[3]=V=>s("eliminar-ventana",V))}),null,16,["path-prefix"])):(h(),U(q,{key:0},{default:r(()=>[a(el,Pe({ref_for:!0},v.props,{color:v.props.colorMarco,colorMarco:v.props.colorMarco}),null,16,["color","colorMarco"]),a(x,{x:v.props.x,y:v.props.y,width:v.props.ancho*v.props.escala,height:v.props.alto*v.props.escala,fill:"transparent",onClick:V=>ue(v.path),style:{cursor:"pointer"}},null,8,["x","y","width","height","onClick"]),a(g,{x:v.props.x+v.props.ancho*v.props.escala-15,y:v.props.y+10,radius:8,fill:"#2196f3",opacity:"0.8",onClick:V=>e(V,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a(H,{x:v.props.x+v.props.ancho*v.props.escala-18,y:v.props.y+6,text:"‚úè",fontSize:"10",fill:"white",onClick:V=>e(V,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a(g,{x:v.props.x+v.props.ancho*v.props.escala-35,y:v.props.y+10,radius:8,fill:"#f44336",opacity:"0.8",onClick:V=>m(V,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"]),a(H,{x:v.props.x+v.props.ancho*v.props.escala-38,y:v.props.y+6,text:"‚úñ",fontSize:"10",fill:"white",onClick:V=>m(V,v.path),style:{cursor:"pointer"}},null,8,["x","y","onClick"])]),_:2},1024))],64))),128)),(h(!0),te(ie,null,_e(w.value.length+1,v=>(h(),U(q,{key:"plus-"+v,onClick:V=>k(v-1),style:{cursor:"pointer"}},{default:r(()=>[a(g,{x:u(v-1),y:c(v-1),radius:14,fill:"#fff",stroke:"#1976d2",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(H,{x:u(v-1)-7,y:c(v-1)-10,text:"+",fontSize:"24",fill:"#1976d2",fontStyle:"bold"},null,8,["x","y"])]),_:2},1032,["onClick"]))),128))]),_:1})}}}),wl=rl(Sl,[["__scopeId","data-v-86a7a837"]]),We=860,Fe=360,ql={__name:"VistaVentanaCompuestaDinamica",props:{ancho:{type:[Number,String],required:!0},alto:{type:[Number,String],required:!0},colorMarco:{type:[String,Object],default:"blanco"},orientacion:{type:String,default:"horizontal"},items:{type:Array,default:()=>[]},forceReRender:{type:Number,default:0}},emits:["agregar","agregar-borde","editar-ventana","eliminar-ventana"],setup(R,{emit:xe}){const s=xe,W=R,B=t(()=>Number(W.ancho)||1),d=t(()=>Number(W.alto)||1),k=t(()=>{const e=We/B.value,m=Fe/d.value,ue=Math.min(e,m);return Math.max(ue,.1)}),y=t(()=>{const e=B.value*k.value;return e<We?(We-e)/2+20:20}),p=t(()=>{const e=d.value*k.value;return e<Fe?(Fe-e)/2+20:20});return(e,m)=>{const ue=Y("v-rect"),$=Y("v-circle"),oe=Y("v-text"),w=Y("v-group"),O=Y("v-layer"),z=Y("v-stage");return h(),U(z,{config:{width:900,height:420}},{default:r(()=>[a(O,null,{default:r(()=>[a(ue,{x:0,y:0,width:900,height:420,stroke:"#444",strokeWidth:1}),(h(),U(wl,{key:`interna-${R.forceReRender}`,ancho:R.ancho,alto:R.alto,colorMarco:R.colorMarco,orientacion:R.orientacion,items:R.items,escala:k.value,x:y.value,y:p.value,onAgregar:m[0]||(m[0]=u=>s("agregar",u)),onAgregarBorde:m[1]||(m[1]=u=>s("agregar-borde",u)),onEditarVentana:m[2]||(m[2]=u=>s("editar-ventana",u)),onEliminarVentana:m[3]||(m[3]=u=>s("eliminar-ventana",u))},null,8,["ancho","alto","colorMarco","orientacion","items","escala","x","y"])),a(w,{onClick:m[4]||(m[4]=u=>s("agregar-borde","arriba")),style:{cursor:"pointer"}},{default:r(()=>[a($,{x:y.value+B.value*k.value/2,y:p.value-15,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(oe,{x:y.value+B.value*k.value/2-7,y:p.value-25,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(w,{onClick:m[5]||(m[5]=u=>s("agregar-borde","abajo")),style:{cursor:"pointer"}},{default:r(()=>[a($,{x:y.value+B.value*k.value/2,y:p.value+d.value*k.value+15,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(oe,{x:y.value+B.value*k.value/2-7,y:p.value+d.value*k.value+5,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(w,{onClick:m[6]||(m[6]=u=>s("agregar-borde","izquierda")),style:{cursor:"pointer"}},{default:r(()=>[a($,{x:y.value-15,y:p.value+d.value*k.value/2,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(oe,{x:y.value-22,y:p.value+d.value*k.value/2-10,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1}),a(w,{onClick:m[7]||(m[7]=u=>s("agregar-borde","derecha")),style:{cursor:"pointer"}},{default:r(()=>[a($,{x:y.value+B.value*k.value+15,y:p.value+d.value*k.value/2,radius:14,fill:"#fff",stroke:"#ff5722",strokeWidth:2,opacity:"0.85"},null,8,["x","y"]),a(oe,{x:y.value+B.value*k.value+8,y:p.value+d.value*k.value/2-10,text:"+",fontSize:"24",fill:"#ff5722",fontStyle:"bold"},null,8,["x","y"])]),_:1})]),_:1})]),_:1})}}},Pl={class:"d-flex align-center justify-space-between"},Ll={class:"text-h6"},Dl={class:"text-caption"},Ul=.45,$l={__name:"AgregarVentanaModal2",props:{mostrar:Boolean,materiales:Array,colores:Array,tiposVidrio:Array,tiposVentana:Array,productosVidrio:Array,ventana:Object,materialDefault:[String,Number],colorDefault:[String,Number],tipoVidrioDefault:[String,Number],productoVidrioDefault:[String,Number]},emits:["update:mostrar","guardar"],setup(R,{emit:xe}){const s=R,W=xe,B=pe(s.mostrar);Se(()=>s.mostrar,n=>{B.value=n}),Se(B,n=>{W("update:mostrar",n)});const d=t(()=>!!s.ventana),k=()=>({tipo:2,sizePercent:null,ladoApertura:"izquierda",direccionApertura:"interior"});function y(){const n=Math.min(Math.max(Number(e.value.cantidadComp||2),2),8);if(e.value.cantidadComp=n,e.value.itemsComp||(e.value.itemsComp=[]),e.value.itemsComp.length<n){const l=n-e.value.itemsComp.length;for(let o=0;o<l;o++)e.value.itemsComp.push(k())}else e.value.itemsComp.length>n&&e.value.itemsComp.splice(n);e.value.itemsComp.forEach(l=>{l.tipo||(l.tipo=2)}),console.log("ajustarCantidadItems ejecutado, items finales:",e.value.itemsComp)}const p={tipo:null,ancho:null,alto:null,cantidad:1,material:s.materialDefault??null,color:s.colorDefault??null,tipoVidrio:s.tipoVidrioDefault??null,productoVidrioProveedor:s.productoVidrioDefault??null,hojas_totales:2,hojas_moviles:2,materiales:[],costo_total:0,costo_total_unitario:0,costo:0,precio_unitario:0,precio:0,hoja1AlFrente:!0,ladoApertura:"izquierda",direccionApertura:"interior",pasoLibre:!1,hojaActiva:"derecha",tipoVentanaIzquierda:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaDerecha:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaCentro:{tipo:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:null,hoja1AlFrente:!0},ancho_izquierda:null,ancho_centro:null,ancho_derecha:null,orientacionComp:"horizontal",cantidadComp:2,itemsComp:[k(),k()]},e=pe({...p,...s.ventana||{}}),m=[{id:2,nombre:"Fija"},{id:45,nombre:"Proyectante"},{id:3,nombre:"Corredera"},{id:49,nombre:"Abatible"},{id:50,nombre:"Puerta S60"}],ue=[{id:2,nombre:"Fija"},{id:3,nombre:"Corredera Sliding"},{id:45,nombre:"Proyectante S60"},{id:50,nombre:"Puerta S60"}];Se(()=>s.mostrar,n=>{n&&!s.ventana&&(e.value={...p,material:s.materialDefault??null,color:s.colorDefault??null,tipoVidrio:s.tipoVidrioDefault??null,productoVidrioProveedor:s.productoVidrioDefault??null,tipoVentanaIzquierda:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"}]},tipoVentanaDerecha:{compuesta:!1,ladoApertura:"izquierda",direccionApertura:"interior",partes:[{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:null,alto:null,hojas_totales:2,hojas_moviles:2,hojaMovilSeleccionada:1,ladoApertura:"izquierda",direccionApertura:"interior"}]}}),n&&s.ventana&&(e.value={...p,...s.ventana})},{immediate:!0});const $=t(()=>e.value.tipoVidrio?s.productosVidrio.filter(n=>n.tipo_producto_id===e.value.tipoVidrio).flatMap(n=>n.colores_por_proveedor.map(l=>{var o;return{id:l.id,producto_id:n.id,proveedor_id:l.proveedor_id,nombre:`${n.nombre} (${((o=l.proveedor)==null?void 0:o.nombre)||"Proveedor desconocido"})`}})):[]),oe=t(()=>{const n=e.value.material??s.materialDefault;return s.tiposVentana.filter(l=>l.material_id===n)}),w=pe(null),O=()=>{B.value=!1};async function z(){if(e.value.tipo&&e.value.ancho&&e.value.alto&&e.value.cantidad&&e.value.color&&e.value.productoVidrioProveedor)try{const n=s.productosVidrio.flatMap(A=>A.colores_por_proveedor.map(f=>({id:f.id,producto_id:A.id,proveedor_id:f.proveedor_id}))).find(A=>A.id===e.value.productoVidrioProveedor),l={tipo_ventana_id:e.value.tipo,tipo:e.value.tipo,ancho:e.value.ancho,alto:e.value.alto,cantidad:e.value.cantidad,color_id:e.value.color,color:e.value.color,producto_vidrio_proveedor_id:e.value.productoVidrioProveedor,producto_id:n==null?void 0:n.producto_id,proveedor_id:n==null?void 0:n.proveedor_id,productoVidrio:n==null?void 0:n.producto_id,proveedorVidrio:n==null?void 0:n.proveedor_id,tipoVidrio:e.value.tipoVidrio,hojas_totales:[3,46,52].includes(e.value.tipo)?e.value.hojas_totales:void 0,hojas_moviles:[3,46,52].includes(e.value.tipo)?e.value.hojas_moviles:void 0,hojaMovilSeleccionada:[3,46,52].includes(e.value.tipo)?e.value.hojaMovilSeleccionada:void 0,hoja1AlFrente:[3,46,52].includes(e.value.tipo)?e.value.hoja1AlFrente:void 0,direccionApertura:e.value.direccionApertura,ladoApertura:e.value.ladoApertura,pasoLibre:[50,51].includes(e.value.tipo)?e.value.pasoLibre:void 0,hojaActiva:e.value.tipo===51?e.value.hojaActiva:void 0,...e.value.tipo===47&&{ancho_izquierda:e.value.ancho_izquierda,ancho_centro:e.value.ancho_centro,ancho_derecha:e.value.ancho_derecha,tipoVentanaIzquierda:e.value.tipoVentanaIzquierda,tipoVentanaCentro:e.value.tipoVentanaCentro,tipoVentanaDerecha:e.value.tipoVentanaDerecha}};console.log("Payload a calcular-materiales:",l);const{data:o}=await Za.post("/api/cotizador/calcular-materiales",l);e.value.costo_total_unitario=o.costo_unitario,e.value.costo_total=o.costo_unitario*e.value.cantidad,e.value.precio=Math.ceil(e.value.costo_total/(1-Ul)),e.value.materiales=o.materiales}catch{e.value.costo_total_unitario=0,e.value.costo_total=0,e.value.precio=0,e.value.materiales=[]}else e.value.costo_total_unitario=0,e.value.costo_total=0,e.value.precio=0,e.value.materiales=[]}const u=()=>{var n;if(!e.value.tipo||!e.value.ancho||!e.value.alto||!e.value.cantidad){alert("Completa todos los campos obligatorios");return}W("guardar",{...e.value,index:(n=s.ventana)==null?void 0:n.index}),O()};Se(()=>e.value.material,()=>{e.value.tipo=null}),Se(()=>{var n,l,o,A,f,X,C,P,le,ve,Ce,se,me,Ae,re,Ne,Ye,Ge,Je,Ke,Qe,Ze,ea,aa,la,oa,ta,ua,ra,na,ia,va,ca,sa,da,pa,ma,fa,ha,ga,ba,Va,ya,xa,Aa,Ma,ka,_a,za,Ca,ja,Ia,Sa,wa,qa,Pa,La,Da,Ua;return[e.value.tipo,e.value.ancho,e.value.alto,e.value.cantidad,e.value.material,e.value.color,e.value.tipoVidrio,e.value.productoVidrioProveedor,e.value.direccionApertura,e.value.ladoApertura,e.value.pasoLibre,e.value.ancho_izquierda,e.value.ancho_centro,e.value.ancho_derecha,(n=e.value.tipoVentanaIzquierda)==null?void 0:n.compuesta,(l=e.value.tipoVentanaIzquierda)==null?void 0:l.ladoApertura,(o=e.value.tipoVentanaIzquierda)==null?void 0:o.direccionApertura,(X=(f=(A=e.value.tipoVentanaIzquierda)==null?void 0:A.partes)==null?void 0:f[0])==null?void 0:X.tipo,(le=(P=(C=e.value.tipoVentanaIzquierda)==null?void 0:C.partes)==null?void 0:P[0])==null?void 0:le.alto,(se=(Ce=(ve=e.value.tipoVentanaIzquierda)==null?void 0:ve.partes)==null?void 0:Ce[0])==null?void 0:se.ladoApertura,(re=(Ae=(me=e.value.tipoVentanaIzquierda)==null?void 0:me.partes)==null?void 0:Ae[0])==null?void 0:re.direccionApertura,(Ge=(Ye=(Ne=e.value.tipoVentanaIzquierda)==null?void 0:Ne.partes)==null?void 0:Ye[1])==null?void 0:Ge.tipo,(Qe=(Ke=(Je=e.value.tipoVentanaIzquierda)==null?void 0:Je.partes)==null?void 0:Ke[1])==null?void 0:Qe.alto,(aa=(ea=(Ze=e.value.tipoVentanaIzquierda)==null?void 0:Ze.partes)==null?void 0:ea[1])==null?void 0:aa.ladoApertura,(ta=(oa=(la=e.value.tipoVentanaIzquierda)==null?void 0:la.partes)==null?void 0:oa[1])==null?void 0:ta.direccionApertura,(ua=e.value.tipoVentanaCentro)==null?void 0:ua.tipo,(ra=e.value.tipoVentanaCentro)==null?void 0:ra.hojas_totales,(na=e.value.tipoVentanaCentro)==null?void 0:na.hojas_moviles,(ia=e.value.tipoVentanaCentro)==null?void 0:ia.hojaMovilSeleccionada,(va=e.value.tipoVentanaCentro)==null?void 0:va.hoja1AlFrente,(ca=e.value.tipoVentanaDerecha)==null?void 0:ca.compuesta,(sa=e.value.tipoVentanaDerecha)==null?void 0:sa.ladoApertura,(da=e.value.tipoVentanaDerecha)==null?void 0:da.direccionApertura,(fa=(ma=(pa=e.value.tipoVentanaDerecha)==null?void 0:pa.partes)==null?void 0:ma[0])==null?void 0:fa.tipo,(ba=(ga=(ha=e.value.tipoVentanaDerecha)==null?void 0:ha.partes)==null?void 0:ga[0])==null?void 0:ba.alto,(xa=(ya=(Va=e.value.tipoVentanaDerecha)==null?void 0:Va.partes)==null?void 0:ya[0])==null?void 0:xa.ladoApertura,(ka=(Ma=(Aa=e.value.tipoVentanaDerecha)==null?void 0:Aa.partes)==null?void 0:Ma[0])==null?void 0:ka.direccionApertura,(Ca=(za=(_a=e.value.tipoVentanaDerecha)==null?void 0:_a.partes)==null?void 0:za[1])==null?void 0:Ca.tipo,(Sa=(Ia=(ja=e.value.tipoVentanaDerecha)==null?void 0:ja.partes)==null?void 0:Ia[1])==null?void 0:Sa.alto,(Pa=(qa=(wa=e.value.tipoVentanaDerecha)==null?void 0:wa.partes)==null?void 0:qa[1])==null?void 0:Pa.ladoApertura,(Ua=(Da=(La=e.value.tipoVentanaDerecha)==null?void 0:La.partes)==null?void 0:Da[1])==null?void 0:Ua.direccionApertura]},z,{immediate:!0}),Se(()=>e.value.productoVidrioProveedor,n=>{const l=s.productosVidrio.flatMap(o=>o.colores_por_proveedor.map(A=>({...o,cpp:A}))).find(o=>o.cpp.id===n);e.value.productoVidrio=l?l.id:null});const c=n=>{if(n==null)return!1;const l=Number(n);return!Number.isNaN(l)&&l===49||String(n).toLowerCase().includes("abat")},i=pe([]);Se(()=>{var n,l;return(l=(n=e.value)==null?void 0:n.itemsComp)==null?void 0:l.length},()=>{i.value=[]}),Se(()=>e.value.tipo,n=>{var l,o,A;Number(n)===54&&((l=e.value).orientacionComp??(l.orientacionComp="horizontal"),(o=e.value).cantidadComp??(o.cantidadComp=2),(A=e.value).itemsComp??(A.itemsComp=[k(),k()]))});const b=pe(!1),x=pe(null);function g(n){x.value=n,b.value=!0}function H(n){console.log("=== AGREGAR BORDE ==="),console.log("Posici√≥n:",n),console.log("Orientaci√≥n actual:",e.value.orientacionComp),console.log("Items ANTES:",JSON.stringify(e.value.itemsComp,null,2));const l=["arriba","abajo"].includes(n)?"vertical":"horizontal";if(console.log("Nueva orientaci√≥n necesaria:",l),e.value.orientacionComp!==l){console.log("Orientaci√≥n cambi√≥, envolviendo items existentes...");const o=[...e.value.itemsComp],A={tipo:"compuesta",orientacion:e.value.orientacionComp,items:o};e.value.itemsComp=[A],e.value.orientacionComp=l,console.log("Items despu√©s de envolver:",JSON.stringify(e.value.itemsComp,null,2))}else console.log("Orientaci√≥n NO cambi√≥, no envolviendo");switch(n){case"arriba":case"izquierda":x.value=0;break;case"abajo":case"derecha":x.value=e.value.itemsComp.length;break}console.log("√çndice para insertar:",x.value),console.log("Orientaci√≥n final:",e.value.orientacionComp),console.log("=== FIN DEBUG ==="),b.value=!0}function q(n){const l=k();l.tipo=n||2,e.value.itemsComp.splice(x.value,0,l),e.value.itemsComp=[...e.value.itemsComp],N.value++,console.log("Items despu√©s de agregar:",e.value.itemsComp),b.value=!1}function ae(){const n={tipo:"compuesta",orientacion:"horizontal",items:[{tipo:2,ladoApertura:"izquierda",direccionApertura:"interior"},{tipo:2,ladoApertura:"izquierda",direccionApertura:"interior"}]};e.value.itemsComp.splice(x.value,0,n),N.value++,b.value=!1}const v=pe(null),V=pe(!1),L=pe("");function I(n){console.log("=== EDITAR VENTANA INDIVIDUAL ==="),console.log("Path:",n),L.value=n;const l=we(n);if(l){const o=D(n);v.value={tipo:l.tipo||2,ancho:o.ancho,alto:o.alto,sizePercent:l.sizePercent||null,ladoApertura:l.ladoApertura||"izquierda",direccionApertura:l.direccionApertura||"interior",...l},console.log("Dimensiones reales calculadas:",o),console.log("Datos de ventana a editar:",v.value),V.value=!0}else console.error("No se encontr√≥ ventana en path:",n)}function D(n){const l=n.split(".").map(Number);let o=e.value.ancho||2e3,A=e.value.alto||2e3,f=e.value.orientacionComp||"horizontal",X=e.value.itemsComp;console.log("üîç Calculando dimensiones para path:",n),console.log("Dimensiones iniciales:",{ancho:o,alto:A,orientacion:f});for(let P=0;P<l.length;P++){const le=l[P],ve=X[le];if(!ve){console.error("Item no encontrado en nivel",P,"√≠ndice",le);break}console.log(`Nivel ${P}, √≠ndice ${le}:`,ve);const Ce=X.length,se=X.map(re=>Number(re.sizePercent)||0),me=se.reduce((re,Ne)=>re+Ne,0);let Ae;if(me>0?Ae=se[le]/me:Ae=1/Ce,console.log(`Porcentaje del item en este nivel: ${Ae} (${(Ae*100).toFixed(1)}%)`),f==="horizontal"?o=o*Ae:A=A*Ae,console.log(`Nuevas dimensiones: ${o} x ${A}`),P===l.length-1)break;if(ve.tipo==="compuesta")f=ve.orientacion||"horizontal",X=ve.items||[],console.log(`Navegando a compuesta con orientaci√≥n: ${f}`);else{console.error("Item no es compuesta pero no es el √∫ltimo nivel");break}}const C={ancho:Math.round(o),alto:Math.round(A)};return console.log("‚úÖ Dimensiones finales calculadas:",C),C}const E=t(()=>{const n=Number(v.value.ancho)||0,l=Number(v.value.alto)||0;return n*l/1e6}),Ie=t(()=>{const n=E.value,l=v.value.tipo;return n*({2:15e4,3:2e5,45:22e4,49:25e4,50:28e4}[l]||15e4)});function ze(n){const l=m.find(o=>o.id===n);return l?l.nombre:`Tipo ${n}`}function Ve(){var l;function n(o,A,f){var X;if(o.tipo==="compuesta")return((X=o.items)==null?void 0:X.reduce((C,P)=>C+n(P,A,f),0))||0;{const C=o.ancho||A,P=o.alto||f;return C*P/1e6*({2:15e4,3:2e5,45:22e4,49:25e4,50:28e4}[o.tipo]||15e4)}}return((l=e.value.itemsComp)==null?void 0:l.reduce((o,A)=>o+n(A,e.value.ancho,e.value.alto),0))||0}const ye=t(()=>Ve());function we(n){var f;const l=n.split(".").map(Number);let o=e.value.itemsComp;console.log("Navegando path:",n,"indices:",l),console.log("Items iniciales:",o);for(let X=0;X<l.length-1;X++){const C=l[X];if(console.log(`Navegando √≠ndice ${X}: ${C}`),((f=o[C])==null?void 0:f.tipo)==="compuesta")o=o[C].items,console.log("Items en nivel",X+1,":",o);else return console.error("No es compuesta en √≠ndice",C),null}const A=l[l.length-1];return console.log("√çndice final:",A,"Item encontrado:",o[A]),o[A]}function qe(n,l){var X;const o=n.split(".").map(Number);let A=e.value.itemsComp;for(let C=0;C<o.length-1;C++){const P=o[C];if(((X=A[P])==null?void 0:X.tipo)==="compuesta")A=A[P].items;else return console.error("Error: no es compuesta en √≠ndice",P),!1}const f=o[o.length-1];if(A[f]){const C={...A[f],tipo:l.tipo,ancho:l.ancho,alto:l.alto,sizePercent:l.sizePercent,ladoApertura:l.ladoApertura,direccionApertura:l.direccionApertura};return A[f]=C,console.log("Ventana actualizada:",A[f]),e.value.itemsComp=JSON.parse(JSON.stringify(e.value.itemsComp)),e.value={...e.value},Qa(()=>{console.log("‚úÖ Forzando re-render despu√©s de actualizar ventana")}),!0}return!1}const N=pe(0);function j(){console.log("=== GUARDANDO CAMBIOS ==="),console.log("Datos a guardar:",v.value),console.log("Path:",L.value),qe(L.value,{tipo:v.value.tipo,ancho:v.value.ancho,alto:v.value.alto,sizePercent:v.value.sizePercent,ladoApertura:v.value.ladoApertura,direccionApertura:v.value.direccionApertura})?(console.log("‚úÖ Ventana actualizada correctamente"),_(),N.value++,console.log("üîÑ Forzando re-render con key:",N.value),V.value=!1):(console.error("‚ùå Error al actualizar ventana"),alert("Error al actualizar la ventana"))}function _(){console.log("=== DEBUG ITEMS COMPUESTA ==="),console.log("Items actuales:",JSON.stringify(e.value.itemsComp,null,2)),console.log("Orientaci√≥n:",e.value.orientacionComp),console.log("Dimensiones contenedor:",{ancho:e.value.ancho,alto:e.value.alto}),console.log("=== FIN DEBUG ===")}function M(n){console.log("=== ELIMINAR VENTANA ==="),console.log("Path:",n),confirm("¬øEst√°s seguro de eliminar esta ventana?")&&(F(n)?(console.log("‚úÖ Ventana eliminada correctamente"),N.value++):(console.error("‚ùå Error al eliminar ventana"),alert("Error al eliminar la ventana")))}function F(n){var C;const l=n.split(".").map(Number);let o=e.value.itemsComp,A=null,f=null;for(let P=0;P<l.length-1;P++){const le=l[P];if(A=o,f=le,((C=o[le])==null?void 0:C.tipo)==="compuesta")o=o[le].items;else return console.error("Error: no es compuesta en √≠ndice",le),!1}const X=l[l.length-1];if(A===null&&(A={items:e.value.itemsComp},o=e.value.itemsComp),o[X]){if(o.splice(X,1),console.log("Ventana eliminada. Items restantes:",o.length),o.length===1&&A!==null&&f!==null){const P=o[0];A.items?A.items[f]=P:A[f]=P,console.log("Compuesta simplificada porque qued√≥ solo 1 item")}return e.value.itemsComp.length===0&&(e.value.itemsComp=[k(),k()],console.log("Sin items restantes, reiniciando con defaults")),e.value.itemsComp=[...e.value.itemsComp],!0}return!1}return(n,l)=>(h(),te(ie,null,[a(He,{modelValue:B.value,"onUpdate:modelValue":l[53]||(l[53]=o=>B.value=o),"max-width":"1200px",persistent:""},{default:r(()=>[a($e,{class:"pa-4"},{default:r(()=>[a(Be,{class:"text-h5"},{default:r(()=>[Me(je(d.value?"Editar ventana":"Agregar ventana"),1)]),_:1}),a(Ee,{class:"mb-4"}),a(nl,{ref_key:"formRef",ref:w,onSubmit:Ka(u,["prevent"])},{default:r(()=>[a(de,{dense:""},{default:r(()=>[a(S,{cols:"12",md:"4"},{default:r(()=>[a(ge,{modelValue:e.value.tipo,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.tipo=o),items:oe.value,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","items","rules"])]),_:1}),a(S,{cols:"6",md:"2"},{default:r(()=>[a(ke,{modelValue:e.value.ancho,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.ancho=o),modelModifiers:{number:!0},label:"Ancho (mm)",type:"number",min:"1",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1}),a(S,{cols:"6",md:"2"},{default:r(()=>[a(ke,{modelValue:e.value.alto,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",min:"1",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1}),a(S,{cols:"6",md:"2"},{default:r(()=>[a(ke,{modelValue:e.value.cantidad,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.cantidad=o),modelModifiers:{number:!0},label:"Cantidad",type:"number",min:"1",rules:[o=>!!o||"Requerido"],outlined:"",color:"primary",required:""},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(de,{dense:""},{default:r(()=>[a(S,{cols:"6",md:"3"},{default:r(()=>[a(ge,{modelValue:e.value.material,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.material=o),items:R.materiales,"item-title":"nombre","item-value":"id",label:"Material",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(S,{cols:"6",md:"3"},{default:r(()=>[a(ge,{modelValue:e.value.color,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.color=o),items:R.colores,"item-title":"nombre","item-value":"id",label:"Color",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(S,{cols:"6",md:"3"},{default:r(()=>[a(ge,{modelValue:e.value.tipoVidrio,"onUpdate:modelValue":l[6]||(l[6]=o=>e.value.tipoVidrio=o),items:R.tiposVidrio,"item-title":"nombre","item-value":"id",label:"Tipo de vidrio",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1}),a(S,{cols:"6",md:"3"},{default:r(()=>[a(ge,{modelValue:e.value.productoVidrioProveedor,"onUpdate:modelValue":l[7]||(l[7]=o=>e.value.productoVidrioProveedor=o),items:$.value,"item-title":"nombre","item-value":"id",label:"Producto de vidrio",outlined:"",color:"primary"},null,8,["modelValue","items"])]),_:1})]),_:1}),e.value.tipo===47?(h(),U(de,{key:0,dense:""},{default:r(()=>[a(S,{cols:"4"},{default:r(()=>[a(ke,{modelValue:e.value.ancho_izquierda,"onUpdate:modelValue":l[8]||(l[8]=o=>e.value.ancho_izquierda=o),modelModifiers:{number:!0},label:"Ancho izquierda (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(S,{cols:"4"},{default:r(()=>[a(ke,{modelValue:e.value.ancho_centro,"onUpdate:modelValue":l[9]||(l[9]=o=>e.value.ancho_centro=o),modelModifiers:{number:!0},label:"Ancho centro (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(S,{cols:"4"},{default:r(()=>[a(ke,{modelValue:e.value.ancho_derecha,"onUpdate:modelValue":l[10]||(l[10]=o=>e.value.ancho_derecha=o),modelModifiers:{number:!0},label:"Ancho derecha (mm)",type:"number",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})):ne("",!0),e.value.tipo===47?(h(),U(de,{key:1,dense:""},{default:r(()=>[a(S,{cols:"6"},{default:r(()=>[a(Re,{modelValue:e.value.tipoVentanaIzquierda.compuesta,"onUpdate:modelValue":l[11]||(l[11]=o=>e.value.tipoVentanaIzquierda.compuesta=o),label:"¬øVentana izquierda compuesta?",color:"primary"},null,8,["modelValue"])]),_:1}),a(S,{cols:"6"},{default:r(()=>[a(Re,{modelValue:e.value.tipoVentanaDerecha.compuesta,"onUpdate:modelValue":l[12]||(l[12]=o=>e.value.tipoVentanaDerecha.compuesta=o),label:"¬øVentana derecha compuesta?",color:"primary"},null,8,["modelValue"])]),_:1})]),_:1})):ne("",!0),e.value.tipo===47?(h(),te(ie,{key:2},[a(de,{dense:""},{default:r(()=>[a(S,{cols:"12"},{default:r(()=>l[64]||(l[64]=[be("h4",null,"Ventana Izquierda",-1)])),_:1}),e.value.tipoVentanaIzquierda.compuesta?(h(),te(ie,{key:0},[a(S,{cols:"6"},{default:r(()=>[l[65]||(l[65]=be("h5",null,"Parte superior",-1)),a(ge,{modelValue:e.value.tipoVentanaIzquierda.partes[0].tipo,"onUpdate:modelValue":l[13]||(l[13]=o=>e.value.tipoVentanaIzquierda.partes[0].tipo=o),items:m,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(ke,{modelValue:e.value.tipoVentanaIzquierda.partes[0].alto,"onUpdate:modelValue":l[14]||(l[14]=o=>e.value.tipoVentanaIzquierda.partes[0].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaIzquierda.partes[0].tipo)?(h(),te(ie,{key:0},[a(ce,{modelValue:e.value.tipoVentanaIzquierda.partes[0].ladoApertura,"onUpdate:modelValue":l[15]||(l[15]=o=>e.value.tipoVentanaIzquierda.partes[0].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(ce,{modelValue:e.value.tipoVentanaIzquierda.partes[0].direccionApertura,"onUpdate:modelValue":l[16]||(l[16]=o=>e.value.tipoVentanaIzquierda.partes[0].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ne("",!0)]),_:1}),a(S,{cols:"6"},{default:r(()=>[l[66]||(l[66]=be("h5",null,"Parte inferior",-1)),a(ge,{modelValue:e.value.tipoVentanaIzquierda.partes[1].tipo,"onUpdate:modelValue":l[17]||(l[17]=o=>e.value.tipoVentanaIzquierda.partes[1].tipo=o),items:m,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(ke,{modelValue:e.value.tipoVentanaIzquierda.partes[1].alto,"onUpdate:modelValue":l[18]||(l[18]=o=>e.value.tipoVentanaIzquierda.partes[1].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaIzquierda.partes[1].tipo)?(h(),te(ie,{key:0},[a(ce,{modelValue:e.value.tipoVentanaIzquierda.partes[1].ladoApertura,"onUpdate:modelValue":l[19]||(l[19]=o=>e.value.tipoVentanaIzquierda.partes[1].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(ce,{modelValue:e.value.tipoVentanaIzquierda.partes[1].direccionApertura,"onUpdate:modelValue":l[20]||(l[20]=o=>e.value.tipoVentanaIzquierda.partes[1].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ne("",!0)]),_:1})],64)):(h(),te(ie,{key:1},[a(S,{cols:"4"},{default:r(()=>[a(ge,{modelValue:e.value.tipoVentanaIzquierda.partes[0].tipo,"onUpdate:modelValue":l[21]||(l[21]=o=>e.value.tipoVentanaIzquierda.partes[0].tipo=o),items:m,"item-title":"nombre","item-value":"id",label:"Tipo de ventana izquierda",outlined:""},null,8,["modelValue"])]),_:1}),c(e.value.tipoVentanaIzquierda.partes[0].tipo)?(h(),U(S,{key:0,cols:"4"},{default:r(()=>[a(ce,{modelValue:e.value.tipoVentanaIzquierda.ladoApertura,"onUpdate:modelValue":l[22]||(l[22]=o=>e.value.tipoVentanaIzquierda.ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1})):ne("",!0),c(e.value.tipoVentanaIzquierda.partes[0].tipo)?(h(),U(S,{key:1,cols:"4"},{default:r(()=>[a(ce,{modelValue:e.value.tipoVentanaIzquierda.direccionApertura,"onUpdate:modelValue":l[23]||(l[23]=o=>e.value.tipoVentanaIzquierda.direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})):ne("",!0)],64))]),_:1}),a(de,{dense:""},{default:r(()=>[a(S,{cols:"12"},{default:r(()=>l[67]||(l[67]=[be("h4",null,"Ventana Centro",-1)])),_:1}),a(S,{cols:"4"},{default:r(()=>[a(ge,{modelValue:e.value.tipoVentanaCentro.tipo,"onUpdate:modelValue":l[24]||(l[24]=o=>e.value.tipoVentanaCentro.tipo=o),items:ue,"item-title":"nombre","item-value":"id",label:"Tipo de ventana centro",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),e.value.tipoVentanaCentro&&[3,46].includes(e.value.tipoVentanaCentro.tipo)?(h(),te(ie,{key:0},[a(S,{cols:"4"},{default:r(()=>[a(ge,{modelValue:e.value.tipoVentanaCentro.hojas_totales,"onUpdate:modelValue":l[25]||(l[25]=o=>e.value.tipoVentanaCentro.hojas_totales=o),items:[1,2,3,4],label:"Hojas totales",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(S,{cols:"4"},{default:r(()=>[a(ge,{modelValue:e.value.tipoVentanaCentro.hojas_moviles,"onUpdate:modelValue":l[26]||(l[26]=o=>e.value.tipoVentanaCentro.hojas_moviles=o),items:[1,2,3,4],label:"Hojas m√≥viles",disabled:!e.value.tipoVentanaCentro.hojas_totales,outlined:"",color:"primary"},null,8,["modelValue","disabled"])]),_:1}),e.value.tipoVentanaCentro.hojas_moviles===1?(h(),U(S,{key:0,cols:"12"},{default:r(()=>[a(ce,{modelValue:e.value.tipoVentanaCentro.hojaMovilSeleccionada,"onUpdate:modelValue":l[27]||(l[27]=o=>e.value.tipoVentanaCentro.hojaMovilSeleccionada=o),row:"",label:"Selecciona la hoja que se mueve"},{default:r(()=>[a(T,{label:"Mover hoja izquierda (1)",value:1}),a(T,{label:"Mover hoja derecha (2)",value:2})]),_:1},8,["modelValue"])]),_:1})):ne("",!0)],64)):ne("",!0)]),_:1}),a(de,{dense:""},{default:r(()=>[a(S,{cols:"12"},{default:r(()=>l[68]||(l[68]=[be("h4",null,"Ventana Derecha",-1)])),_:1}),e.value.tipoVentanaDerecha.compuesta?(h(),te(ie,{key:0},[a(S,{cols:"6"},{default:r(()=>[l[69]||(l[69]=be("h5",null,"Parte superior",-1)),a(ge,{modelValue:e.value.tipoVentanaDerecha.partes[0].tipo,"onUpdate:modelValue":l[28]||(l[28]=o=>e.value.tipoVentanaDerecha.partes[0].tipo=o),items:m,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(ke,{modelValue:e.value.tipoVentanaDerecha.partes[0].alto,"onUpdate:modelValue":l[29]||(l[29]=o=>e.value.tipoVentanaDerecha.partes[0].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaDerecha.partes[0].tipo)?(h(),te(ie,{key:0},[a(ce,{modelValue:e.value.tipoVentanaDerecha.partes[0].ladoApertura,"onUpdate:modelValue":l[30]||(l[30]=o=>e.value.tipoVentanaDerecha.partes[0].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(ce,{modelValue:e.value.tipoVentanaDerecha.partes[0].direccionApertura,"onUpdate:modelValue":l[31]||(l[31]=o=>e.value.tipoVentanaDerecha.partes[0].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ne("",!0)]),_:1}),a(S,{cols:"6"},{default:r(()=>[l[70]||(l[70]=be("h5",null,"Parte inferior",-1)),a(ge,{modelValue:e.value.tipoVentanaDerecha.partes[1].tipo,"onUpdate:modelValue":l[32]||(l[32]=o=>e.value.tipoVentanaDerecha.partes[1].tipo=o),items:m,"item-title":"nombre","item-value":"id",label:"Tipo",outlined:"",dense:""},null,8,["modelValue"]),a(ke,{modelValue:e.value.tipoVentanaDerecha.partes[1].alto,"onUpdate:modelValue":l[33]||(l[33]=o=>e.value.tipoVentanaDerecha.partes[1].alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",outlined:"",dense:""},null,8,["modelValue"]),c(e.value.tipoVentanaDerecha.partes[1].tipo)?(h(),te(ie,{key:0},[a(ce,{modelValue:e.value.tipoVentanaDerecha.partes[1].ladoApertura,"onUpdate:modelValue":l[34]||(l[34]=o=>e.value.tipoVentanaDerecha.partes[1].ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"]),a(ce,{modelValue:e.value.tipoVentanaDerecha.partes[1].direccionApertura,"onUpdate:modelValue":l[35]||(l[35]=o=>e.value.tipoVentanaDerecha.partes[1].direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])],64)):ne("",!0)]),_:1})],64)):(h(),te(ie,{key:1},[a(S,{cols:"4"},{default:r(()=>[a(ge,{modelValue:e.value.tipoVentanaDerecha.partes[0].tipo,"onUpdate:modelValue":l[36]||(l[36]=o=>e.value.tipoVentanaDerecha.partes[0].tipo=o),items:m,"item-title":"nombre","item-value":"id",label:"Tipo de ventana derecha",outlined:""},null,8,["modelValue"])]),_:1}),c(e.value.tipoVentanaDerecha.partes[0].tipo)?(h(),U(S,{key:0,cols:"4"},{default:r(()=>[a(ce,{modelValue:e.value.tipoVentanaDerecha.ladoApertura,"onUpdate:modelValue":l[37]||(l[37]=o=>e.value.tipoVentanaDerecha.ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1})):ne("",!0),c(e.value.tipoVentanaDerecha.partes[0].tipo)?(h(),U(S,{key:1,cols:"4"},{default:r(()=>[a(ce,{modelValue:e.value.tipoVentanaDerecha.direccionApertura,"onUpdate:modelValue":l[38]||(l[38]=o=>e.value.tipoVentanaDerecha.direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})):ne("",!0)],64))]),_:1})],64)):ne("",!0),[3,46,52].includes(e.value.tipo)?(h(),U(de,{key:3},{default:r(()=>[a(S,{cols:"6",md:"3"},{default:r(()=>[a(ge,{modelValue:e.value.hojas_totales,"onUpdate:modelValue":l[39]||(l[39]=o=>e.value.hojas_totales=o),items:[2,3,4,6],label:"Hojas totales",outlined:"",color:"primary"},null,8,["modelValue"])]),_:1}),a(S,{cols:"6",md:"3"},{default:r(()=>[a(ge,{modelValue:e.value.hojas_moviles,"onUpdate:modelValue":l[40]||(l[40]=o=>e.value.hojas_moviles=o),items:[1,2,3,4],label:"Hojas m√≥viles",disabled:!e.value.hojas_totales,rules:[o=>!o||o<=e.value.hojas_totales||"No puede exceder total"],outlined:"",color:"primary"},null,8,["modelValue","disabled","rules"])]),_:1}),e.value.hojas_moviles===1?(h(),U(S,{key:0,cols:"12",md:"6"},{default:r(()=>[a(ce,{modelValue:e.value.hojaMovilSeleccionada,"onUpdate:modelValue":l[41]||(l[41]=o=>e.value.hojaMovilSeleccionada=o),row:"",label:"Selecciona la hoja que se mueve"},{default:r(()=>[a(T,{label:"Mover hoja izquierda (1)",value:1}),a(T,{label:"Mover hoja derecha (2)",value:2})]),_:1},8,["modelValue"])]),_:1})):ne("",!0)]),_:1})):ne("",!0),e.value.tipo===50?(h(),U(de,{key:4,dense:""},{default:r(()=>[a(S,{cols:"12",md:"4"},{default:r(()=>[a(ce,{modelValue:e.value.ladoApertura,"onUpdate:modelValue":l[42]||(l[42]=o=>e.value.ladoApertura=o),label:"Lado apertura",row:""},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(S,{cols:"12",md:"4"},{default:r(()=>[a(ce,{modelValue:e.value.direccionApertura,"onUpdate:modelValue":l[43]||(l[43]=o=>e.value.direccionApertura=o),label:"Apertura",row:""},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1}),a(S,{cols:"12",md:"4"},{default:r(()=>[a(Re,{modelValue:e.value.pasoLibre,"onUpdate:modelValue":l[44]||(l[44]=o=>e.value.pasoLibre=o),inset:"",color:"primary",label:e.value.pasoLibre?"Paso libre (sin perfil inferior)":"Paso cerrado"},null,8,["modelValue","label"])]),_:1})]),_:1})):ne("",!0),e.value.tipo===51?(h(),U(de,{key:5,dense:""},{default:r(()=>[a(S,{cols:"12",md:"4"},{default:r(()=>[a(ce,{modelValue:e.value.hojaActiva,"onUpdate:modelValue":l[45]||(l[45]=o=>e.value.hojaActiva=o),label:"Hoja activa",row:""},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(S,{cols:"12",md:"4"},{default:r(()=>[a(ce,{modelValue:e.value.direccionApertura,"onUpdate:modelValue":l[46]||(l[46]=o=>e.value.direccionApertura=o),label:"Apertura",row:""},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1}),a(S,{cols:"12",md:"4"},{default:r(()=>[a(Re,{modelValue:e.value.pasoLibre,"onUpdate:modelValue":l[47]||(l[47]=o=>e.value.pasoLibre=o),inset:"",color:"primary",label:e.value.pasoLibre?"Paso libre (sin perfil inferior)":"Paso cerrado"},null,8,["modelValue","label"])]),_:1})]),_:1})):ne("",!0),e.value.tipo===53?(h(),U(de,{key:6,dense:""},{default:r(()=>[a(S,{cols:"12",md:"6"},{default:r(()=>[a(ce,{modelValue:e.value.ladoApertura,"onUpdate:modelValue":l[48]||(l[48]=o=>e.value.ladoApertura=o),label:"Lado de apertura (movimiento)",row:""},{default:r(()=>[a(T,{label:"Hacia la derecha",value:"derecha"}),a(T,{label:"Hacia la izquierda",value:"izquierda"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):ne("",!0),e.value.tipo===54?(h(),U($e,{key:7,class:"pa-3",variant:"tonal"},{default:r(()=>[a(de,{dense:""},{default:r(()=>[a(S,{cols:"12",sm:"3"},{default:r(()=>[a(ge,{modelValue:e.value.orientacionComp,"onUpdate:modelValue":l[49]||(l[49]=o=>e.value.orientacionComp=o),items:[{title:"Horizontal",value:"horizontal"},{title:"Vertical",value:"vertical"}],label:"Orientaci√≥n",density:"comfortable"},null,8,["modelValue"])]),_:1}),a(S,{cols:"12",sm:"3"},{default:r(()=>[a(ke,{modelValue:e.value.cantidadComp,"onUpdate:modelValue":l[50]||(l[50]=o=>e.value.cantidadComp=o),modelModifiers:{number:!0},type:"number",min:"2",max:"8",label:"Cantidad de ventanas",density:"comfortable",onBlur:l[51]||(l[51]=o=>y())},null,8,["modelValue"])]),_:1})]),_:1}),a(Ee,{class:"my-2"}),a(de,{dense:""},{default:r(()=>[(h(!0),te(ie,null,_e(e.value.itemsComp,(o,A)=>(h(),U(S,{key:"comp-item-"+A,cols:"12",md:"6"},{default:r(()=>[a($e,{class:"pa-3"},{default:r(()=>[be("div",Pl,[be("strong",null,"Secci√≥n "+je(A+1),1),a(ke,{modelValue:o.sizePercent,"onUpdate:modelValue":f=>o.sizePercent=f,modelModifiers:{number:!0},type:"number",min:"0",max:"100",suffix:"%",label:"Tama√±o",density:"compact",style:{"max-width":"140px"}},null,8,["modelValue","onUpdate:modelValue"])]),a(ge,{modelValue:o.tipo,"onUpdate:modelValue":f=>o.tipo=f,items:m,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",density:"comfortable"},null,8,["modelValue","onUpdate:modelValue"]),c(o.tipo)?(h(),te(ie,{key:0},[a(ce,{modelValue:o.ladoApertura,"onUpdate:modelValue":f=>o.ladoApertura=f,row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:2},1032,["modelValue","onUpdate:modelValue"]),a(ce,{modelValue:o.direccionApertura,"onUpdate:modelValue":f=>o.direccionApertura=f,row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:2},1032,["modelValue","onUpdate:modelValue"])],64)):ne("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(Le,{type:"info",variant:"text",density:"compact",class:"mt-2"},{default:r(()=>l[71]||(l[71]=[Me(" Si no defines porcentajes, las secciones se reparten por igual. ")])),_:1})]),_:1})):ne("",!0),a(de,null,{default:r(()=>[a(S,{cols:"12"},{default:r(()=>{var o,A,f,X,C,P,le,ve,Ce,se,me,Ae;return[e.value.tipo===1?(h(),U(pl,{key:0,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((o=R.colores.find(re=>re.id===e.value.color))==null?void 0:o.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===2?(h(),U(al,{key:1,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((A=R.colores.find(re=>re.id===e.value.color))==null?void 0:A.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===45?(h(),U(ll,{key:2,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((f=R.colores.find(re=>re.id===e.value.color))==null?void 0:f.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor"])):e.value.tipo===3?(h(),U(ul,{key:3,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((X=R.colores.find(re=>re.id===e.value.color))==null?void 0:X.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===52?(h(),U(zl,{key:4,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((C=R.colores.find(re=>re.id===e.value.color))==null?void 0:C.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===46?(h(),U(ol,{key:5,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((P=R.colores.find(re=>re.id===e.value.color))==null?void 0:P.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"hojas-totales":e.value.hojas_totales,"hojas-moviles":e.value.hojas_moviles,"hoja-movil-seleccionada":e.value.hojaMovilSeleccionada,"orden-hoja1-al-frente":e.value.hoja1AlFrente},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","hojas-totales","hojas-moviles","hoja-movil-seleccionada","orden-hoja1-al-frente"])):e.value.tipo===53?(h(),U(Il,{key:6,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((le=R.colores.find(re=>re.id===e.value.color))==null?void 0:le.nombre)||"blanco","lado-apertura":e.value.ladoApertura},null,8,["ancho","alto","color-marco","lado-apertura"])):e.value.tipo===47?(h(),U(tl,{key:7,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((ve=R.colores.find(re=>re.id===e.value.color))==null?void 0:ve.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"ancho-izquierda":e.value.ancho_izquierda,"ancho-centro":e.value.ancho_centro,"ancho-derecha":e.value.ancho_derecha,"tipo-ventana-izquierda":e.value.tipoVentanaIzquierda,"tipo-ventana-centro":e.value.tipoVentanaCentro,"tipo-ventana-derecha":e.value.tipoVentanaDerecha},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","ancho-izquierda","ancho-centro","ancho-derecha","tipo-ventana-izquierda","tipo-ventana-centro","tipo-ventana-derecha"])):e.value.tipo===49?(h(),U(hl,{key:8,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((Ce=R.colores.find(re=>re.id===e.value.color))==null?void 0:Ce.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"lado-inicial":e.value.ladoApertura||"izquierda",direccionApertura:e.value.direccionApertura,"onUpdate:direccionApertura":l[52]||(l[52]=re=>e.value.direccionApertura=re)},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-inicial","direccionApertura"])):e.value.tipo===50?(h(),U(Vl,{key:9,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((se=R.colores.find(re=>re.id===e.value.color))==null?void 0:se.nombre)||"blanco",material:e.value.material,tipoVidrio:e.value.tipoVidrio,productoVidrioProveedor:e.value.productoVidrioProveedor,"lado-apertura":e.value.ladoApertura,"direccion-apertura":e.value.direccionApertura,"paso-libre":e.value.pasoLibre},null,8,["ancho","alto","color-marco","material","tipoVidrio","productoVidrioProveedor","lado-apertura","direccion-apertura","paso-libre"])):e.value.tipo===51?(h(),U(Al,{key:10,ancho:e.value.ancho,alto:e.value.alto,"color-marco":((me=R.colores.find(re=>re.id===e.value.color))==null?void 0:me.nombre)||"blanco","hoja-activa":e.value.hojaActiva,"direccion-apertura":e.value.direccionApertura,"paso-libre":e.value.pasoLibre},null,8,["ancho","alto","color-marco","hoja-activa","direccion-apertura","paso-libre"])):e.value.tipo===54?(h(),U(ql,{key:`compuesta-${N.value}`,ancho:e.value.ancho||2e3,alto:e.value.alto||2e3,"color-marco":((Ae=R.colores.find(re=>re.id===e.value.color))==null?void 0:Ae.nombre)||"blanco",orientacion:e.value.orientacionComp||"horizontal",items:e.value.itemsComp||[],forceReRender:N.value,onAgregar:g,onAgregarBorde:H,onEditarVentana:I,onEliminarVentana:M},null,8,["ancho","alto","color-marco","orientacion","items","forceReRender"])):ne("",!0)]}),_:1})]),_:1}),a(Ee,{class:"my-4"}),a(de,null,{default:r(()=>[a(S,{cols:"12",md:"4"},{default:r(()=>[e.value.costo_total_unitario?(h(),U(Le,{key:0,type:"info",variant:"outlined"},{default:r(()=>[l[72]||(l[72]=be("strong",null,"Costo unitario:",-1)),Me(" $"+je(e.value.costo_total_unitario),1)]),_:1})):ne("",!0)]),_:1}),a(S,{cols:"12",md:"4"},{default:r(()=>[e.value.costo_total?(h(),U(Le,{key:0,type:"info",variant:"tonal"},{default:r(()=>[l[73]||(l[73]=be("strong",null,"Costo total:",-1)),Me(" $"+je(e.value.costo_total),1)]),_:1})):ne("",!0)]),_:1}),a(S,{cols:"12",md:"4"},{default:r(()=>[e.value.precio?(h(),U(Le,{key:0,type:"success",variant:"tonal"},{default:r(()=>[l[74]||(l[74]=be("strong",null,"Precio de venta:",-1)),Me(" $"+je(e.value.precio),1)]),_:1})):ne("",!0)]),_:1})]),_:1}),e.value.materiales&&e.value.materiales.length?(h(),U(de,{key:8},{default:r(()=>[a(S,{cols:"12"},{default:r(()=>[a(il,{headers:[{title:"Material",key:"nombre"},{title:"Proveedor",key:"proveedor"},{title:"Cantidad",key:"cantidad"},{title:"Unidad",key:"unidad"},{title:"Costo unitario",key:"costo_unitario"},{title:"Costo total",key:"costo_total"}],items:e.value.materiales,class:"mt-2",dense:"","hide-default-footer":""},{"item.costo_unitario":r(({item:o})=>[Me(" $"+je(o.costo_unitario),1)]),"item.costo_total":r(({item:o})=>[Me(" $"+je(o.costo_total),1)]),_:1},8,["items"])]),_:1})]),_:1})):ne("",!0),e.value.tipo===54?(h(),U(de,{key:9},{default:r(()=>[a(S,{cols:"12"},{default:r(()=>[a(Le,{color:"success",variant:"tonal"},{default:r(()=>[l[75]||(l[75]=be("strong",null,"Costo total compuesta:",-1)),Me(" $"+je(ye.value.toLocaleString())+" ",1),l[76]||(l[76]=be("div",{class:"text-caption"}," Suma de todas las ventanas individuales con sus medidas espec√≠ficas ",-1))]),_:1})]),_:1})]),_:1})):ne("",!0),a(Xe,{class:"justify-end"},{default:r(()=>[a(Ue,{color:"secondary",variant:"text",onClick:O},{default:r(()=>l[77]||(l[77]=[Me(" Cancelar ")])),_:1}),a(Ue,{color:"primary",type:"submit"},{default:r(()=>[Me(je(d.value?"Guardar cambios":"Agregar ventana"),1)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1},8,["modelValue"]),a(He,{modelValue:b.value,"onUpdate:modelValue":l[55]||(l[55]=o=>b.value=o),"max-width":"400"},{default:r(()=>[a($e,null,{default:r(()=>[a(Be,null,{default:r(()=>l[78]||(l[78]=[Me("Agregar ventana")])),_:1}),a(Ee),a(vl,null,{default:r(()=>[(h(),te(ie,null,_e(m,o=>a($a,{key:o.id,onClick:A=>q(o.id)},{default:r(()=>[a(Ra,null,{default:r(()=>[Me(je(o.nombre),1)]),_:2},1024)]),_:2},1032,["onClick"])),64)),a($a,{onClick:ae},{default:r(()=>[a(Ra,null,{default:r(()=>l[79]||(l[79]=[Me("Compuesta (anidada)")])),_:1})]),_:1})]),_:1}),a(Xe,null,{default:r(()=>[a(Na),a(Ue,{text:"",onClick:l[54]||(l[54]=o=>b.value=!1)},{default:r(()=>l[80]||(l[80]=[Me("Cancelar")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(He,{modelValue:V.value,"onUpdate:modelValue":l[63]||(l[63]=o=>V.value=o),"max-width":"600px"},{default:r(()=>[a($e,null,{default:r(()=>[a(Be,null,{default:r(()=>l[81]||(l[81]=[be("span",{class:"text-h5"},"Editar Ventana Individual",-1)])),_:1}),a(cl,null,{default:r(()=>[a(sl,null,{default:r(()=>[a(de,null,{default:r(()=>[a(S,{cols:"12",sm:"6"},{default:r(()=>[a(ke,{modelValue:v.value.ancho,"onUpdate:modelValue":l[56]||(l[56]=o=>v.value.ancho=o),modelModifiers:{number:!0},label:"Ancho (mm)",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(S,{cols:"12",sm:"6"},{default:r(()=>[a(ke,{modelValue:v.value.alto,"onUpdate:modelValue":l[57]||(l[57]=o=>v.value.alto=o),modelModifiers:{number:!0},label:"Alto (mm)",type:"number",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),a(de,null,{default:r(()=>[a(S,{cols:"12",sm:"6"},{default:r(()=>[a(ke,{modelValue:v.value.sizePercent,"onUpdate:modelValue":l[58]||(l[58]=o=>v.value.sizePercent=o),modelModifiers:{number:!0},label:"Porcentaje del espacio (%)",type:"number",min:"10",max:"80",variant:"outlined"},null,8,["modelValue"])]),_:1}),a(S,{cols:"12",sm:"6"},{default:r(()=>[a(ge,{modelValue:v.value.tipo,"onUpdate:modelValue":l[59]||(l[59]=o=>v.value.tipo=o),items:m,"item-title":"nombre","item-value":"id",label:"Tipo de ventana",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),c(v.value.tipo)?(h(),U(de,{key:0},{default:r(()=>[a(S,{cols:"12",sm:"6"},{default:r(()=>[a(ce,{modelValue:v.value.ladoApertura,"onUpdate:modelValue":l[60]||(l[60]=o=>v.value.ladoApertura=o),row:"",density:"compact",label:"Lado apertura"},{default:r(()=>[a(T,{label:"Izquierda",value:"izquierda"}),a(T,{label:"Derecha",value:"derecha"})]),_:1},8,["modelValue"])]),_:1}),a(S,{cols:"12",sm:"6"},{default:r(()=>[a(ce,{modelValue:v.value.direccionApertura,"onUpdate:modelValue":l[61]||(l[61]=o=>v.value.direccionApertura=o),row:"",density:"compact",label:"Direcci√≥n apertura"},{default:r(()=>[a(T,{label:"Interior",value:"interior"}),a(T,{label:"Exterior",value:"exterior"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):ne("",!0),a(de,null,{default:r(()=>[a(S,{cols:"12"},{default:r(()=>[a(Le,{color:"info",variant:"tonal"},{default:r(()=>[be("div",Ll,"Costo estimado: $"+je(Ie.value.toLocaleString()),1),be("div",Dl," ID Tipo: "+je(v.value.tipo)+" | √Årea: "+je(E.value.toFixed(2))+" m¬≤ | Tipo: "+je(ze(v.value.tipo)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Xe,null,{default:r(()=>[a(Na),a(Ue,{color:"blue-darken-1",variant:"text",onClick:l[62]||(l[62]=o=>V.value=!1)},{default:r(()=>l[82]||(l[82]=[Me(" Cancelar ")])),_:1}),a(Ue,{color:"blue-darken-1",variant:"text",onClick:j},{default:r(()=>l[83]||(l[83]=[Me(" Guardar ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}},oo=Object.freeze(Object.defineProperty({__proto__:null,default:$l},Symbol.toStringTag,{value:"Module"}));export{oo as A,$l as _,pl as a,zl as b,Il as c,hl as d,Vl as e,Al as f,ql as g};
